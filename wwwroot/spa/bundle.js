var mD=Object.defineProperty;var Z4=$e=>{throw TypeError($e)};var pD=($e,qe,xt)=>qe in $e?mD($e,qe,{enumerable:!0,configurable:!0,writable:!0,value:xt}):$e[qe]=xt;var nn=($e,qe,xt)=>pD($e,typeof qe!="symbol"?qe+"":qe,xt),a0=($e,qe,xt)=>qe.has($e)||Z4("Cannot "+xt);var O=($e,qe,xt)=>(a0($e,qe,"read from private field"),xt?xt.call($e):qe.get($e)),je=($e,qe,xt)=>qe.has($e)?Z4("Cannot add the same private member more than once"):qe instanceof WeakSet?qe.add($e):qe.set($e,xt),he=($e,qe,xt,Hr)=>(a0($e,qe,"write to private field"),Hr?Hr.call($e,xt):qe.set($e,xt),xt),Fe=($e,qe,xt)=>(a0($e,qe,"access private method"),xt);var Nm=($e,qe,xt,Hr)=>({set _(Hi){he($e,qe,Hi,xt)},get _(){return O($e,qe,Hr)}});System.register([],function($e,qe){"use strict";return{execute:function(){var Or,Jx,VN,Di,_r,ao,GN,so,Rr,no,QN,Li,YN,Ii,ro,ks,zi,ra,Bc,$i,Fs,Vn,KN,Ha,We,Hc,ka,Ui,io,$n,Dr,Vc,lo,oo,Fi,qi,Lr,co,tt,Kc,s0,n0,r0,i0,l0,o0,c0,eS,WN,Gc,tn,Aa,Pi,an,Br,XN,Un,qs,Qc,ZN,Fn,Ir,Va,qn,Pn,Sm,d0,JN,sn,e4,Ft,zr,$r,uo,mo,Ur,po,ho,t4;function xt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hr={exports:{}},Hi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tS=Symbol.for("react.transitional.element"),aS=Symbol.for("react.fragment");function u0(e,t,a){var n=null;if(a!==void 0&&(n=""+a),t.key!==void 0&&(n=""+t.key),"key"in t){a={};for(var r in t)r!=="key"&&(a[r]=t[r])}else a=t;return t=a.ref,{$$typeof:tS,type:e,key:n,ref:t!==void 0?t:null,props:a}}Hi.Fragment=aS,Hi.jsx=u0,Hi.jsxs=u0,Hr.exports=Hi;var s=Hr.exports,m0={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm=Symbol.for("react.transitional.element"),sS=Symbol.for("react.portal"),nS=Symbol.for("react.fragment"),rS=Symbol.for("react.strict_mode"),iS=Symbol.for("react.profiler"),lS=Symbol.for("react.consumer"),oS=Symbol.for("react.context"),cS=Symbol.for("react.forward_ref"),dS=Symbol.for("react.suspense"),uS=Symbol.for("react.memo"),p0=Symbol.for("react.lazy"),mS=Symbol.for("react.activity"),h0=Symbol.iterator;function pS(e){return e===null||typeof e!="object"?null:(e=h0&&e[h0]||e["@@iterator"],typeof e=="function"?e:null)}var f0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x0=Object.assign,g0={};function Vi(e,t,a){this.props=e,this.context=t,this.refs=g0,this.updater=a||f0}Vi.prototype.isReactComponent={},Vi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},Vi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function y0(){}y0.prototype=Vi.prototype;function Em(e,t,a){this.props=e,this.context=t,this.refs=g0,this.updater=a||f0}var km=Em.prototype=new y0;km.constructor=Em,x0(km,Vi.prototype),km.isPureReactComponent=!0;var b0=Array.isArray;function Am(){}var wt={H:null,A:null,T:null,S:null},v0=Object.prototype.hasOwnProperty;function Tm(e,t,a){var n=a.ref;return{$$typeof:Cm,type:e,key:t,ref:n!==void 0?n:null,props:a}}function hS(e,t){return Tm(e.type,t,e.props)}function Mm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cm}function fS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return t[a]})}var j0=/\/+/g;function Om(e,t){return typeof e=="object"&&e!==null&&e.key!=null?fS(""+e.key):t.toString(36)}function xS(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Am,Am):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Gi(e,t,a,n,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"bigint":case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Cm:case sS:l=!0;break;case p0:return l=e._init,Gi(l(e._payload),t,a,n,r)}}if(l)return r=r(e),l=n===""?"."+Om(e,0):n,b0(r)?(a="",l!=null&&(a=l.replace(j0,"$&/")+"/"),Gi(r,t,a,"",function(d){return d})):r!=null&&(Mm(r)&&(r=hS(r,a+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(j0,"$&/")+"/")+l)),t.push(r)),1;l=0;var o=n===""?".":n+":";if(b0(e))for(var c=0;c<e.length;c++)n=e[c],i=o+Om(n,c),l+=Gi(n,t,a,i,r);else if(c=pS(e),typeof c=="function")for(e=c.call(e),c=0;!(n=e.next()).done;)n=n.value,i=o+Om(n,c++),l+=Gi(n,t,a,i,r);else if(i==="object"){if(typeof e.then=="function")return Gi(xS(e),t,a,n,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return l}function Wc(e,t,a){if(e==null)return e;var n=[],r=0;return Gi(e,n,"","",function(i){return t.call(a,i,r++)}),n}function gS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var w0=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},yS={map:Wc,forEach:function(e,t,a){Wc(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return Wc(e,function(){t++}),t},toArray:function(e){return Wc(e,function(t){return t})||[]},only:function(e){if(!Mm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Re.Activity=mS,Re.Children=yS,Re.Component=Vi,Re.Fragment=nS,Re.Profiler=iS,Re.PureComponent=Em,Re.StrictMode=rS,Re.Suspense=dS,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=wt,Re.__COMPILER_RUNTIME={__proto__:null,c:function(e){return wt.H.useMemoCache(e)}},Re.cache=function(e){return function(){return e.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(e,t,a){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=x0({},e.props),r=e.key;if(t!=null)for(i in t.key!==void 0&&(r=""+t.key),t)!v0.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(n[i]=t[i]);var i=arguments.length-2;if(i===1)n.children=a;else if(1<i){for(var l=Array(i),o=0;o<i;o++)l[o]=arguments[o+2];n.children=l}return Tm(e.type,r,n)},Re.createContext=function(e){return e={$$typeof:oS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:lS,_context:e},e},Re.createElement=function(e,t,a){var n,r={},i=null;if(t!=null)for(n in t.key!==void 0&&(i=""+t.key),t)v0.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(r[n]=t[n]);var l=arguments.length-2;if(l===1)r.children=a;else if(1<l){for(var o=Array(l),c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)r[n]===void 0&&(r[n]=l[n]);return Tm(e,i,r)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(e){return{$$typeof:cS,render:e}},Re.isValidElement=Mm,Re.lazy=function(e){return{$$typeof:p0,_payload:{_status:-1,_result:e},_init:gS}},Re.memo=function(e,t){return{$$typeof:uS,type:e,compare:t===void 0?null:t}},Re.startTransition=function(e){var t=wt.T,a={};wt.T=a;try{var n=e(),r=wt.S;r!==null&&r(a,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(Am,w0)}catch(i){w0(i)}finally{t!==null&&a.types!==null&&(t.types=a.types),wt.T=t}},Re.unstable_useCacheRefresh=function(){return wt.H.useCacheRefresh()},Re.use=function(e){return wt.H.use(e)},Re.useActionState=function(e,t,a){return wt.H.useActionState(e,t,a)},Re.useCallback=function(e,t){return wt.H.useCallback(e,t)},Re.useContext=function(e){return wt.H.useContext(e)},Re.useDebugValue=function(){},Re.useDeferredValue=function(e,t){return wt.H.useDeferredValue(e,t)},Re.useEffect=function(e,t){return wt.H.useEffect(e,t)},Re.useEffectEvent=function(e){return wt.H.useEffectEvent(e)},Re.useId=function(){return wt.H.useId()},Re.useImperativeHandle=function(e,t,a){return wt.H.useImperativeHandle(e,t,a)},Re.useInsertionEffect=function(e,t){return wt.H.useInsertionEffect(e,t)},Re.useLayoutEffect=function(e,t){return wt.H.useLayoutEffect(e,t)},Re.useMemo=function(e,t){return wt.H.useMemo(e,t)},Re.useOptimistic=function(e,t){return wt.H.useOptimistic(e,t)},Re.useReducer=function(e,t,a){return wt.H.useReducer(e,t,a)},Re.useRef=function(e){return wt.H.useRef(e)},Re.useState=function(e){return wt.H.useState(e)},Re.useSyncExternalStore=function(e,t,a){return wt.H.useSyncExternalStore(e,t,a)},Re.useTransition=function(){return wt.H.useTransition()},Re.version="19.2.3",m0.exports=Re;var u=m0.exports;const ke=xt(u);var N0={exports:{}},Xc={},S0={exports:{}},C0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,D){var q=I.length;I.push(D);e:for(;0<q;){var K=q-1>>>1,ae=I[K];if(0<r(ae,D))I[K]=D,I[q]=ae,q=K;else break e}}function a(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var D=I[0],q=I.pop();if(q!==D){I[0]=q;e:for(var K=0,ae=I.length,ee=ae>>>1;K<ee;){var re=2*(K+1)-1,P=I[re],J=re+1,ne=I[J];if(0>r(P,q))J<ae&&0>r(ne,P)?(I[K]=ne,I[J]=q,K=J):(I[K]=P,I[re]=q,K=re);else if(J<ae&&0>r(ne,q))I[K]=ne,I[J]=q,K=J;else break e}}return D}function r(I,D){var q=I.sortIndex-D.sortIndex;return q!==0?q:I.id-D.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],d=[],m=1,f=null,p=3,x=!1,h=!1,w=!1,v=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function j(I){for(var D=a(d);D!==null;){if(D.callback===null)n(d);else if(D.startTime<=I)n(d),D.sortIndex=D.expirationTime,t(c,D);else break;D=a(d)}}function E(I){if(w=!1,j(I),!h)if(a(c)!==null)h=!0,k||(k=!0,z());else{var D=a(d);D!==null&&Q(E,D.startTime-I)}}var k=!1,S=-1,N=5,M=-1;function R(){return v?!0:!(e.unstable_now()-M<N)}function A(){if(v=!1,k){var I=e.unstable_now();M=I;var D=!0;try{e:{h=!1,w&&(w=!1,y(S),S=-1),x=!0;var q=p;try{t:{for(j(I),f=a(c);f!==null&&!(f.expirationTime>I&&R());){var K=f.callback;if(typeof K=="function"){f.callback=null,p=f.priorityLevel;var ae=K(f.expirationTime<=I);if(I=e.unstable_now(),typeof ae=="function"){f.callback=ae,j(I),D=!0;break t}f===a(c)&&n(c),j(I)}else n(c);f=a(c)}if(f!==null)D=!0;else{var ee=a(d);ee!==null&&Q(E,ee.startTime-I),D=!1}}break e}finally{f=null,p=q,x=!1}D=void 0}}finally{D?z():k=!1}}}var z;if(typeof b=="function")z=function(){b(A)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,oe=H.port2;H.port1.onmessage=A,z=function(){oe.postMessage(null)}}else z=function(){g(A,0)};function Q(I,D){S=g(function(){I(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(I){switch(p){case 1:case 2:case 3:var D=3;break;default:D=p}var q=p;p=D;try{return I()}finally{p=q}},e.unstable_requestPaint=function(){v=!0},e.unstable_runWithPriority=function(I,D){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var q=p;p=I;try{return D()}finally{p=q}},e.unstable_scheduleCallback=function(I,D,q){var K=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?K+q:K):q=K,I){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=q+ae,I={id:m++,callback:D,priorityLevel:I,startTime:q,expirationTime:ae,sortIndex:-1},q>K?(I.sortIndex=q,t(d,I),a(c)===null&&I===a(d)&&(w?(y(S),S=-1):w=!0,Q(E,q-K))):(I.sortIndex=ae,t(c,I),h||x||(h=!0,k||(k=!0,z()))),I},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(I){var D=p;return function(){var q=p;p=D;try{return I.apply(this,arguments)}finally{p=q}}}})(C0),S0.exports=C0;var bS=S0.exports,E0={exports:{}},ja={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vS=u;function k0(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Gn(){}var wa={d:{f:Gn,r:function(){throw Error(k0(522))},D:Gn,C:Gn,L:Gn,m:Gn,X:Gn,S:Gn,M:Gn},p:0,findDOMNode:null},jS=Symbol.for("react.portal");function wS(e,t,a){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jS,key:n==null?null:""+n,children:e,containerInfo:t,implementation:a}}var fo=vS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Zc(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}ja.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=wa,ja.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(k0(299));return wS(e,t,null,a)},ja.flushSync=function(e){var t=fo.T,a=wa.p;try{if(fo.T=null,wa.p=2,e)return e()}finally{fo.T=t,wa.p=a,wa.d.f()}},ja.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,wa.d.C(e,t))},ja.prefetchDNS=function(e){typeof e=="string"&&wa.d.D(e)},ja.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var a=t.as,n=Zc(a,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;a==="style"?wa.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:r,fetchPriority:i}):a==="script"&&wa.d.X(e,{crossOrigin:n,integrity:r,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}},ja.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var a=Zc(t.as,t.crossOrigin);wa.d.M(e,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&wa.d.M(e)},ja.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var a=t.as,n=Zc(a,t.crossOrigin);wa.d.L(e,a,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}},ja.preloadModule=function(e,t){if(typeof e=="string")if(t){var a=Zc(t.as,t.crossOrigin);wa.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else wa.d.m(e)},ja.requestFormReset=function(e){wa.d.r(e)},ja.unstable_batchedUpdates=function(e,t){return e(t)},ja.useFormState=function(e,t,a){return fo.H.useFormState(e,t,a)},ja.useFormStatus=function(){return fo.H.useHostTransitionStatus()},ja.version="19.2.3";function A0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(A0)}catch(e){console.error(e)}}A0(),E0.exports=ja;var NS=E0.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kt=bS,T0=u,SS=NS;function X(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function M0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xo(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function O0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _0(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function R0(e){if(xo(e)!==e)throw Error(X(188))}function CS(e){var t=e.alternate;if(!t){if(t=xo(e),t===null)throw Error(X(188));return t!==e?null:e}for(var a=e,n=t;;){var r=a.return;if(r===null)break;var i=r.alternate;if(i===null){if(n=r.return,n!==null){a=n;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===a)return R0(r),e;if(i===n)return R0(r),t;i=i.sibling}throw Error(X(188))}if(a.return!==n.return)a=r,n=i;else{for(var l=!1,o=r.child;o;){if(o===a){l=!0,a=r,n=i;break}if(o===n){l=!0,n=r,a=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===a){l=!0,a=i,n=r;break}if(o===n){l=!0,n=i,a=r;break}o=o.sibling}if(!l)throw Error(X(189))}}if(a.alternate!==n)throw Error(X(190))}if(a.tag!==3)throw Error(X(188));return a.stateNode.current===a?e:t}function D0(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=D0(e),t!==null)return t;e=e.sibling}return null}var Nt=Object.assign,ES=Symbol.for("react.element"),Jc=Symbol.for("react.transitional.element"),go=Symbol.for("react.portal"),Qi=Symbol.for("react.fragment"),L0=Symbol.for("react.strict_mode"),_m=Symbol.for("react.profiler"),I0=Symbol.for("react.consumer"),rn=Symbol.for("react.context"),Rm=Symbol.for("react.forward_ref"),Dm=Symbol.for("react.suspense"),Lm=Symbol.for("react.suspense_list"),Im=Symbol.for("react.memo"),Qn=Symbol.for("react.lazy"),zm=Symbol.for("react.activity"),kS=Symbol.for("react.memo_cache_sentinel"),z0=Symbol.iterator;function yo(e){return e===null||typeof e!="object"?null:(e=z0&&e[z0]||e["@@iterator"],typeof e=="function"?e:null)}var AS=Symbol.for("react.client.reference");function $m(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===AS?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qi:return"Fragment";case _m:return"Profiler";case L0:return"StrictMode";case Dm:return"Suspense";case Lm:return"SuspenseList";case zm:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case go:return"Portal";case rn:return e.displayName||"Context";case I0:return(e._context.displayName||"Context")+".Consumer";case Rm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Im:return t=e.displayName||null,t!==null?t:$m(e.type)||"Memo";case Qn:t=e._payload,e=e._init;try{return $m(e(t))}catch{}}return null}var bo=Array.isArray,Ae=T0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Je=SS.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Vr={pending:!1,data:null,method:null,action:null},Um=[],Yi=-1;function Bs(e){return{current:e}}function Zt(e){0>Yi||(e.current=Um[Yi],Um[Yi]=null,Yi--)}function gt(e,t){Yi++,Um[Yi]=e.current,e.current=t}var Hs=Bs(null),vo=Bs(null),Yn=Bs(null),ed=Bs(null);function td(e,t){switch(gt(Yn,t),gt(vo,e),gt(Hs,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ov(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ov(t),e=cv(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Zt(Hs),gt(Hs,e)}function Ki(){Zt(Hs),Zt(vo),Zt(Yn)}function Fm(e){e.memoizedState!==null&&gt(ed,e);var t=Hs.current,a=cv(t,e.type);t!==a&&(gt(vo,e),gt(Hs,a))}function ad(e){vo.current===e&&(Zt(Hs),Zt(vo)),ed.current===e&&(Zt(ed),cc._currentValue=Vr)}var qm,$0;function Gr(e){if(qm===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);qm=t&&t[1]||"",$0=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qm+e+$0}var Pm=!1;function Bm(e,t){if(!e||Pm)return"";Pm=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(x){var p=x}Reflect.construct(e,[],f)}else{try{f.call()}catch(x){p=x}e.call(f.prototype)}}else{try{throw Error()}catch(x){p=x}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(x){if(x&&p&&typeof x.stack=="string")return[x.stack,p.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),l=i[0],o=i[1];if(l&&o){var c=l.split(`
`),d=o.split(`
`);for(r=n=0;n<c.length&&!c[n].includes("DetermineComponentFrameRoot");)n++;for(;r<d.length&&!d[r].includes("DetermineComponentFrameRoot");)r++;if(n===c.length||r===d.length)for(n=c.length-1,r=d.length-1;1<=n&&0<=r&&c[n]!==d[r];)r--;for(;1<=n&&0<=r;n--,r--)if(c[n]!==d[r]){if(n!==1||r!==1)do if(n--,r--,0>r||c[n]!==d[r]){var m=`
`+c[n].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),m}while(1<=n&&0<=r);break}}}finally{Pm=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Gr(a):""}function TS(e,t){switch(e.tag){case 26:case 27:case 5:return Gr(e.type);case 16:return Gr("Lazy");case 13:return e.child!==t&&t!==null?Gr("Suspense Fallback"):Gr("Suspense");case 19:return Gr("SuspenseList");case 0:case 15:return Bm(e.type,!1);case 11:return Bm(e.type.render,!1);case 1:return Bm(e.type,!0);case 31:return Gr("Activity");default:return""}}function U0(e){try{var t="",a=null;do t+=TS(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var Hm=Object.prototype.hasOwnProperty,Vm=Kt.unstable_scheduleCallback,Gm=Kt.unstable_cancelCallback,MS=Kt.unstable_shouldYield,OS=Kt.unstable_requestPaint,Ga=Kt.unstable_now,_S=Kt.unstable_getCurrentPriorityLevel,F0=Kt.unstable_ImmediatePriority,q0=Kt.unstable_UserBlockingPriority,sd=Kt.unstable_NormalPriority,RS=Kt.unstable_LowPriority,P0=Kt.unstable_IdlePriority,DS=Kt.log,LS=Kt.unstable_setDisableYieldValue,jo=null,Qa=null;function Kn(e){if(typeof DS=="function"&&LS(e),Qa&&typeof Qa.setStrictMode=="function")try{Qa.setStrictMode(jo,e)}catch{}}var Ya=Math.clz32?Math.clz32:$S,IS=Math.log,zS=Math.LN2;function $S(e){return e>>>=0,e===0?32:31-(IS(e)/zS|0)|0}var nd=256,rd=262144,id=4194304;function Qr(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ld(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var o=n&134217727;return o!==0?(n=o&~i,n!==0?r=Qr(n):(l&=o,l!==0?r=Qr(l):a||(a=o&~e,a!==0&&(r=Qr(a))))):(o=n&~i,o!==0?r=Qr(o):l!==0?r=Qr(l):a||(a=n&~e,a!==0&&(r=Qr(a)))),r===0?0:t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:r}function wo(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function US(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function B0(){var e=id;return id<<=1,!(id&62914560)&&(id=4194304),e}function Qm(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function No(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function FS(e,t,a,n,r,i){var l=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var o=e.entanglements,c=e.expirationTimes,d=e.hiddenUpdates;for(a=l&~a;0<a;){var m=31-Ya(a),f=1<<m;o[m]=0,c[m]=-1;var p=d[m];if(p!==null)for(d[m]=null,m=0;m<p.length;m++){var x=p[m];x!==null&&(x.lane&=-536870913)}a&=~f}n!==0&&H0(e,n,0),i!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=i&~(l&~t))}function H0(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-Ya(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function V0(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-Ya(a),r=1<<n;r&t|e[n]&t&&(e[n]|=t),a&=~r}}function G0(e,t){var a=t&-t;return a=a&42?1:Ym(a),a&(e.suspendedLanes|t)?0:a}function Ym(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Km(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Q0(){var e=Je.p;return e!==0?e:(e=window.event,e===void 0?32:_v(e.type))}function Y0(e,t){var a=Je.p;try{return Je.p=e,t()}finally{Je.p=a}}var Wn=Math.random().toString(36).slice(2),ia="__reactFiber$"+Wn,_a="__reactProps$"+Wn,Wi="__reactContainer$"+Wn,Wm="__reactEvents$"+Wn,qS="__reactListeners$"+Wn,PS="__reactHandles$"+Wn,K0="__reactResources$"+Wn,So="__reactMarker$"+Wn;function Xm(e){delete e[ia],delete e[_a],delete e[Wm],delete e[qS],delete e[PS]}function Xi(e){var t=e[ia];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Wi]||a[ia]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=xv(e);e!==null;){if(a=e[ia])return a;e=xv(e)}return t}e=a,a=e.parentNode}return null}function Zi(e){if(e=e[ia]||e[Wi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Co(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(X(33))}function Ji(e){var t=e[K0];return t||(t=e[K0]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Jt(e){e[So]=!0}var W0=new Set,X0={};function Yr(e,t){el(e,t),el(e+"Capture",t)}function el(e,t){for(X0[e]=t,e=0;e<t.length;e++)W0.add(t[e])}var BS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Z0={},J0={};function HS(e){return Hm.call(J0,e)?!0:Hm.call(Z0,e)?!1:BS.test(e)?J0[e]=!0:(Z0[e]=!0,!1)}function od(e,t,a){if(HS(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function cd(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ln(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function ms(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function eg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function VS(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(l){a=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(l){a=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zm(e){if(!e._valueTracker){var t=eg(e)?"checked":"value";e._valueTracker=VS(e,t,""+e[t])}}function tg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=eg(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function dd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var GS=/[\n"\\]/g;function ps(e){return e.replace(GS,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Jm(e,t,a,n,r,i,l,o){e.name="",l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.type=l:e.removeAttribute("type"),t!=null?l==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ms(t)):e.value!==""+ms(t)&&(e.value=""+ms(t)):l!=="submit"&&l!=="reset"||e.removeAttribute("value"),t!=null?ep(e,l,ms(t)):a!=null?ep(e,l,ms(a)):n!=null&&e.removeAttribute("value"),r==null&&i!=null&&(e.defaultChecked=!!i),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+ms(o):e.removeAttribute("name")}function ag(e,t,a,n,r,i,l,o){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Zm(e);return}a=a!=null?""+ms(a):"",t=t!=null?""+ms(t):a,o||t===e.value||(e.value=t),e.defaultValue=t}n=n??r,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=o?e.checked:!!n,e.defaultChecked=!!n,l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.name=l),Zm(e)}function ep(e,t,a){t==="number"&&dd(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function tl(e,t,a,n){if(e=e.options,t){t={};for(var r=0;r<a.length;r++)t["$"+a[r]]=!0;for(a=0;a<e.length;a++)r=t.hasOwnProperty("$"+e[a].value),e[a].selected!==r&&(e[a].selected=r),r&&n&&(e[a].defaultSelected=!0)}else{for(a=""+ms(a),t=null,r=0;r<e.length;r++){if(e[r].value===a){e[r].selected=!0,n&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function sg(e,t,a){if(t!=null&&(t=""+ms(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+ms(a):""}function ng(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(X(92));if(bo(n)){if(1<n.length)throw Error(X(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=ms(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),Zm(e)}function al(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var QS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rg(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||QS.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function ig(e,t,a){if(t!=null&&typeof t!="object")throw Error(X(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var r in t)n=t[r],t.hasOwnProperty(r)&&a[r]!==n&&rg(e,r,n)}else for(var i in t)t.hasOwnProperty(i)&&rg(e,i,t[i])}function tp(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var YS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),KS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ud(e){return KS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function on(){}var ap=null;function sp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sl=null,nl=null;function lg(e){var t=Zi(e);if(t&&(e=t.stateNode)){var a=e[_a]||null;e:switch(e=t.stateNode,t.type){case"input":if(Jm(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ps(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var r=n[_a]||null;if(!r)throw Error(X(90));Jm(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&tg(n)}break e;case"textarea":sg(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&tl(e,!!a.multiple,t,!1)}}}var np=!1;function og(e,t,a){if(np)return e(t,a);np=!0;try{var n=e(t);return n}finally{if(np=!1,(sl!==null||nl!==null)&&(Zd(),sl&&(t=sl,e=nl,nl=sl=null,lg(t),e)))for(t=0;t<e.length;t++)lg(e[t])}}function Eo(e,t){var a=e.stateNode;if(a===null)return null;var n=a[_a]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(X(231,t,typeof a));return a}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rp=!1;if(cn)try{var ko={};Object.defineProperty(ko,"passive",{get:function(){rp=!0}}),window.addEventListener("test",ko,ko),window.removeEventListener("test",ko,ko)}catch{rp=!1}var Xn=null,ip=null,md=null;function cg(){if(md)return md;var e,t=ip,a=t.length,n,r="value"in Xn?Xn.value:Xn.textContent,i=r.length;for(e=0;e<a&&t[e]===r[e];e++);var l=a-e;for(n=1;n<=l&&t[a-n]===r[i-n];n++);return md=r.slice(e,1<n?1-n:void 0)}function pd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hd(){return!0}function dg(){return!1}function Ra(e){function t(a,n,r,i,l){this._reactName=a,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(a=e[o],this[o]=a?a(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?hd:dg,this.isPropagationStopped=dg,this}return Nt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=hd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=hd)},persist:function(){},isPersistent:hd}),t}var Kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fd=Ra(Kr),Ao=Nt({},Kr,{view:0,detail:0}),WS=Ra(Ao),lp,op,To,xd=Nt({},Ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==To&&(To&&e.type==="mousemove"?(lp=e.screenX-To.screenX,op=e.screenY-To.screenY):op=lp=0,To=e),lp)},movementY:function(e){return"movementY"in e?e.movementY:op}}),ug=Ra(xd),XS=Nt({},xd,{dataTransfer:0}),ZS=Ra(XS),JS=Nt({},Ao,{relatedTarget:0}),cp=Ra(JS),eC=Nt({},Kr,{animationName:0,elapsedTime:0,pseudoElement:0}),tC=Ra(eC),aC=Nt({},Kr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sC=Ra(aC),nC=Nt({},Kr,{data:0}),mg=Ra(nC),rC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lC[e])?!!t[e]:!1}function dp(){return oC}var cC=Nt({},Ao,{key:function(e){if(e.key){var t=rC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?iC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dp,charCode:function(e){return e.type==="keypress"?pd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dC=Ra(cC),uC=Nt({},xd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pg=Ra(uC),mC=Nt({},Ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dp}),pC=Ra(mC),hC=Nt({},Kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),fC=Ra(hC),xC=Nt({},xd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gC=Ra(xC),yC=Nt({},Kr,{newState:0,oldState:0}),bC=Ra(yC),vC=[9,13,27,32],up=cn&&"CompositionEvent"in window,Mo=null;cn&&"documentMode"in document&&(Mo=document.documentMode);var jC=cn&&"TextEvent"in window&&!Mo,hg=cn&&(!up||Mo&&8<Mo&&11>=Mo),fg=" ",xg=!1;function gg(e,t){switch(e){case"keyup":return vC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rl=!1;function wC(e,t){switch(e){case"compositionend":return yg(t);case"keypress":return t.which!==32?null:(xg=!0,fg);case"textInput":return e=t.data,e===fg&&xg?null:e;default:return null}}function NC(e,t){if(rl)return e==="compositionend"||!up&&gg(e,t)?(e=cg(),md=ip=Xn=null,rl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hg&&t.locale!=="ko"?null:t.data;default:return null}}var SC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!SC[e.type]:t==="textarea"}function vg(e,t,a,n){sl?nl?nl.push(n):nl=[n]:sl=n,t=ru(t,"onChange"),0<t.length&&(a=new fd("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Oo=null,_o=null;function CC(e){av(e,0)}function gd(e){var t=Co(e);if(tg(t))return e}function jg(e,t){if(e==="change")return t}var wg=!1;if(cn){var mp;if(cn){var pp="oninput"in document;if(!pp){var Ng=document.createElement("div");Ng.setAttribute("oninput","return;"),pp=typeof Ng.oninput=="function"}mp=pp}else mp=!1;wg=mp&&(!document.documentMode||9<document.documentMode)}function Sg(){Oo&&(Oo.detachEvent("onpropertychange",Cg),_o=Oo=null)}function Cg(e){if(e.propertyName==="value"&&gd(_o)){var t=[];vg(t,_o,e,sp(e)),og(CC,t)}}function EC(e,t,a){e==="focusin"?(Sg(),Oo=t,_o=a,Oo.attachEvent("onpropertychange",Cg)):e==="focusout"&&Sg()}function kC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gd(_o)}function AC(e,t){if(e==="click")return gd(t)}function TC(e,t){if(e==="input"||e==="change")return gd(t)}function MC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ka=typeof Object.is=="function"?Object.is:MC;function Ro(e,t){if(Ka(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var r=a[n];if(!Hm.call(t,r)||!Ka(e[r],t[r]))return!1}return!0}function Eg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kg(e,t){var a=Eg(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Eg(a)}}function Ag(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ag(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Tg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=dd(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=dd(e.document)}return t}function hp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var OC=cn&&"documentMode"in document&&11>=document.documentMode,il=null,fp=null,Do=null,xp=!1;function Mg(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xp||il==null||il!==dd(n)||(n=il,"selectionStart"in n&&hp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Do&&Ro(Do,n)||(Do=n,n=ru(fp,"onSelect"),0<n.length&&(t=new fd("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=il)))}function Wr(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var ll={animationend:Wr("Animation","AnimationEnd"),animationiteration:Wr("Animation","AnimationIteration"),animationstart:Wr("Animation","AnimationStart"),transitionrun:Wr("Transition","TransitionRun"),transitionstart:Wr("Transition","TransitionStart"),transitioncancel:Wr("Transition","TransitionCancel"),transitionend:Wr("Transition","TransitionEnd")},gp={},Og={};cn&&(Og=document.createElement("div").style,"AnimationEvent"in window||(delete ll.animationend.animation,delete ll.animationiteration.animation,delete ll.animationstart.animation),"TransitionEvent"in window||delete ll.transitionend.transition);function Xr(e){if(gp[e])return gp[e];if(!ll[e])return e;var t=ll[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Og)return gp[e]=t[a];return e}var _g=Xr("animationend"),Rg=Xr("animationiteration"),Dg=Xr("animationstart"),_C=Xr("transitionrun"),RC=Xr("transitionstart"),DC=Xr("transitioncancel"),Lg=Xr("transitionend"),Ig=new Map,yp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yp.push("scrollEnd");function Os(e,t){Ig.set(e,t),Yr(t,[e])}var yd=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},hs=[],ol=0,bp=0;function bd(){for(var e=ol,t=bp=ol=0;t<e;){var a=hs[t];hs[t++]=null;var n=hs[t];hs[t++]=null;var r=hs[t];hs[t++]=null;var i=hs[t];if(hs[t++]=null,n!==null&&r!==null){var l=n.pending;l===null?r.next=r:(r.next=l.next,l.next=r),n.pending=r}i!==0&&zg(a,r,i)}}function vd(e,t,a,n){hs[ol++]=e,hs[ol++]=t,hs[ol++]=a,hs[ol++]=n,bp|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function vp(e,t,a,n){return vd(e,t,a,n),jd(e)}function Zr(e,t){return vd(e,null,null,t),jd(e)}function zg(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var r=!1,i=e.return;i!==null;)i.childLanes|=a,n=i.alternate,n!==null&&(n.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(r=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,r&&t!==null&&(r=31-Ya(a),e=i.hiddenUpdates,n=e[r],n===null?e[r]=[t]:n.push(t),t.lane=a|536870912),i):null}function jd(e){if(50<ac)throw ac=0,Th=null,Error(X(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var cl={};function LC(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wa(e,t,a,n){return new LC(e,t,a,n)}function jp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dn(e,t){var a=e.alternate;return a===null?(a=Wa(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function $g(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function wd(e,t,a,n,r,i){var l=0;if(n=e,typeof e=="function")jp(e)&&(l=1);else if(typeof e=="string")l=F5(e,a,Hs.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case zm:return e=Wa(31,a,t,r),e.elementType=zm,e.lanes=i,e;case Qi:return Jr(a.children,r,i,t);case L0:l=8,r|=24;break;case _m:return e=Wa(12,a,t,r|2),e.elementType=_m,e.lanes=i,e;case Dm:return e=Wa(13,a,t,r),e.elementType=Dm,e.lanes=i,e;case Lm:return e=Wa(19,a,t,r),e.elementType=Lm,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rn:l=10;break e;case I0:l=9;break e;case Rm:l=11;break e;case Im:l=14;break e;case Qn:l=16,n=null;break e}l=29,a=Error(X(130,e===null?"null":typeof e,"")),n=null}return t=Wa(l,a,t,r),t.elementType=e,t.type=n,t.lanes=i,t}function Jr(e,t,a,n){return e=Wa(7,e,n,t),e.lanes=a,e}function wp(e,t,a){return e=Wa(6,e,null,t),e.lanes=a,e}function Ug(e){var t=Wa(18,null,null,0);return t.stateNode=e,t}function Np(e,t,a){return t=Wa(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Fg=new WeakMap;function fs(e,t){if(typeof e=="object"&&e!==null){var a=Fg.get(e);return a!==void 0?a:(t={value:e,source:t,stack:U0(t)},Fg.set(e,t),t)}return{value:e,source:t,stack:U0(t)}}var dl=[],ul=0,Nd=null,Lo=0,xs=[],gs=0,Zn=null,Vs=1,Gs="";function un(e,t){dl[ul++]=Lo,dl[ul++]=Nd,Nd=e,Lo=t}function qg(e,t,a){xs[gs++]=Vs,xs[gs++]=Gs,xs[gs++]=Zn,Zn=e;var n=Vs;e=Gs;var r=32-Ya(n)-1;n&=~(1<<r),a+=1;var i=32-Ya(t)+r;if(30<i){var l=r-r%5;i=(n&(1<<l)-1).toString(32),n>>=l,r-=l,Vs=1<<32-Ya(t)+r|a<<r|n,Gs=i+e}else Vs=1<<i|a<<r|n,Gs=e}function Sp(e){e.return!==null&&(un(e,1),qg(e,1,0))}function Cp(e){for(;e===Nd;)Nd=dl[--ul],dl[ul]=null,Lo=dl[--ul],dl[ul]=null;for(;e===Zn;)Zn=xs[--gs],xs[gs]=null,Gs=xs[--gs],xs[gs]=null,Vs=xs[--gs],xs[gs]=null}function Pg(e,t){xs[gs++]=Vs,xs[gs++]=Gs,xs[gs++]=Zn,Vs=t.id,Gs=t.overflow,Zn=e}var la=null,St=null,Ke=!1,Jn=null,ys=!1,Ep=Error(X(519));function er(e){var t=Error(X(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Io(fs(t,e)),Ep}function Bg(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[ia]=e,t[_a]=n,a){case"dialog":Ge("cancel",t),Ge("close",t);break;case"iframe":case"object":case"embed":Ge("load",t);break;case"video":case"audio":for(a=0;a<nc.length;a++)Ge(nc[a],t);break;case"source":Ge("error",t);break;case"img":case"image":case"link":Ge("error",t),Ge("load",t);break;case"details":Ge("toggle",t);break;case"input":Ge("invalid",t),ag(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":Ge("invalid",t);break;case"textarea":Ge("invalid",t),ng(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||iv(t.textContent,a)?(n.popover!=null&&(Ge("beforetoggle",t),Ge("toggle",t)),n.onScroll!=null&&Ge("scroll",t),n.onScrollEnd!=null&&Ge("scrollend",t),n.onClick!=null&&(t.onclick=on),t=!0):t=!1,t||er(e,!0)}function Hg(e){for(la=e.return;la;)switch(la.tag){case 5:case 31:case 13:ys=!1;return;case 27:case 3:ys=!0;return;default:la=la.return}}function ml(e){if(e!==la)return!1;if(!Ke)return Hg(e),Ke=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Hh(e.type,e.memoizedProps)),a=!a),a&&St&&er(e),Hg(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));St=fv(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));St=fv(e)}else t===27?(t=St,hr(e.type)?(e=Kh,Kh=null,St=e):St=t):St=la?vs(e.stateNode.nextSibling):null;return!0}function ei(){St=la=null,Ke=!1}function kp(){var e=Jn;return e!==null&&(za===null?za=e:za.push.apply(za,e),Jn=null),e}function Io(e){Jn===null?Jn=[e]:Jn.push(e)}var Ap=Bs(null),ti=null,mn=null;function tr(e,t,a){gt(Ap,t._currentValue),t._currentValue=a}function pn(e){e._currentValue=Ap.current,Zt(Ap)}function Tp(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function Mp(e,t,a,n){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var i=r.dependencies;if(i!==null){var l=r.child;i=i.firstContext;e:for(;i!==null;){var o=i;i=r;for(var c=0;c<t.length;c++)if(o.context===t[c]){i.lanes|=a,o=i.alternate,o!==null&&(o.lanes|=a),Tp(i.return,a,e),n||(l=null);break e}i=o.next}}else if(r.tag===18){if(l=r.return,l===null)throw Error(X(341));l.lanes|=a,i=l.alternate,i!==null&&(i.lanes|=a),Tp(l,a,e),l=null}else l=r.child;if(l!==null)l.return=r;else for(l=r;l!==null;){if(l===e){l=null;break}if(r=l.sibling,r!==null){r.return=l.return,l=r;break}l=l.return}r=l}}function pl(e,t,a,n){e=null;for(var r=t,i=!1;r!==null;){if(!i){if(r.flags&524288)i=!0;else if(r.flags&262144)break}if(r.tag===10){var l=r.alternate;if(l===null)throw Error(X(387));if(l=l.memoizedProps,l!==null){var o=r.type;Ka(r.pendingProps.value,l.value)||(e!==null?e.push(o):e=[o])}}else if(r===ed.current){if(l=r.alternate,l===null)throw Error(X(387));l.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(cc):e=[cc])}r=r.return}e!==null&&Mp(t,e,a,n),t.flags|=262144}function Sd(e){for(e=e.firstContext;e!==null;){if(!Ka(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ai(e){ti=e,mn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function oa(e){return Vg(ti,e)}function Cd(e,t){return ti===null&&ai(e),Vg(e,t)}function Vg(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},mn===null){if(e===null)throw Error(X(308));mn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else mn=mn.next=t;return a}var IC=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},zC=Kt.unstable_scheduleCallback,$C=Kt.unstable_NormalPriority,Bt={$$typeof:rn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Op(){return{controller:new IC,data:new Map,refCount:0}}function zo(e){e.refCount--,e.refCount===0&&zC($C,function(){e.controller.abort()})}var $o=null,_p=0,hl=0,fl=null;function UC(e,t){if($o===null){var a=$o=[];_p=0,hl=Lh(),fl={status:"pending",value:void 0,then:function(n){a.push(n)}}}return _p++,t.then(Gg,Gg),t}function Gg(){if(--_p===0&&$o!==null){fl!==null&&(fl.status="fulfilled");var e=$o;$o=null,hl=0,fl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function FC(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(r){a.push(r)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var r=0;r<a.length;r++)(0,a[r])(t)},function(r){for(n.status="rejected",n.reason=r,r=0;r<a.length;r++)(0,a[r])(void 0)}),n}var Qg=Ae.S;Ae.S=function(e,t){Mb=Ga(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&UC(e,t),Qg!==null&&Qg(e,t)};var si=Bs(null);function Rp(){var e=si.current;return e!==null?e:mt.pooledCache}function Ed(e,t){t===null?gt(si,si.current):gt(si,t.pool)}function Yg(){var e=Rp();return e===null?null:{parent:Bt._currentValue,pool:e}}var xl=Error(X(460)),Dp=Error(X(474)),kd=Error(X(542)),Ad={then:function(){}};function Kg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Wg(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(on,on),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Zg(e),e;default:if(typeof t.status=="string")t.then(on,on);else{if(e=mt,e!==null&&100<e.shellSuspendCounter)throw Error(X(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=n}},function(n){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Zg(e),e}throw ri=t,xl}}function ni(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ri=a,xl):a}}var ri=null;function Xg(){if(ri===null)throw Error(X(459));var e=ri;return ri=null,e}function Zg(e){if(e===xl||e===kd)throw Error(X(483))}var gl=null,Uo=0;function Td(e){var t=Uo;return Uo+=1,gl===null&&(gl=[]),Wg(gl,e,t)}function Fo(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Md(e,t){throw t.$$typeof===ES?Error(X(525)):(e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Jg(e){function t(g,y){if(e){var b=g.deletions;b===null?(g.deletions=[y],g.flags|=16):b.push(y)}}function a(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function n(g){for(var y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function r(g,y){return g=dn(g,y),g.index=0,g.sibling=null,g}function i(g,y,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<y?(g.flags|=67108866,y):b):(g.flags|=67108866,y)):(g.flags|=1048576,y)}function l(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function o(g,y,b,j){return y===null||y.tag!==6?(y=wp(b,g.mode,j),y.return=g,y):(y=r(y,b),y.return=g,y)}function c(g,y,b,j){var E=b.type;return E===Qi?m(g,y,b.props.children,j,b.key):y!==null&&(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Qn&&ni(E)===y.type)?(y=r(y,b.props),Fo(y,b),y.return=g,y):(y=wd(b.type,b.key,b.props,null,g.mode,j),Fo(y,b),y.return=g,y)}function d(g,y,b,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Np(b,g.mode,j),y.return=g,y):(y=r(y,b.children||[]),y.return=g,y)}function m(g,y,b,j,E){return y===null||y.tag!==7?(y=Jr(b,g.mode,j,E),y.return=g,y):(y=r(y,b),y.return=g,y)}function f(g,y,b){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=wp(""+y,g.mode,b),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Jc:return b=wd(y.type,y.key,y.props,null,g.mode,b),Fo(b,y),b.return=g,b;case go:return y=Np(y,g.mode,b),y.return=g,y;case Qn:return y=ni(y),f(g,y,b)}if(bo(y)||yo(y))return y=Jr(y,g.mode,b,null),y.return=g,y;if(typeof y.then=="function")return f(g,Td(y),b);if(y.$$typeof===rn)return f(g,Cd(g,y),b);Md(g,y)}return null}function p(g,y,b,j){var E=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return E!==null?null:o(g,y,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Jc:return b.key===E?c(g,y,b,j):null;case go:return b.key===E?d(g,y,b,j):null;case Qn:return b=ni(b),p(g,y,b,j)}if(bo(b)||yo(b))return E!==null?null:m(g,y,b,j,null);if(typeof b.then=="function")return p(g,y,Td(b),j);if(b.$$typeof===rn)return p(g,y,Cd(g,b),j);Md(g,b)}return null}function x(g,y,b,j,E){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return g=g.get(b)||null,o(y,g,""+j,E);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Jc:return g=g.get(j.key===null?b:j.key)||null,c(y,g,j,E);case go:return g=g.get(j.key===null?b:j.key)||null,d(y,g,j,E);case Qn:return j=ni(j),x(g,y,b,j,E)}if(bo(j)||yo(j))return g=g.get(b)||null,m(y,g,j,E,null);if(typeof j.then=="function")return x(g,y,b,Td(j),E);if(j.$$typeof===rn)return x(g,y,b,Cd(y,j),E);Md(y,j)}return null}function h(g,y,b,j){for(var E=null,k=null,S=y,N=y=0,M=null;S!==null&&N<b.length;N++){S.index>N?(M=S,S=null):M=S.sibling;var R=p(g,S,b[N],j);if(R===null){S===null&&(S=M);break}e&&S&&R.alternate===null&&t(g,S),y=i(R,y,N),k===null?E=R:k.sibling=R,k=R,S=M}if(N===b.length)return a(g,S),Ke&&un(g,N),E;if(S===null){for(;N<b.length;N++)S=f(g,b[N],j),S!==null&&(y=i(S,y,N),k===null?E=S:k.sibling=S,k=S);return Ke&&un(g,N),E}for(S=n(S);N<b.length;N++)M=x(S,g,N,b[N],j),M!==null&&(e&&M.alternate!==null&&S.delete(M.key===null?N:M.key),y=i(M,y,N),k===null?E=M:k.sibling=M,k=M);return e&&S.forEach(function(A){return t(g,A)}),Ke&&un(g,N),E}function w(g,y,b,j){if(b==null)throw Error(X(151));for(var E=null,k=null,S=y,N=y=0,M=null,R=b.next();S!==null&&!R.done;N++,R=b.next()){S.index>N?(M=S,S=null):M=S.sibling;var A=p(g,S,R.value,j);if(A===null){S===null&&(S=M);break}e&&S&&A.alternate===null&&t(g,S),y=i(A,y,N),k===null?E=A:k.sibling=A,k=A,S=M}if(R.done)return a(g,S),Ke&&un(g,N),E;if(S===null){for(;!R.done;N++,R=b.next())R=f(g,R.value,j),R!==null&&(y=i(R,y,N),k===null?E=R:k.sibling=R,k=R);return Ke&&un(g,N),E}for(S=n(S);!R.done;N++,R=b.next())R=x(S,g,N,R.value,j),R!==null&&(e&&R.alternate!==null&&S.delete(R.key===null?N:R.key),y=i(R,y,N),k===null?E=R:k.sibling=R,k=R);return e&&S.forEach(function(z){return t(g,z)}),Ke&&un(g,N),E}function v(g,y,b,j){if(typeof b=="object"&&b!==null&&b.type===Qi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Jc:e:{for(var E=b.key;y!==null;){if(y.key===E){if(E=b.type,E===Qi){if(y.tag===7){a(g,y.sibling),j=r(y,b.props.children),j.return=g,g=j;break e}}else if(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Qn&&ni(E)===y.type){a(g,y.sibling),j=r(y,b.props),Fo(j,b),j.return=g,g=j;break e}a(g,y);break}else t(g,y);y=y.sibling}b.type===Qi?(j=Jr(b.props.children,g.mode,j,b.key),j.return=g,g=j):(j=wd(b.type,b.key,b.props,null,g.mode,j),Fo(j,b),j.return=g,g=j)}return l(g);case go:e:{for(E=b.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){a(g,y.sibling),j=r(y,b.children||[]),j.return=g,g=j;break e}else{a(g,y);break}else t(g,y);y=y.sibling}j=Np(b,g.mode,j),j.return=g,g=j}return l(g);case Qn:return b=ni(b),v(g,y,b,j)}if(bo(b))return h(g,y,b,j);if(yo(b)){if(E=yo(b),typeof E!="function")throw Error(X(150));return b=E.call(b),w(g,y,b,j)}if(typeof b.then=="function")return v(g,y,Td(b),j);if(b.$$typeof===rn)return v(g,y,Cd(g,b),j);Md(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,y!==null&&y.tag===6?(a(g,y.sibling),j=r(y,b),j.return=g,g=j):(a(g,y),j=wp(b,g.mode,j),j.return=g,g=j),l(g)):a(g,y)}return function(g,y,b,j){try{Uo=0;var E=v(g,y,b,j);return gl=null,E}catch(S){if(S===xl||S===kd)throw S;var k=Wa(29,S,null,g.mode);return k.lanes=j,k.return=g,k}finally{}}}var ii=Jg(!0),ey=Jg(!1),ar=!1;function Lp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ip(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function sr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function nr(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,et&2){var r=n.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),n.pending=t,t=jd(e),zg(e,null,a),t}return vd(e,n,t,a),jd(e)}function qo(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,V0(e,a)}}function zp(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var r=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var l={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?r=i=l:i=i.next=l,a=a.next}while(a!==null);i===null?r=i=t:i=i.next=t}else r=i=t;a={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var $p=!1;function Po(){if($p){var e=fl;if(e!==null)throw e}}function Bo(e,t,a,n){$p=!1;var r=e.updateQueue;ar=!1;var i=r.firstBaseUpdate,l=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var m=e.alternate;m!==null&&(m=m.updateQueue,o=m.lastBaseUpdate,o!==l&&(o===null?m.firstBaseUpdate=d:o.next=d,m.lastBaseUpdate=c))}if(i!==null){var f=r.baseState;l=0,m=d=c=null,o=i;do{var p=o.lane&-536870913,x=p!==o.lane;if(x?(Qe&p)===p:(n&p)===p){p!==0&&p===hl&&($p=!0),m!==null&&(m=m.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var h=e,w=o;p=t;var v=a;switch(w.tag){case 1:if(h=w.payload,typeof h=="function"){f=h.call(v,f,p);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=w.payload,p=typeof h=="function"?h.call(v,f,p):h,p==null)break e;f=Nt({},f,p);break e;case 2:ar=!0}}p=o.callback,p!==null&&(e.flags|=64,x&&(e.flags|=8192),x=r.callbacks,x===null?r.callbacks=[p]:x.push(p))}else x={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(d=m=x,c=f):m=m.next=x,l|=p;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;x=o,o=x.next,x.next=null,r.lastBaseUpdate=x,r.shared.pending=null}}while(!0);m===null&&(c=f),r.baseState=c,r.firstBaseUpdate=d,r.lastBaseUpdate=m,i===null&&(r.shared.lanes=0),cr|=l,e.lanes=l,e.memoizedState=f}}function ty(e,t){if(typeof e!="function")throw Error(X(191,e));e.call(t)}function ay(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ty(a[e],t)}var yl=Bs(null),Od=Bs(0);function sy(e,t){e=wn,gt(Od,e),gt(yl,t),wn=e|t.baseLanes}function Up(){gt(Od,wn),gt(yl,yl.current)}function Fp(){wn=Od.current,Zt(yl),Zt(Od)}var Xa=Bs(null),bs=null;function rr(e){var t=e.alternate;gt(qt,qt.current&1),gt(Xa,e),bs===null&&(t===null||yl.current!==null||t.memoizedState!==null)&&(bs=e)}function qp(e){gt(qt,qt.current),gt(Xa,e),bs===null&&(bs=e)}function ny(e){e.tag===22?(gt(qt,qt.current),gt(Xa,e),bs===null&&(bs=e)):ir()}function ir(){gt(qt,qt.current),gt(Xa,Xa.current)}function Za(e){Zt(Xa),bs===e&&(bs=null),Zt(qt)}var qt=Bs(0);function _d(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Qh(a)||Yh(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hn=0,Le=null,ot=null,Ht=null,Rd=!1,bl=!1,li=!1,Dd=0,Ho=0,vl=null,qC=0;function $t(){throw Error(X(321))}function Pp(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Ka(e[a],t[a]))return!1;return!0}function Bp(e,t,a,n,r,i){return hn=i,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ae.H=e===null||e.memoizedState===null?qy:nh,li=!1,i=a(n,r),li=!1,bl&&(i=iy(t,a,n,r)),ry(e),i}function ry(e){Ae.H=Qo;var t=ot!==null&&ot.next!==null;if(hn=0,Ht=ot=Le=null,Rd=!1,Ho=0,vl=null,t)throw Error(X(300));e===null||Vt||(e=e.dependencies,e!==null&&Sd(e)&&(Vt=!0))}function iy(e,t,a,n){Le=e;var r=0;do{if(bl&&(vl=null),Ho=0,bl=!1,25<=r)throw Error(X(301));if(r+=1,Ht=ot=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}Ae.H=Py,i=t(a,n)}while(bl);return i}function PC(){var e=Ae.H,t=e.useState()[0];return t=typeof t.then=="function"?Vo(t):t,e=e.useState()[0],(ot!==null?ot.memoizedState:null)!==e&&(Le.flags|=1024),t}function Hp(){var e=Dd!==0;return Dd=0,e}function Vp(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Gp(e){if(Rd){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Rd=!1}hn=0,Ht=ot=Le=null,bl=!1,Ho=Dd=0,vl=null}function Na(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Le.memoizedState=Ht=e:Ht=Ht.next=e,Ht}function Pt(){if(ot===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=ot.next;var t=Ht===null?Le.memoizedState:Ht.next;if(t!==null)Ht=t,ot=e;else{if(e===null)throw Le.alternate===null?Error(X(467)):Error(X(310));ot=e,e={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Ht===null?Le.memoizedState=Ht=e:Ht=Ht.next=e}return Ht}function Ld(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vo(e){var t=Ho;return Ho+=1,vl===null&&(vl=[]),e=Wg(vl,e,t),t=Le,(Ht===null?t.memoizedState:Ht.next)===null&&(t=t.alternate,Ae.H=t===null||t.memoizedState===null?qy:nh),e}function Id(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Vo(e);if(e.$$typeof===rn)return oa(e)}throw Error(X(438,String(e)))}function Qp(e){var t=null,a=Le.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=Le.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Ld(),Le.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=kS;return t.index++,a}function fn(e,t){return typeof t=="function"?t(e):t}function zd(e){var t=Pt();return Yp(t,ot,e)}function Yp(e,t,a){var n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=a;var r=e.baseQueue,i=n.pending;if(i!==null){if(r!==null){var l=r.next;r.next=i.next,i.next=l}t.baseQueue=r=i,n.pending=null}if(i=e.baseState,r===null)e.memoizedState=i;else{t=r.next;var o=l=null,c=null,d=t,m=!1;do{var f=d.lane&-536870913;if(f!==d.lane?(Qe&f)===f:(hn&f)===f){var p=d.revertLane;if(p===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),f===hl&&(m=!0);else if((hn&p)===p){d=d.next,p===hl&&(m=!0);continue}else f={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},c===null?(o=c=f,l=i):c=c.next=f,Le.lanes|=p,cr|=p;f=d.action,li&&a(i,f),i=d.hasEagerState?d.eagerState:a(i,f)}else p={lane:f,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},c===null?(o=c=p,l=i):c=c.next=p,Le.lanes|=f,cr|=f;d=d.next}while(d!==null&&d!==t);if(c===null?l=i:c.next=o,!Ka(i,e.memoizedState)&&(Vt=!0,m&&(a=fl,a!==null)))throw a;e.memoizedState=i,e.baseState=l,e.baseQueue=c,n.lastRenderedState=i}return r===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Kp(e){var t=Pt(),a=t.queue;if(a===null)throw Error(X(311));a.lastRenderedReducer=e;var n=a.dispatch,r=a.pending,i=t.memoizedState;if(r!==null){a.pending=null;var l=r=r.next;do i=e(i,l.action),l=l.next;while(l!==r);Ka(i,t.memoizedState)||(Vt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,n]}function ly(e,t,a){var n=Le,r=Pt(),i=Ke;if(i){if(a===void 0)throw Error(X(407));a=a()}else a=t();var l=!Ka((ot||r).memoizedState,a);if(l&&(r.memoizedState=a,Vt=!0),r=r.queue,Zp(dy.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||Ht!==null&&Ht.memoizedState.tag&1){if(n.flags|=2048,jl(9,{destroy:void 0},cy.bind(null,n,r,a,t),null),mt===null)throw Error(X(349));i||hn&127||oy(n,t,a)}return a}function oy(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Le.updateQueue,t===null?(t=Ld(),Le.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function cy(e,t,a,n){t.value=a,t.getSnapshot=n,uy(t)&&my(e)}function dy(e,t,a){return a(function(){uy(t)&&my(e)})}function uy(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Ka(e,a)}catch{return!0}}function my(e){var t=Zr(e,2);t!==null&&$a(t,e,2)}function Wp(e){var t=Na();if(typeof e=="function"){var a=e;if(e=a(),li){Kn(!0);try{a()}finally{Kn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:e},t}function py(e,t,a,n){return e.baseState=a,Yp(e,ot,typeof n=="function"?n:fn)}function BC(e,t,a,n,r){if(Fd(e))throw Error(X(485));if(e=t.action,e!==null){var i={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(l){i.listeners.push(l)}};Ae.T!==null?a(!0):i.isTransition=!1,n(i),a=t.pending,a===null?(i.next=t.pending=i,hy(t,i)):(i.next=a.next,t.pending=a.next=i)}}function hy(e,t){var a=t.action,n=t.payload,r=e.state;if(t.isTransition){var i=Ae.T,l={};Ae.T=l;try{var o=a(r,n),c=Ae.S;c!==null&&c(l,o),fy(e,t,o)}catch(d){Xp(e,t,d)}finally{i!==null&&l.types!==null&&(i.types=l.types),Ae.T=i}}else try{i=a(r,n),fy(e,t,i)}catch(d){Xp(e,t,d)}}function fy(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){xy(e,t,n)},function(n){return Xp(e,t,n)}):xy(e,t,a)}function xy(e,t,a){t.status="fulfilled",t.value=a,gy(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,hy(e,a)))}function Xp(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,gy(t),t=t.next;while(t!==n)}e.action=null}function gy(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function yy(e,t){return t}function by(e,t){if(Ke){var a=mt.formState;if(a!==null){e:{var n=Le;if(Ke){if(St){t:{for(var r=St,i=ys;r.nodeType!==8;){if(!i){r=null;break t}if(r=vs(r.nextSibling),r===null){r=null;break t}}i=r.data,r=i==="F!"||i==="F"?r:null}if(r){St=vs(r.nextSibling),n=r.data==="F!";break e}}er(n)}n=!1}n&&(t=a[0])}}return a=Na(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yy,lastRenderedState:t},a.queue=n,a=$y.bind(null,Le,n),n.dispatch=a,n=Wp(!1),i=sh.bind(null,Le,!1,n.queue),n=Na(),r={state:t,dispatch:null,action:e,pending:null},n.queue=r,a=BC.bind(null,Le,r,i,a),r.dispatch=a,n.memoizedState=e,[t,a,!1]}function vy(e){var t=Pt();return jy(t,ot,e)}function jy(e,t,a){if(t=Yp(e,t,yy)[0],e=zd(fn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Vo(t)}catch(l){throw l===xl?kd:l}else n=t;t=Pt();var r=t.queue,i=r.dispatch;return a!==t.memoizedState&&(Le.flags|=2048,jl(9,{destroy:void 0},HC.bind(null,r,a),null)),[n,i,e]}function HC(e,t){e.action=t}function wy(e){var t=Pt(),a=ot;if(a!==null)return jy(t,a,e);Pt(),t=t.memoizedState,a=Pt();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function jl(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=Le.updateQueue,t===null&&(t=Ld(),Le.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function Ny(){return Pt().memoizedState}function $d(e,t,a,n){var r=Na();Le.flags|=e,r.memoizedState=jl(1|t,{destroy:void 0},a,n===void 0?null:n)}function Ud(e,t,a,n){var r=Pt();n=n===void 0?null:n;var i=r.memoizedState.inst;ot!==null&&n!==null&&Pp(n,ot.memoizedState.deps)?r.memoizedState=jl(t,i,a,n):(Le.flags|=e,r.memoizedState=jl(1|t,i,a,n))}function Sy(e,t){$d(8390656,8,e,t)}function Zp(e,t){Ud(2048,8,e,t)}function VC(e){Le.flags|=4;var t=Le.updateQueue;if(t===null)t=Ld(),Le.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Cy(e){var t=Pt().memoizedState;return VC({ref:t,nextImpl:e}),function(){if(et&2)throw Error(X(440));return t.impl.apply(void 0,arguments)}}function Ey(e,t){return Ud(4,2,e,t)}function ky(e,t){return Ud(4,4,e,t)}function Ay(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ty(e,t,a){a=a!=null?a.concat([e]):null,Ud(4,4,Ay.bind(null,t,e),a)}function Jp(){}function My(e,t){var a=Pt();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&Pp(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Oy(e,t){var a=Pt();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&Pp(t,n[1]))return n[0];if(n=e(),li){Kn(!0);try{e()}finally{Kn(!1)}}return a.memoizedState=[n,t],n}function eh(e,t,a){return a===void 0||hn&1073741824&&!(Qe&261930)?e.memoizedState=t:(e.memoizedState=a,e=_b(),Le.lanes|=e,cr|=e,a)}function _y(e,t,a,n){return Ka(a,t)?a:yl.current!==null?(e=eh(e,a,n),Ka(e,t)||(Vt=!0),e):!(hn&42)||hn&1073741824&&!(Qe&261930)?(Vt=!0,e.memoizedState=a):(e=_b(),Le.lanes|=e,cr|=e,t)}function Ry(e,t,a,n,r){var i=Je.p;Je.p=i!==0&&8>i?i:8;var l=Ae.T,o={};Ae.T=o,sh(e,!1,t,a);try{var c=r(),d=Ae.S;if(d!==null&&d(o,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var m=FC(c,n);Go(e,t,m,ts(e))}else Go(e,t,n,ts(e))}catch(f){Go(e,t,{then:function(){},status:"rejected",reason:f},ts())}finally{Je.p=i,l!==null&&o.types!==null&&(l.types=o.types),Ae.T=l}}function GC(){}function th(e,t,a,n){if(e.tag!==5)throw Error(X(476));var r=Dy(e).queue;Ry(e,r,t,Vr,a===null?GC:function(){return Ly(e),a(n)})}function Dy(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Vr,baseState:Vr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:Vr},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ly(e){var t=Dy(e);t.next===null&&(t=e.alternate.memoizedState),Go(e,t.next.queue,{},ts())}function ah(){return oa(cc)}function Iy(){return Pt().memoizedState}function zy(){return Pt().memoizedState}function QC(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=ts();e=sr(a);var n=nr(t,e,a);n!==null&&($a(n,t,a),qo(n,t,a)),t={cache:Op()},e.payload=t;return}t=t.return}}function YC(e,t,a){var n=ts();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Fd(e)?Uy(t,a):(a=vp(e,t,a,n),a!==null&&($a(a,e,n),Fy(a,t,n)))}function $y(e,t,a){var n=ts();Go(e,t,a,n)}function Go(e,t,a,n){var r={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Fd(e))Uy(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,a);if(r.hasEagerState=!0,r.eagerState=o,Ka(o,l))return vd(e,t,r,0),mt===null&&bd(),!1}catch{}finally{}if(a=vp(e,t,r,n),a!==null)return $a(a,e,n),Fy(a,t,n),!0}return!1}function sh(e,t,a,n){if(n={lane:2,revertLane:Lh(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Fd(e)){if(t)throw Error(X(479))}else t=vp(e,a,n,2),t!==null&&$a(t,e,2)}function Fd(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function Uy(e,t){bl=Rd=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Fy(e,t,a){if(a&4194048){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,V0(e,a)}}var Qo={readContext:oa,use:Id,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useLayoutEffect:$t,useInsertionEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useSyncExternalStore:$t,useId:$t,useHostTransitionStatus:$t,useFormState:$t,useActionState:$t,useOptimistic:$t,useMemoCache:$t,useCacheRefresh:$t};Qo.useEffectEvent=$t;var qy={readContext:oa,use:Id,useCallback:function(e,t){return Na().memoizedState=[e,t===void 0?null:t],e},useContext:oa,useEffect:Sy,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,$d(4194308,4,Ay.bind(null,t,e),a)},useLayoutEffect:function(e,t){return $d(4194308,4,e,t)},useInsertionEffect:function(e,t){$d(4,2,e,t)},useMemo:function(e,t){var a=Na();t=t===void 0?null:t;var n=e();if(li){Kn(!0);try{e()}finally{Kn(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=Na();if(a!==void 0){var r=a(t);if(li){Kn(!0);try{a(t)}finally{Kn(!1)}}}else r=t;return n.memoizedState=n.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},n.queue=e,e=e.dispatch=YC.bind(null,Le,e),[n.memoizedState,e]},useRef:function(e){var t=Na();return e={current:e},t.memoizedState=e},useState:function(e){e=Wp(e);var t=e.queue,a=$y.bind(null,Le,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Jp,useDeferredValue:function(e,t){var a=Na();return eh(a,e,t)},useTransition:function(){var e=Wp(!1);return e=Ry.bind(null,Le,e.queue,!0,!1),Na().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=Le,r=Na();if(Ke){if(a===void 0)throw Error(X(407));a=a()}else{if(a=t(),mt===null)throw Error(X(349));Qe&127||oy(n,t,a)}r.memoizedState=a;var i={value:a,getSnapshot:t};return r.queue=i,Sy(dy.bind(null,n,i,e),[e]),n.flags|=2048,jl(9,{destroy:void 0},cy.bind(null,n,i,a,t),null),a},useId:function(){var e=Na(),t=mt.identifierPrefix;if(Ke){var a=Gs,n=Vs;a=(n&~(1<<32-Ya(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Dd++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=qC++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ah,useFormState:by,useActionState:by,useOptimistic:function(e){var t=Na();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=sh.bind(null,Le,!0,a),a.dispatch=t,[e,t]},useMemoCache:Qp,useCacheRefresh:function(){return Na().memoizedState=QC.bind(null,Le)},useEffectEvent:function(e){var t=Na(),a={impl:e};return t.memoizedState=a,function(){if(et&2)throw Error(X(440));return a.impl.apply(void 0,arguments)}}},nh={readContext:oa,use:Id,useCallback:My,useContext:oa,useEffect:Zp,useImperativeHandle:Ty,useInsertionEffect:Ey,useLayoutEffect:ky,useMemo:Oy,useReducer:zd,useRef:Ny,useState:function(){return zd(fn)},useDebugValue:Jp,useDeferredValue:function(e,t){var a=Pt();return _y(a,ot.memoizedState,e,t)},useTransition:function(){var e=zd(fn)[0],t=Pt().memoizedState;return[typeof e=="boolean"?e:Vo(e),t]},useSyncExternalStore:ly,useId:Iy,useHostTransitionStatus:ah,useFormState:vy,useActionState:vy,useOptimistic:function(e,t){var a=Pt();return py(a,ot,e,t)},useMemoCache:Qp,useCacheRefresh:zy};nh.useEffectEvent=Cy;var Py={readContext:oa,use:Id,useCallback:My,useContext:oa,useEffect:Zp,useImperativeHandle:Ty,useInsertionEffect:Ey,useLayoutEffect:ky,useMemo:Oy,useReducer:Kp,useRef:Ny,useState:function(){return Kp(fn)},useDebugValue:Jp,useDeferredValue:function(e,t){var a=Pt();return ot===null?eh(a,e,t):_y(a,ot.memoizedState,e,t)},useTransition:function(){var e=Kp(fn)[0],t=Pt().memoizedState;return[typeof e=="boolean"?e:Vo(e),t]},useSyncExternalStore:ly,useId:Iy,useHostTransitionStatus:ah,useFormState:wy,useActionState:wy,useOptimistic:function(e,t){var a=Pt();return ot!==null?py(a,ot,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Qp,useCacheRefresh:zy};Py.useEffectEvent=Cy;function rh(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:Nt({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ih={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=ts(),r=sr(n);r.payload=t,a!=null&&(r.callback=a),t=nr(e,r,n),t!==null&&($a(t,e,n),qo(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=ts(),r=sr(n);r.tag=1,r.payload=t,a!=null&&(r.callback=a),t=nr(e,r,n),t!==null&&($a(t,e,n),qo(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=ts(),n=sr(a);n.tag=2,t!=null&&(n.callback=t),t=nr(e,n,a),t!==null&&($a(t,e,a),qo(t,e,a))}};function By(e,t,a,n,r,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,l):t.prototype&&t.prototype.isPureReactComponent?!Ro(a,n)||!Ro(r,i):!0}function Hy(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&ih.enqueueReplaceState(t,t.state,null)}function oi(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=Nt({},a));for(var r in e)a[r]===void 0&&(a[r]=e[r])}return a}function Vy(e){yd(e)}function Gy(e){console.error(e)}function Qy(e){yd(e)}function qd(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Yy(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function lh(e,t,a){return a=sr(a),a.tag=3,a.payload={element:null},a.callback=function(){qd(e,t)},a}function Ky(e){return e=sr(e),e.tag=3,e}function Wy(e,t,a,n){var r=a.type.getDerivedStateFromError;if(typeof r=="function"){var i=n.value;e.payload=function(){return r(i)},e.callback=function(){Yy(t,a,n)}}var l=a.stateNode;l!==null&&typeof l.componentDidCatch=="function"&&(e.callback=function(){Yy(t,a,n),typeof r!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var o=n.stack;this.componentDidCatch(n.value,{componentStack:o!==null?o:""})})}function KC(e,t,a,n,r){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&pl(t,a,r,!0),a=Xa.current,a!==null){switch(a.tag){case 31:case 13:return bs===null?Jd():a.alternate===null&&Ut===0&&(Ut=3),a.flags&=-257,a.flags|=65536,a.lanes=r,n===Ad?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),_h(e,n,r)),!1;case 22:return a.flags|=65536,n===Ad?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),_h(e,n,r)),!1}throw Error(X(435,a.tag))}return _h(e,n,r),Jd(),!1}if(Ke)return t=Xa.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,n!==Ep&&(e=Error(X(422),{cause:n}),Io(fs(e,a)))):(n!==Ep&&(t=Error(X(423),{cause:n}),Io(fs(t,a))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,n=fs(n,a),r=lh(e.stateNode,n,r),zp(e,r),Ut!==4&&(Ut=2)),!1;var i=Error(X(520),{cause:n});if(i=fs(i,a),tc===null?tc=[i]:tc.push(i),Ut!==4&&(Ut=2),t===null)return!0;n=fs(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=r&-r,a.lanes|=e,e=lh(a.stateNode,n,e),zp(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(dr===null||!dr.has(i))))return a.flags|=65536,r&=-r,a.lanes|=r,r=Ky(r),Wy(r,e,a,n),zp(a,r),!1}a=a.return}while(a!==null);return!1}var oh=Error(X(461)),Vt=!1;function ca(e,t,a,n){t.child=e===null?ey(t,null,a,n):ii(t,e.child,a,n)}function Xy(e,t,a,n,r){a=a.render;var i=t.ref;if("ref"in n){var l={};for(var o in n)o!=="ref"&&(l[o]=n[o])}else l=n;return ai(t),n=Bp(e,t,a,l,i,r),o=Hp(),e!==null&&!Vt?(Vp(e,t,r),xn(e,t,r)):(Ke&&o&&Sp(t),t.flags|=1,ca(e,t,n,r),t.child)}function Zy(e,t,a,n,r){if(e===null){var i=a.type;return typeof i=="function"&&!jp(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,Jy(e,t,i,n,r)):(e=wd(a.type,null,n,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!xh(e,r)){var l=i.memoizedProps;if(a=a.compare,a=a!==null?a:Ro,a(l,n)&&e.ref===t.ref)return xn(e,t,r)}return t.flags|=1,e=dn(i,n),e.ref=t.ref,e.return=t,t.child=e}function Jy(e,t,a,n,r){if(e!==null){var i=e.memoizedProps;if(Ro(i,n)&&e.ref===t.ref)if(Vt=!1,t.pendingProps=n=i,xh(e,r))e.flags&131072&&(Vt=!0);else return t.lanes=e.lanes,xn(e,t,r)}return ch(e,t,a,n,r)}function eb(e,t,a,n){var r=n.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|a:a,e!==null){for(n=t.child=e.child,r=0;n!==null;)r=r|n.lanes|n.childLanes,n=n.sibling;n=r&~i}else n=0,t.child=null;return tb(e,t,i,a,n)}if(a&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ed(t,i!==null?i.cachePool:null),i!==null?sy(t,i):Up(),ny(t);else return n=t.lanes=536870912,tb(e,t,i!==null?i.baseLanes|a:a,a,n)}else i!==null?(Ed(t,i.cachePool),sy(t,i),ir(),t.memoizedState=null):(e!==null&&Ed(t,null),Up(),ir());return ca(e,t,r,a),t.child}function Yo(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function tb(e,t,a,n,r){var i=Rp();return i=i===null?null:{parent:Bt._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&Ed(t,null),Up(),ny(t),e!==null&&pl(e,t,n,!0),t.childLanes=r,null}function Pd(e,t){return t=Hd({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function ab(e,t,a){return ii(t,e.child,null,a),e=Pd(t,t.pendingProps),e.flags|=2,Za(t),t.memoizedState=null,e}function WC(e,t,a){var n=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ke){if(n.mode==="hidden")return e=Pd(t,n),t.lanes=536870912,Yo(null,e);if(qp(t),(e=St)?(e=hv(e,ys),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Zn!==null?{id:Vs,overflow:Gs}:null,retryLane:536870912,hydrationErrors:null},a=Ug(e),a.return=t,t.child=a,la=t,St=null)):e=null,e===null)throw er(t);return t.lanes=536870912,null}return Pd(t,n)}var i=e.memoizedState;if(i!==null){var l=i.dehydrated;if(qp(t),r)if(t.flags&256)t.flags&=-257,t=ab(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(X(558));else if(Vt||pl(e,t,a,!1),r=(a&e.childLanes)!==0,Vt||r){if(n=mt,n!==null&&(l=G0(n,a),l!==0&&l!==i.retryLane))throw i.retryLane=l,Zr(e,l),$a(n,e,l),oh;Jd(),t=ab(e,t,a)}else e=i.treeContext,St=vs(l.nextSibling),la=t,Ke=!0,Jn=null,ys=!1,e!==null&&Pg(t,e),t=Pd(t,n),t.flags|=4096;return t}return e=dn(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Bd(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(X(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function ch(e,t,a,n,r){return ai(t),a=Bp(e,t,a,n,void 0,r),n=Hp(),e!==null&&!Vt?(Vp(e,t,r),xn(e,t,r)):(Ke&&n&&Sp(t),t.flags|=1,ca(e,t,a,r),t.child)}function sb(e,t,a,n,r,i){return ai(t),t.updateQueue=null,a=iy(t,n,a,r),ry(e),n=Hp(),e!==null&&!Vt?(Vp(e,t,i),xn(e,t,i)):(Ke&&n&&Sp(t),t.flags|=1,ca(e,t,a,i),t.child)}function nb(e,t,a,n,r){if(ai(t),t.stateNode===null){var i=cl,l=a.contextType;typeof l=="object"&&l!==null&&(i=oa(l)),i=new a(n,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=ih,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=n,i.state=t.memoizedState,i.refs={},Lp(t),l=a.contextType,i.context=typeof l=="object"&&l!==null?oa(l):cl,i.state=t.memoizedState,l=a.getDerivedStateFromProps,typeof l=="function"&&(rh(t,a,l,n),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(l=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),l!==i.state&&ih.enqueueReplaceState(i,i.state,null),Bo(t,n,i,r),Po(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){i=t.stateNode;var o=t.memoizedProps,c=oi(a,o);i.props=c;var d=i.context,m=a.contextType;l=cl,typeof m=="object"&&m!==null&&(l=oa(m));var f=a.getDerivedStateFromProps;m=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,m||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o||d!==l)&&Hy(t,i,n,l),ar=!1;var p=t.memoizedState;i.state=p,Bo(t,n,i,r),Po(),d=t.memoizedState,o||p!==d||ar?(typeof f=="function"&&(rh(t,a,f,n),d=t.memoizedState),(c=ar||By(t,a,c,n,p,d,l))?(m||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=d),i.props=n,i.state=d,i.context=l,n=c):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Ip(e,t),l=t.memoizedProps,m=oi(a,l),i.props=m,f=t.pendingProps,p=i.context,d=a.contextType,c=cl,typeof d=="object"&&d!==null&&(c=oa(d)),o=a.getDerivedStateFromProps,(d=typeof o=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||p!==c)&&Hy(t,i,n,c),ar=!1,p=t.memoizedState,i.state=p,Bo(t,n,i,r),Po();var x=t.memoizedState;l!==f||p!==x||ar||e!==null&&e.dependencies!==null&&Sd(e.dependencies)?(typeof o=="function"&&(rh(t,a,o,n),x=t.memoizedState),(m=ar||By(t,a,m,n,p,x,c)||e!==null&&e.dependencies!==null&&Sd(e.dependencies))?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,x,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,x,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),i.props=n,i.state=x,i.context=c,n=m):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,Bd(e,t),n=(t.flags&128)!==0,i||n?(i=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&n?(t.child=ii(t,e.child,null,r),t.child=ii(t,null,a,r)):ca(e,t,a,r),t.memoizedState=i.state,e=t.child):e=xn(e,t,r),e}function rb(e,t,a,n){return ei(),t.flags|=256,ca(e,t,a,n),t.child}var dh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uh(e){return{baseLanes:e,cachePool:Yg()}}function mh(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=es),e}function ib(e,t,a){var n=t.pendingProps,r=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(qt.current&2)!==0),l&&(r=!0,t.flags&=-129),l=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ke){if(r?rr(t):ir(),(e=St)?(e=hv(e,ys),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Zn!==null?{id:Vs,overflow:Gs}:null,retryLane:536870912,hydrationErrors:null},a=Ug(e),a.return=t,t.child=a,la=t,St=null)):e=null,e===null)throw er(t);return Yh(e)?t.lanes=32:t.lanes=536870912,null}var o=n.children;return n=n.fallback,r?(ir(),r=t.mode,o=Hd({mode:"hidden",children:o},r),n=Jr(n,r,a,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n=t.child,n.memoizedState=uh(a),n.childLanes=mh(e,l,a),t.memoizedState=dh,Yo(null,n)):(rr(t),ph(t,o))}var c=e.memoizedState;if(c!==null&&(o=c.dehydrated,o!==null)){if(i)t.flags&256?(rr(t),t.flags&=-257,t=hh(e,t,a)):t.memoizedState!==null?(ir(),t.child=e.child,t.flags|=128,t=null):(ir(),o=n.fallback,r=t.mode,n=Hd({mode:"visible",children:n.children},r),o=Jr(o,r,a,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,ii(t,e.child,null,a),n=t.child,n.memoizedState=uh(a),n.childLanes=mh(e,l,a),t.memoizedState=dh,t=Yo(null,n));else if(rr(t),Yh(o)){if(l=o.nextSibling&&o.nextSibling.dataset,l)var d=l.dgst;l=d,n=Error(X(419)),n.stack="",n.digest=l,Io({value:n,source:null,stack:null}),t=hh(e,t,a)}else if(Vt||pl(e,t,a,!1),l=(a&e.childLanes)!==0,Vt||l){if(l=mt,l!==null&&(n=G0(l,a),n!==0&&n!==c.retryLane))throw c.retryLane=n,Zr(e,n),$a(l,e,n),oh;Qh(o)||Jd(),t=hh(e,t,a)}else Qh(o)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,St=vs(o.nextSibling),la=t,Ke=!0,Jn=null,ys=!1,e!==null&&Pg(t,e),t=ph(t,n.children),t.flags|=4096);return t}return r?(ir(),o=n.fallback,r=t.mode,c=e.child,d=c.sibling,n=dn(c,{mode:"hidden",children:n.children}),n.subtreeFlags=c.subtreeFlags&65011712,d!==null?o=dn(d,o):(o=Jr(o,r,a,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,Yo(null,n),n=t.child,o=e.child.memoizedState,o===null?o=uh(a):(r=o.cachePool,r!==null?(c=Bt._currentValue,r=r.parent!==c?{parent:c,pool:c}:r):r=Yg(),o={baseLanes:o.baseLanes|a,cachePool:r}),n.memoizedState=o,n.childLanes=mh(e,l,a),t.memoizedState=dh,Yo(e.child,n)):(rr(t),a=e.child,e=a.sibling,a=dn(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(l=t.deletions,l===null?(t.deletions=[e],t.flags|=16):l.push(e)),t.child=a,t.memoizedState=null,a)}function ph(e,t){return t=Hd({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Hd(e,t){return e=Wa(22,e,null,t),e.lanes=0,e}function hh(e,t,a){return ii(t,e.child,null,a),e=ph(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lb(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Tp(e.return,t,a)}function fh(e,t,a,n,r,i){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:r,treeForkCount:i}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=a,l.tailMode=r,l.treeForkCount=i)}function ob(e,t,a){var n=t.pendingProps,r=n.revealOrder,i=n.tail;n=n.children;var l=qt.current,o=(l&2)!==0;if(o?(l=l&1|2,t.flags|=128):l&=1,gt(qt,l),ca(e,t,n,a),n=Ke?Lo:0,!o&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lb(e,a,t);else if(e.tag===19)lb(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(a=t.child,r=null;a!==null;)e=a.alternate,e!==null&&_d(e)===null&&(r=a),a=a.sibling;a=r,a===null?(r=t.child,t.child=null):(r=a.sibling,a.sibling=null),fh(t,!1,r,a,i,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&_d(e)===null){t.child=r;break}e=r.sibling,r.sibling=a,a=r,r=e}fh(t,!0,a,null,i,n);break;case"together":fh(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function xn(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),cr|=t.lanes,!(a&t.childLanes))if(e!==null){if(pl(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,a=dn(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=dn(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function xh(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Sd(e)))}function XC(e,t,a){switch(t.tag){case 3:td(t,t.stateNode.containerInfo),tr(t,Bt,e.memoizedState.cache),ei();break;case 27:case 5:Fm(t);break;case 4:td(t,t.stateNode.containerInfo);break;case 10:tr(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,qp(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(rr(t),t.flags|=128,null):a&t.child.childLanes?ib(e,t,a):(rr(t),e=xn(e,t,a),e!==null?e.sibling:null);rr(t);break;case 19:var r=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(pl(e,t,a,!1),n=(a&t.childLanes)!==0),r){if(n)return ob(e,t,a);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),gt(qt,qt.current),n)break;return null;case 22:return t.lanes=0,eb(e,t,a,t.pendingProps);case 24:tr(t,Bt,e.memoizedState.cache)}return xn(e,t,a)}function cb(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Vt=!0;else{if(!xh(e,a)&&!(t.flags&128))return Vt=!1,XC(e,t,a);Vt=!!(e.flags&131072)}else Vt=!1,Ke&&t.flags&1048576&&qg(t,Lo,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=ni(t.elementType),t.type=e,typeof e=="function")jp(e)?(n=oi(e,n),t.tag=1,t=nb(null,t,e,n,a)):(t.tag=0,t=ch(null,t,e,n,a));else{if(e!=null){var r=e.$$typeof;if(r===Rm){t.tag=11,t=Xy(null,t,e,n,a);break e}else if(r===Im){t.tag=14,t=Zy(null,t,e,n,a);break e}}throw t=$m(e)||e,Error(X(306,t,""))}}return t;case 0:return ch(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,r=oi(n,t.pendingProps),nb(e,t,n,r,a);case 3:e:{if(td(t,t.stateNode.containerInfo),e===null)throw Error(X(387));n=t.pendingProps;var i=t.memoizedState;r=i.element,Ip(e,t),Bo(t,n,null,a);var l=t.memoizedState;if(n=l.cache,tr(t,Bt,n),n!==i.cache&&Mp(t,[Bt],a,!0),Po(),n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=rb(e,t,n,a);break e}else if(n!==r){r=fs(Error(X(424)),t),Io(r),t=rb(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(St=vs(e.firstChild),la=t,Ke=!0,Jn=null,ys=!0,a=ey(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ei(),n===r){t=xn(e,t,a);break e}ca(e,t,n,a)}t=t.child}return t;case 26:return Bd(e,t),e===null?(a=vv(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ke||(a=t.type,e=t.pendingProps,n=iu(Yn.current).createElement(a),n[ia]=t,n[_a]=e,da(n,a,e),Jt(n),t.stateNode=n):t.memoizedState=vv(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Fm(t),e===null&&Ke&&(n=t.stateNode=gv(t.type,t.pendingProps,Yn.current),la=t,ys=!0,r=St,hr(t.type)?(Kh=r,St=vs(n.firstChild)):St=r),ca(e,t,t.pendingProps.children,a),Bd(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ke&&((r=n=St)&&(n=k5(n,t.type,t.pendingProps,ys),n!==null?(t.stateNode=n,la=t,St=vs(n.firstChild),ys=!1,r=!0):r=!1),r||er(t)),Fm(t),r=t.type,i=t.pendingProps,l=e!==null?e.memoizedProps:null,n=i.children,Hh(r,i)?n=null:l!==null&&Hh(r,l)&&(t.flags|=32),t.memoizedState!==null&&(r=Bp(e,t,PC,null,null,a),cc._currentValue=r),Bd(e,t),ca(e,t,n,a),t.child;case 6:return e===null&&Ke&&((e=a=St)&&(a=A5(a,t.pendingProps,ys),a!==null?(t.stateNode=a,la=t,St=null,e=!0):e=!1),e||er(t)),null;case 13:return ib(e,t,a);case 4:return td(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ii(t,null,n,a):ca(e,t,n,a),t.child;case 11:return Xy(e,t,t.type,t.pendingProps,a);case 7:return ca(e,t,t.pendingProps,a),t.child;case 8:return ca(e,t,t.pendingProps.children,a),t.child;case 12:return ca(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,tr(t,t.type,n.value),ca(e,t,n.children,a),t.child;case 9:return r=t.type._context,n=t.pendingProps.children,ai(t),r=oa(r),n=n(r),t.flags|=1,ca(e,t,n,a),t.child;case 14:return Zy(e,t,t.type,t.pendingProps,a);case 15:return Jy(e,t,t.type,t.pendingProps,a);case 19:return ob(e,t,a);case 31:return WC(e,t,a);case 22:return eb(e,t,a,t.pendingProps);case 24:return ai(t),n=oa(Bt),e===null?(r=Rp(),r===null&&(r=mt,i=Op(),r.pooledCache=i,i.refCount++,i!==null&&(r.pooledCacheLanes|=a),r=i),t.memoizedState={parent:n,cache:r},Lp(t),tr(t,Bt,r)):(e.lanes&a&&(Ip(e,t),Bo(t,null,null,a),Po()),r=e.memoizedState,i=t.memoizedState,r.parent!==n?(r={parent:n,cache:n},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),tr(t,Bt,n)):(n=i.cache,tr(t,Bt,n),n!==r.cache&&Mp(t,[Bt],a,!0))),ca(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(X(156,t.tag))}function gn(e){e.flags|=4}function gh(e,t,a,n,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(Ib())e.flags|=8192;else throw ri=Ad,Dp}else e.flags&=-16777217}function db(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Cv(t))if(Ib())e.flags|=8192;else throw ri=Ad,Dp}function Vd(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?B0():536870912,e.lanes|=t,Cl|=t)}function Ko(e,t){if(!Ke)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var r=e.child;r!==null;)a|=r.lanes|r.childLanes,n|=r.subtreeFlags&65011712,n|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)a|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function ZC(e,t,a){var n=t.pendingProps;switch(Cp(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(t),null;case 1:return Ct(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),pn(Bt),Ki(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ml(t)?gn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,kp())),Ct(t),null;case 26:var r=t.type,i=t.memoizedState;return e===null?(gn(t),i!==null?(Ct(t),db(t,i)):(Ct(t),gh(t,r,null,n,a))):i?i!==e.memoizedState?(gn(t),Ct(t),db(t,i)):(Ct(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&gn(t),Ct(t),gh(t,r,e,n,a)),null;case 27:if(ad(t),a=Yn.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&gn(t);else{if(!n){if(t.stateNode===null)throw Error(X(166));return Ct(t),null}e=Hs.current,ml(t)?Bg(t):(e=gv(r,n,a),t.stateNode=e,gn(t))}return Ct(t),null;case 5:if(ad(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&gn(t);else{if(!n){if(t.stateNode===null)throw Error(X(166));return Ct(t),null}if(i=Hs.current,ml(t))Bg(t);else{var l=iu(Yn.current);switch(i){case 1:i=l.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:i=l.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":i=l.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":i=l.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":i=l.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof n.is=="string"?l.createElement("select",{is:n.is}):l.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i=typeof n.is=="string"?l.createElement(r,{is:n.is}):l.createElement(r)}}i[ia]=t,i[_a]=n;e:for(l=t.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;l.sibling===null;){if(l.return===null||l.return===t)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}t.stateNode=i;e:switch(da(i,r,n),r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&gn(t)}}return Ct(t),gh(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&gn(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(X(166));if(e=Yn.current,ml(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,r=la,r!==null)switch(r.tag){case 27:case 5:n=r.memoizedProps}e[ia]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||iv(e.nodeValue,a)),e||er(t,!0)}else e=iu(e).createTextNode(n),e[ia]=t,t.stateNode=e}return Ct(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=ml(t),a!==null){if(e===null){if(!n)throw Error(X(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(557));e[ia]=t}else ei(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ct(t),e=!1}else a=kp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Za(t),t):(Za(t),null);if(t.flags&128)throw Error(X(558))}return Ct(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=ml(t),n!==null&&n.dehydrated!==null){if(e===null){if(!r)throw Error(X(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(X(317));r[ia]=t}else ei(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ct(t),r=!1}else r=kp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Za(t),t):(Za(t),null)}return Za(t),t.flags&128?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,r=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(r=n.alternate.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==r&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Vd(t,t.updateQueue),Ct(t),null);case 4:return Ki(),e===null&&Uh(t.stateNode.containerInfo),Ct(t),null;case 10:return pn(t.type),Ct(t),null;case 19:if(Zt(qt),n=t.memoizedState,n===null)return Ct(t),null;if(r=(t.flags&128)!==0,i=n.rendering,i===null)if(r)Ko(n,!1);else{if(Ut!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=_d(e),i!==null){for(t.flags|=128,Ko(n,!1),e=i.updateQueue,t.updateQueue=e,Vd(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)$g(a,e),a=a.sibling;return gt(qt,qt.current&1|2),Ke&&un(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&Ga()>Wd&&(t.flags|=128,r=!0,Ko(n,!1),t.lanes=4194304)}else{if(!r)if(e=_d(i),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Vd(t,e),Ko(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!Ke)return Ct(t),null}else 2*Ga()-n.renderingStartTime>Wd&&a!==536870912&&(t.flags|=128,r=!0,Ko(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=Ga(),e.sibling=null,a=qt.current,gt(qt,r?a&1|2:a&1),Ke&&un(t,n.treeForkCount),e):(Ct(t),null);case 22:case 23:return Za(t),Fp(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?a&536870912&&!(t.flags&128)&&(Ct(t),t.subtreeFlags&6&&(t.flags|=8192)):Ct(t),a=t.updateQueue,a!==null&&Vd(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&Zt(si),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),pn(Bt),Ct(t),null;case 25:return null;case 30:return null}throw Error(X(156,t.tag))}function JC(e,t){switch(Cp(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pn(Bt),Ki(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ad(t),null;case 31:if(t.memoizedState!==null){if(Za(t),t.alternate===null)throw Error(X(340));ei()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Za(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));ei()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Zt(qt),null;case 4:return Ki(),null;case 10:return pn(t.type),null;case 22:case 23:return Za(t),Fp(),e!==null&&Zt(si),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return pn(Bt),null;case 25:return null;default:return null}}function ub(e,t){switch(Cp(t),t.tag){case 3:pn(Bt),Ki();break;case 26:case 27:case 5:ad(t);break;case 4:Ki();break;case 31:t.memoizedState!==null&&Za(t);break;case 13:Za(t);break;case 19:Zt(qt);break;case 10:pn(t.type);break;case 22:case 23:Za(t),Fp(),e!==null&&Zt(si);break;case 24:pn(Bt)}}function Wo(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var r=n.next;a=r;do{if((a.tag&e)===e){n=void 0;var i=a.create,l=a.inst;n=i(),l.destroy=n}a=a.next}while(a!==r)}}catch(o){nt(t,t.return,o)}}function lr(e,t,a){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){var l=n.inst,o=l.destroy;if(o!==void 0){l.destroy=void 0,r=t;var c=a,d=o;try{d()}catch(m){nt(r,c,m)}}}n=n.next}while(n!==i)}}catch(m){nt(t,t.return,m)}}function mb(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{ay(t,a)}catch(n){nt(e,e.return,n)}}}function pb(e,t,a){a.props=oi(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){nt(e,t,n)}}function Xo(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(r){nt(e,t,r)}}function Qs(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(r){nt(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(r){nt(e,t,r)}else a.current=null}function hb(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(r){nt(e,e.return,r)}}function yh(e,t,a){try{var n=e.stateNode;j5(n,e.type,a,t),n[_a]=t}catch(r){nt(e,e.return,r)}}function fb(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&hr(e.type)||e.tag===4}function bh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&hr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vh(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=on));else if(n!==4&&(n===27&&hr(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(vh(e,t,a),e=e.sibling;e!==null;)vh(e,t,a),e=e.sibling}function Gd(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&hr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Gd(e,t,a),e=e.sibling;e!==null;)Gd(e,t,a),e=e.sibling}function xb(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);da(t,n,a),t[ia]=e,t[_a]=a}catch(i){nt(e,e.return,i)}}var yn=!1,Gt=!1,jh=!1,gb=typeof WeakSet=="function"?WeakSet:Set,ea=null;function e5(e,t){if(e=e.containerInfo,Ph=pu,e=Tg(e),hp(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var l=0,o=-1,c=-1,d=0,m=0,f=e,p=null;t:for(;;){for(var x;f!==a||r!==0&&f.nodeType!==3||(o=l+r),f!==i||n!==0&&f.nodeType!==3||(c=l+n),f.nodeType===3&&(l+=f.nodeValue.length),(x=f.firstChild)!==null;)p=f,f=x;for(;;){if(f===e)break t;if(p===a&&++d===r&&(o=l),p===i&&++m===n&&(c=l),(x=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=x}a=o===-1||c===-1?null:{start:o,end:c}}else a=null}a=a||{start:0,end:0}}else a=null;for(Bh={focusedElem:e,selectionRange:a},pu=!1,ea=t;ea!==null;)if(t=ea,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ea=e;else for(;ea!==null;){switch(t=ea,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)r=e[a],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,a=t,r=i.memoizedProps,i=i.memoizedState,n=a.stateNode;try{var h=oi(a.type,r);e=n.getSnapshotBeforeUpdate(h,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(w){nt(a,a.return,w)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Gh(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Gh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(X(163))}if(e=t.sibling,e!==null){e.return=t.return,ea=e;break}ea=t.return}}function yb(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:vn(e,a),n&4&&Wo(5,a);break;case 1:if(vn(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(l){nt(a,a.return,l)}else{var r=oi(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){nt(a,a.return,l)}}n&64&&mb(a),n&512&&Xo(a,a.return);break;case 3:if(vn(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{ay(e,t)}catch(l){nt(a,a.return,l)}}break;case 27:t===null&&n&4&&xb(a);case 26:case 5:vn(e,a),t===null&&n&4&&hb(a),n&512&&Xo(a,a.return);break;case 12:vn(e,a);break;case 31:vn(e,a),n&4&&jb(e,a);break;case 13:vn(e,a),n&4&&wb(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=c5.bind(null,a),T5(e,a))));break;case 22:if(n=a.memoizedState!==null||yn,!n){t=t!==null&&t.memoizedState!==null||Gt,r=yn;var i=Gt;yn=n,(Gt=t)&&!i?jn(e,a,(a.subtreeFlags&8772)!==0):vn(e,a),yn=r,Gt=i}break;case 30:break;default:vn(e,a)}}function bb(e){var t=e.alternate;t!==null&&(e.alternate=null,bb(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Xm(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Tt=null,Da=!1;function bn(e,t,a){for(a=a.child;a!==null;)vb(e,t,a),a=a.sibling}function vb(e,t,a){if(Qa&&typeof Qa.onCommitFiberUnmount=="function")try{Qa.onCommitFiberUnmount(jo,a)}catch{}switch(a.tag){case 26:Gt||Qs(a,t),bn(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Gt||Qs(a,t);var n=Tt,r=Da;hr(a.type)&&(Tt=a.stateNode,Da=!1),bn(e,t,a),ic(a.stateNode),Tt=n,Da=r;break;case 5:Gt||Qs(a,t);case 6:if(n=Tt,r=Da,Tt=null,bn(e,t,a),Tt=n,Da=r,Tt!==null)if(Da)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(a.stateNode)}catch(i){nt(a,t,i)}else try{Tt.removeChild(a.stateNode)}catch(i){nt(a,t,i)}break;case 18:Tt!==null&&(Da?(e=Tt,mv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Rl(e)):mv(Tt,a.stateNode));break;case 4:n=Tt,r=Da,Tt=a.stateNode.containerInfo,Da=!0,bn(e,t,a),Tt=n,Da=r;break;case 0:case 11:case 14:case 15:lr(2,a,t),Gt||lr(4,a,t),bn(e,t,a);break;case 1:Gt||(Qs(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&pb(a,t,n)),bn(e,t,a);break;case 21:bn(e,t,a);break;case 22:Gt=(n=Gt)||a.memoizedState!==null,bn(e,t,a),Gt=n;break;default:bn(e,t,a)}}function jb(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Rl(e)}catch(a){nt(t,t.return,a)}}}function wb(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Rl(e)}catch(a){nt(t,t.return,a)}}function t5(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new gb),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new gb),t;default:throw Error(X(435,e.tag))}}function Qd(e,t){var a=t5(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var r=d5.bind(null,e,n);n.then(r,r)}})}function La(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var r=a[n],i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 27:if(hr(o.type)){Tt=o.stateNode,Da=!1;break e}break;case 5:Tt=o.stateNode,Da=!1;break e;case 3:case 4:Tt=o.stateNode.containerInfo,Da=!0;break e}o=o.return}if(Tt===null)throw Error(X(160));vb(i,l,r),Tt=null,Da=!1,i=r.alternate,i!==null&&(i.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Nb(t,e),t=t.sibling}var _s=null;function Nb(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:La(t,e),Ia(e),n&4&&(lr(3,e,e.return),Wo(3,e),lr(5,e,e.return));break;case 1:La(t,e),Ia(e),n&512&&(Gt||a===null||Qs(a,a.return)),n&64&&yn&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var r=_s;if(La(t,e),Ia(e),n&512&&(Gt||a===null||Qs(a,a.return)),n&4){var i=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,r=r.ownerDocument||r;t:switch(n){case"title":i=r.getElementsByTagName("title")[0],(!i||i[So]||i[ia]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=r.createElement(n),r.head.insertBefore(i,r.querySelector("head > title"))),da(i,n,a),i[ia]=e,Jt(i),n=i;break e;case"link":var l=Nv("link","href",r).get(n+(a.href||""));if(l){for(var o=0;o<l.length;o++)if(i=l[o],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){l.splice(o,1);break t}}i=r.createElement(n),da(i,n,a),r.head.appendChild(i);break;case"meta":if(l=Nv("meta","content",r).get(n+(a.content||""))){for(o=0;o<l.length;o++)if(i=l[o],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){l.splice(o,1);break t}}i=r.createElement(n),da(i,n,a),r.head.appendChild(i);break;default:throw Error(X(468,n))}i[ia]=e,Jt(i),n=i}e.stateNode=n}else Sv(r,e.type,e.stateNode);else e.stateNode=wv(r,n,e.memoizedProps);else i!==n?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,n===null?Sv(r,e.type,e.stateNode):wv(r,n,e.memoizedProps)):n===null&&e.stateNode!==null&&yh(e,e.memoizedProps,a.memoizedProps)}break;case 27:La(t,e),Ia(e),n&512&&(Gt||a===null||Qs(a,a.return)),a!==null&&n&4&&yh(e,e.memoizedProps,a.memoizedProps);break;case 5:if(La(t,e),Ia(e),n&512&&(Gt||a===null||Qs(a,a.return)),e.flags&32){r=e.stateNode;try{al(r,"")}catch(h){nt(e,e.return,h)}}n&4&&e.stateNode!=null&&(r=e.memoizedProps,yh(e,r,a!==null?a.memoizedProps:r)),n&1024&&(jh=!0);break;case 6:if(La(t,e),Ia(e),n&4){if(e.stateNode===null)throw Error(X(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(h){nt(e,e.return,h)}}break;case 3:if(cu=null,r=_s,_s=lu(t.containerInfo),La(t,e),_s=r,Ia(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{Rl(t.containerInfo)}catch(h){nt(e,e.return,h)}jh&&(jh=!1,Sb(e));break;case 4:n=_s,_s=lu(e.stateNode.containerInfo),La(t,e),Ia(e),_s=n;break;case 12:La(t,e),Ia(e);break;case 31:La(t,e),Ia(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Qd(e,n)));break;case 13:La(t,e),Ia(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Kd=Ga()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Qd(e,n)));break;case 22:r=e.memoizedState!==null;var c=a!==null&&a.memoizedState!==null,d=yn,m=Gt;if(yn=d||r,Gt=m||c,La(t,e),Gt=m,yn=d,Ia(e),n&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(a===null||c||yn||Gt||ci(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){c=a=t;try{if(i=c.stateNode,r)l=i.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none";else{o=c.stateNode;var f=c.memoizedProps.style,p=f!=null&&f.hasOwnProperty("display")?f.display:null;o.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(h){nt(c,c.return,h)}}}else if(t.tag===6){if(a===null){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(h){nt(c,c.return,h)}}}else if(t.tag===18){if(a===null){c=t;try{var x=c.stateNode;r?pv(x,!0):pv(c.stateNode,!1)}catch(h){nt(c,c.return,h)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,Qd(e,a))));break;case 19:La(t,e),Ia(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Qd(e,n)));break;case 30:break;case 21:break;default:La(t,e),Ia(e)}}function Ia(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(fb(n)){a=n;break}n=n.return}if(a==null)throw Error(X(160));switch(a.tag){case 27:var r=a.stateNode,i=bh(e);Gd(e,i,r);break;case 5:var l=a.stateNode;a.flags&32&&(al(l,""),a.flags&=-33);var o=bh(e);Gd(e,o,l);break;case 3:case 4:var c=a.stateNode.containerInfo,d=bh(e);vh(e,d,c);break;default:throw Error(X(161))}}catch(m){nt(e,e.return,m)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Sb(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Sb(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function vn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)yb(e,t.alternate,t),t=t.sibling}function ci(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:lr(4,t,t.return),ci(t);break;case 1:Qs(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&pb(t,t.return,a),ci(t);break;case 27:ic(t.stateNode);case 26:case 5:Qs(t,t.return),ci(t);break;case 22:t.memoizedState===null&&ci(t);break;case 30:ci(t);break;default:ci(t)}e=e.sibling}}function jn(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,r=e,i=t,l=i.flags;switch(i.tag){case 0:case 11:case 15:jn(r,i,a),Wo(4,i);break;case 1:if(jn(r,i,a),n=i,r=n.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(d){nt(n,n.return,d)}if(n=i,r=n.updateQueue,r!==null){var o=n.stateNode;try{var c=r.shared.hiddenCallbacks;if(c!==null)for(r.shared.hiddenCallbacks=null,r=0;r<c.length;r++)ty(c[r],o)}catch(d){nt(n,n.return,d)}}a&&l&64&&mb(i),Xo(i,i.return);break;case 27:xb(i);case 26:case 5:jn(r,i,a),a&&n===null&&l&4&&hb(i),Xo(i,i.return);break;case 12:jn(r,i,a);break;case 31:jn(r,i,a),a&&l&4&&jb(r,i);break;case 13:jn(r,i,a),a&&l&4&&wb(r,i);break;case 22:i.memoizedState===null&&jn(r,i,a),Xo(i,i.return);break;case 30:break;default:jn(r,i,a)}t=t.sibling}}function wh(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&zo(a))}function Nh(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&zo(e))}function Rs(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Cb(e,t,a,n),t=t.sibling}function Cb(e,t,a,n){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Rs(e,t,a,n),r&2048&&Wo(9,t);break;case 1:Rs(e,t,a,n);break;case 3:Rs(e,t,a,n),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&zo(e)));break;case 12:if(r&2048){Rs(e,t,a,n),e=t.stateNode;try{var i=t.memoizedProps,l=i.id,o=i.onPostCommit;typeof o=="function"&&o(l,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){nt(t,t.return,c)}}else Rs(e,t,a,n);break;case 31:Rs(e,t,a,n);break;case 13:Rs(e,t,a,n);break;case 23:break;case 22:i=t.stateNode,l=t.alternate,t.memoizedState!==null?i._visibility&2?Rs(e,t,a,n):Zo(e,t):i._visibility&2?Rs(e,t,a,n):(i._visibility|=2,wl(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),r&2048&&wh(l,t);break;case 24:Rs(e,t,a,n),r&2048&&Nh(t.alternate,t);break;default:Rs(e,t,a,n)}}function wl(e,t,a,n,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,l=t,o=a,c=n,d=l.flags;switch(l.tag){case 0:case 11:case 15:wl(i,l,o,c,r),Wo(8,l);break;case 23:break;case 22:var m=l.stateNode;l.memoizedState!==null?m._visibility&2?wl(i,l,o,c,r):Zo(i,l):(m._visibility|=2,wl(i,l,o,c,r)),r&&d&2048&&wh(l.alternate,l);break;case 24:wl(i,l,o,c,r),r&&d&2048&&Nh(l.alternate,l);break;default:wl(i,l,o,c,r)}t=t.sibling}}function Zo(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,r=n.flags;switch(n.tag){case 22:Zo(a,n),r&2048&&wh(n.alternate,n);break;case 24:Zo(a,n),r&2048&&Nh(n.alternate,n);break;default:Zo(a,n)}t=t.sibling}}var Jo=8192;function Nl(e,t,a){if(e.subtreeFlags&Jo)for(e=e.child;e!==null;)Eb(e,t,a),e=e.sibling}function Eb(e,t,a){switch(e.tag){case 26:Nl(e,t,a),e.flags&Jo&&e.memoizedState!==null&&q5(a,_s,e.memoizedState,e.memoizedProps);break;case 5:Nl(e,t,a);break;case 3:case 4:var n=_s;_s=lu(e.stateNode.containerInfo),Nl(e,t,a),_s=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Jo,Jo=16777216,Nl(e,t,a),Jo=n):Nl(e,t,a));break;default:Nl(e,t,a)}}function kb(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ec(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];ea=n,Tb(n,e)}kb(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ab(e),e=e.sibling}function Ab(e){switch(e.tag){case 0:case 11:case 15:ec(e),e.flags&2048&&lr(9,e,e.return);break;case 3:ec(e);break;case 12:ec(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Yd(e)):ec(e);break;default:ec(e)}}function Yd(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];ea=n,Tb(n,e)}kb(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:lr(8,t,t.return),Yd(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Yd(t));break;default:Yd(t)}e=e.sibling}}function Tb(e,t){for(;ea!==null;){var a=ea;switch(a.tag){case 0:case 11:case 15:lr(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:zo(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,ea=n;else e:for(a=e;ea!==null;){n=ea;var r=n.sibling,i=n.return;if(bb(n),n===a){ea=null;break e}if(r!==null){r.return=i,ea=r;break e}ea=i}}}var a5={getCacheForType:function(e){var t=oa(Bt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return oa(Bt).controller.signal}},s5=typeof WeakMap=="function"?WeakMap:Map,et=0,mt=null,Ve=null,Qe=0,st=0,Ja=null,or=!1,Sl=!1,Sh=!1,wn=0,Ut=0,cr=0,di=0,Ch=0,es=0,Cl=0,tc=null,za=null,Eh=!1,Kd=0,Mb=0,Wd=1/0,Xd=null,dr=null,Wt=0,ur=null,El=null,Nn=0,kh=0,Ah=null,Ob=null,ac=0,Th=null;function ts(){return et&2&&Qe!==0?Qe&-Qe:Ae.T!==null?Lh():Q0()}function _b(){if(es===0)if(!(Qe&536870912)||Ke){var e=rd;rd<<=1,!(rd&3932160)&&(rd=262144),es=e}else es=536870912;return e=Xa.current,e!==null&&(e.flags|=32),es}function $a(e,t,a){(e===mt&&(st===2||st===9)||e.cancelPendingCommit!==null)&&(kl(e,0),mr(e,Qe,es,!1)),No(e,a),(!(et&2)||e!==mt)&&(e===mt&&(!(et&2)&&(di|=a),Ut===4&&mr(e,Qe,es,!1)),Ys(e))}function Rb(e,t,a){if(et&6)throw Error(X(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||wo(e,t),r=n?i5(e,t):Oh(e,t,!0),i=n;do{if(r===0){Sl&&!n&&mr(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!n5(a)){r=Oh(e,t,!1),i=!1;continue}if(r===2){if(i=t,e.errorRecoveryDisabledLanes&i)var l=0;else l=e.pendingLanes&-536870913,l=l!==0?l:l&536870912?536870912:0;if(l!==0){t=l;e:{var o=e;r=tc;var c=o.current.memoizedState.isDehydrated;if(c&&(kl(o,l).flags|=256),l=Oh(o,l,!1),l!==2){if(Sh&&!c){o.errorRecoveryDisabledLanes|=i,di|=i,r=4;break e}i=za,za=r,i!==null&&(za===null?za=i:za.push.apply(za,i))}r=l}if(i=!1,r!==2)continue}}if(r===1){kl(e,0),mr(e,t,0,!0);break}e:{switch(n=e,i=r,i){case 0:case 1:throw Error(X(345));case 4:if((t&4194048)!==t)break;case 6:mr(n,t,es,!or);break e;case 2:za=null;break;case 3:case 5:break;default:throw Error(X(329))}if((t&62914560)===t&&(r=Kd+300-Ga(),10<r)){if(mr(n,t,es,!or),ld(n,0,!0)!==0)break e;Nn=t,n.timeoutHandle=dv(Db.bind(null,n,a,za,Xd,Eh,t,es,di,Cl,or,i,"Throttled",-0,0),r);break e}Db(n,a,za,Xd,Eh,t,es,di,Cl,or,i,null,-0,0)}}break}while(!0);Ys(e)}function Db(e,t,a,n,r,i,l,o,c,d,m,f,p,x){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:on},Eb(t,i,f);var h=(i&62914560)===i?Kd-Ga():(i&4194048)===i?Mb-Ga():0;if(h=P5(f,h),h!==null){Nn=i,e.cancelPendingCommit=h(Pb.bind(null,e,t,i,a,n,r,l,o,c,m,f,null,p,x)),mr(e,i,l,!d);return}}Pb(e,t,i,a,n,r,l,o,c)}function n5(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var r=a[n],i=r.getSnapshot;r=r.value;try{if(!Ka(i(),r))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mr(e,t,a,n){t&=~Ch,t&=~di,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var r=t;0<r;){var i=31-Ya(r),l=1<<i;n[i]=-1,r&=~l}a!==0&&H0(e,a,t)}function Zd(){return et&6?!0:(sc(0),!1)}function Mh(){if(Ve!==null){if(st===0)var e=Ve.return;else e=Ve,mn=ti=null,Gp(e),gl=null,Uo=0,e=Ve;for(;e!==null;)ub(e.alternate,e),e=e.return;Ve=null}}function kl(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,S5(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Nn=0,Mh(),mt=e,Ve=a=dn(e.current,null),Qe=t,st=0,Ja=null,or=!1,Sl=wo(e,t),Sh=!1,Cl=es=Ch=di=cr=Ut=0,za=tc=null,Eh=!1,t&8&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var r=31-Ya(n),i=1<<r;t|=e[r],n&=~i}return wn=t,bd(),a}function Lb(e,t){Le=null,Ae.H=Qo,t===xl||t===kd?(t=Xg(),st=3):t===Dp?(t=Xg(),st=4):st=t===oh?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ja=t,Ve===null&&(Ut=1,qd(e,fs(t,e.current)))}function Ib(){var e=Xa.current;return e===null?!0:(Qe&4194048)===Qe?bs===null:(Qe&62914560)===Qe||Qe&536870912?e===bs:!1}function zb(){var e=Ae.H;return Ae.H=Qo,e===null?Qo:e}function $b(){var e=Ae.A;return Ae.A=a5,e}function Jd(){Ut=4,or||(Qe&4194048)!==Qe&&Xa.current!==null||(Sl=!0),!(cr&134217727)&&!(di&134217727)||mt===null||mr(mt,Qe,es,!1)}function Oh(e,t,a){var n=et;et|=2;var r=zb(),i=$b();(mt!==e||Qe!==t)&&(Xd=null,kl(e,t)),t=!1;var l=Ut;e:do try{if(st!==0&&Ve!==null){var o=Ve,c=Ja;switch(st){case 8:Mh(),l=6;break e;case 3:case 2:case 9:case 6:Xa.current===null&&(t=!0);var d=st;if(st=0,Ja=null,Al(e,o,c,d),a&&Sl){l=0;break e}break;default:d=st,st=0,Ja=null,Al(e,o,c,d)}}r5(),l=Ut;break}catch(m){Lb(e,m)}while(!0);return t&&e.shellSuspendCounter++,mn=ti=null,et=n,Ae.H=r,Ae.A=i,Ve===null&&(mt=null,Qe=0,bd()),l}function r5(){for(;Ve!==null;)Ub(Ve)}function i5(e,t){var a=et;et|=2;var n=zb(),r=$b();mt!==e||Qe!==t?(Xd=null,Wd=Ga()+500,kl(e,t)):Sl=wo(e,t);e:do try{if(st!==0&&Ve!==null){t=Ve;var i=Ja;t:switch(st){case 1:st=0,Ja=null,Al(e,t,i,1);break;case 2:case 9:if(Kg(i)){st=0,Ja=null,Fb(t);break}t=function(){st!==2&&st!==9||mt!==e||(st=7),Ys(e)},i.then(t,t);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Kg(i)?(st=0,Ja=null,Fb(t)):(st=0,Ja=null,Al(e,t,i,7));break;case 5:var l=null;switch(Ve.tag){case 26:l=Ve.memoizedState;case 5:case 27:var o=Ve;if(l?Cv(l):o.stateNode.complete){st=0,Ja=null;var c=o.sibling;if(c!==null)Ve=c;else{var d=o.return;d!==null?(Ve=d,eu(d)):Ve=null}break t}}st=0,Ja=null,Al(e,t,i,5);break;case 6:st=0,Ja=null,Al(e,t,i,6);break;case 8:Mh(),Ut=6;break e;default:throw Error(X(462))}}l5();break}catch(m){Lb(e,m)}while(!0);return mn=ti=null,Ae.H=n,Ae.A=r,et=a,Ve!==null?0:(mt=null,Qe=0,bd(),Ut)}function l5(){for(;Ve!==null&&!MS();)Ub(Ve)}function Ub(e){var t=cb(e.alternate,e,wn);e.memoizedProps=e.pendingProps,t===null?eu(e):Ve=t}function Fb(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=sb(a,t,t.pendingProps,t.type,void 0,Qe);break;case 11:t=sb(a,t,t.pendingProps,t.type.render,t.ref,Qe);break;case 5:Gp(t);default:ub(a,t),t=Ve=$g(t,wn),t=cb(a,t,wn)}e.memoizedProps=e.pendingProps,t===null?eu(e):Ve=t}function Al(e,t,a,n){mn=ti=null,Gp(t),gl=null,Uo=0;var r=t.return;try{if(KC(e,r,t,a,Qe)){Ut=1,qd(e,fs(a,e.current)),Ve=null;return}}catch(i){if(r!==null)throw Ve=r,i;Ut=1,qd(e,fs(a,e.current)),Ve=null;return}t.flags&32768?(Ke||n===1?e=!0:Sl||Qe&536870912?e=!1:(or=e=!0,(n===2||n===9||n===3||n===6)&&(n=Xa.current,n!==null&&n.tag===13&&(n.flags|=16384))),qb(t,e)):eu(t)}function eu(e){var t=e;do{if(t.flags&32768){qb(t,or);return}e=t.return;var a=ZC(t.alternate,t,wn);if(a!==null){Ve=a;return}if(t=t.sibling,t!==null){Ve=t;return}Ve=t=e}while(t!==null);Ut===0&&(Ut=5)}function qb(e,t){do{var a=JC(e.alternate,e);if(a!==null){a.flags&=32767,Ve=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Ve=e;return}Ve=e=a}while(e!==null);Ut=6,Ve=null}function Pb(e,t,a,n,r,i,l,o,c){e.cancelPendingCommit=null;do tu();while(Wt!==0);if(et&6)throw Error(X(327));if(t!==null){if(t===e.current)throw Error(X(177));if(i=t.lanes|t.childLanes,i|=bp,FS(e,a,i,l,o,c),e===mt&&(Ve=mt=null,Qe=0),El=t,ur=e,Nn=a,kh=i,Ah=r,Ob=n,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,u5(sd,function(){return Qb(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,t.subtreeFlags&13878||n){n=Ae.T,Ae.T=null,r=Je.p,Je.p=2,l=et,et|=4;try{e5(e,t,a)}finally{et=l,Je.p=r,Ae.T=n}}Wt=1,Bb(),Hb(),Vb()}}function Bb(){if(Wt===1){Wt=0;var e=ur,t=El,a=(t.flags&13878)!==0;if(t.subtreeFlags&13878||a){a=Ae.T,Ae.T=null;var n=Je.p;Je.p=2;var r=et;et|=4;try{Nb(t,e);var i=Bh,l=Tg(e.containerInfo),o=i.focusedElem,c=i.selectionRange;if(l!==o&&o&&o.ownerDocument&&Ag(o.ownerDocument.documentElement,o)){if(c!==null&&hp(o)){var d=c.start,m=c.end;if(m===void 0&&(m=d),"selectionStart"in o)o.selectionStart=d,o.selectionEnd=Math.min(m,o.value.length);else{var f=o.ownerDocument||document,p=f&&f.defaultView||window;if(p.getSelection){var x=p.getSelection(),h=o.textContent.length,w=Math.min(c.start,h),v=c.end===void 0?w:Math.min(c.end,h);!x.extend&&w>v&&(l=v,v=w,w=l);var g=kg(o,w),y=kg(o,v);if(g&&y&&(x.rangeCount!==1||x.anchorNode!==g.node||x.anchorOffset!==g.offset||x.focusNode!==y.node||x.focusOffset!==y.offset)){var b=f.createRange();b.setStart(g.node,g.offset),x.removeAllRanges(),w>v?(x.addRange(b),x.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),x.addRange(b))}}}}for(f=[],x=o;x=x.parentNode;)x.nodeType===1&&f.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<f.length;o++){var j=f[o];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}pu=!!Ph,Bh=Ph=null}finally{et=r,Je.p=n,Ae.T=a}}e.current=t,Wt=2}}function Hb(){if(Wt===2){Wt=0;var e=ur,t=El,a=(t.flags&8772)!==0;if(t.subtreeFlags&8772||a){a=Ae.T,Ae.T=null;var n=Je.p;Je.p=2;var r=et;et|=4;try{yb(e,t.alternate,t)}finally{et=r,Je.p=n,Ae.T=a}}Wt=3}}function Vb(){if(Wt===4||Wt===3){Wt=0,OS();var e=ur,t=El,a=Nn,n=Ob;t.subtreeFlags&10256||t.flags&10256?Wt=5:(Wt=0,El=ur=null,Gb(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(dr=null),Km(a),t=t.stateNode,Qa&&typeof Qa.onCommitFiberRoot=="function")try{Qa.onCommitFiberRoot(jo,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=Ae.T,r=Je.p,Je.p=2,Ae.T=null;try{for(var i=e.onRecoverableError,l=0;l<n.length;l++){var o=n[l];i(o.value,{componentStack:o.stack})}}finally{Ae.T=t,Je.p=r}}Nn&3&&tu(),Ys(e),r=e.pendingLanes,a&261930&&r&42?e===Th?ac++:(ac=0,Th=e):ac=0,sc(0)}}function Gb(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,zo(t)))}function tu(){return Bb(),Hb(),Vb(),Qb()}function Qb(){if(Wt!==5)return!1;var e=ur,t=kh;kh=0;var a=Km(Nn),n=Ae.T,r=Je.p;try{Je.p=32>a?32:a,Ae.T=null,a=Ah,Ah=null;var i=ur,l=Nn;if(Wt=0,El=ur=null,Nn=0,et&6)throw Error(X(331));var o=et;if(et|=4,Ab(i.current),Cb(i,i.current,l,a),et=o,sc(0,!1),Qa&&typeof Qa.onPostCommitFiberRoot=="function")try{Qa.onPostCommitFiberRoot(jo,i)}catch{}return!0}finally{Je.p=r,Ae.T=n,Gb(e,t)}}function Yb(e,t,a){t=fs(a,t),t=lh(e.stateNode,t,2),e=nr(e,t,2),e!==null&&(No(e,2),Ys(e))}function nt(e,t,a){if(e.tag===3)Yb(e,e,a);else for(;t!==null;){if(t.tag===3){Yb(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(dr===null||!dr.has(n))){e=fs(a,e),a=Ky(2),n=nr(t,a,2),n!==null&&(Wy(a,n,t,e),No(n,2),Ys(n));break}}t=t.return}}function _h(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new s5;var r=new Set;n.set(t,r)}else r=n.get(t),r===void 0&&(r=new Set,n.set(t,r));r.has(a)||(Sh=!0,r.add(a),e=o5.bind(null,e,t,a),t.then(e,e))}function o5(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,mt===e&&(Qe&a)===a&&(Ut===4||Ut===3&&(Qe&62914560)===Qe&&300>Ga()-Kd?!(et&2)&&kl(e,0):Ch|=a,Cl===Qe&&(Cl=0)),Ys(e)}function Kb(e,t){t===0&&(t=B0()),e=Zr(e,t),e!==null&&(No(e,t),Ys(e))}function c5(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Kb(e,a)}function d5(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,r=e.memoizedState;r!==null&&(a=r.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(X(314))}n!==null&&n.delete(t),Kb(e,a)}function u5(e,t){return Vm(e,t)}var au=null,Tl=null,Rh=!1,su=!1,Dh=!1,pr=0;function Ys(e){e!==Tl&&e.next===null&&(Tl===null?au=Tl=e:Tl=Tl.next=e),su=!0,Rh||(Rh=!0,p5())}function sc(e,t){if(!Dh&&su){Dh=!0;do for(var a=!1,n=au;n!==null;){if(e!==0){var r=n.pendingLanes;if(r===0)var i=0;else{var l=n.suspendedLanes,o=n.pingedLanes;i=(1<<31-Ya(42|e)+1)-1,i&=r&~(l&~o),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,Jb(n,i))}else i=Qe,i=ld(n,n===mt?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(i&3)||wo(n,i)||(a=!0,Jb(n,i));n=n.next}while(a);Dh=!1}}function m5(){Wb()}function Wb(){su=Rh=!1;var e=0;pr!==0&&N5()&&(e=pr);for(var t=Ga(),a=null,n=au;n!==null;){var r=n.next,i=Xb(n,t);i===0?(n.next=null,a===null?au=r:a.next=r,r===null&&(Tl=a)):(a=n,(e!==0||i&3)&&(su=!0)),n=r}Wt!==0&&Wt!==5||sc(e),pr!==0&&(pr=0)}function Xb(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var l=31-Ya(i),o=1<<l,c=r[l];c===-1?(!(o&a)||o&n)&&(r[l]=US(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}if(t=mt,a=Qe,a=ld(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(st===2||st===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Gm(n),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||wo(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&Gm(n),Km(a)){case 2:case 8:a=q0;break;case 32:a=sd;break;case 268435456:a=P0;break;default:a=sd}return n=Zb.bind(null,e),a=Vm(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&Gm(n),e.callbackPriority=2,e.callbackNode=null,2}function Zb(e,t){if(Wt!==0&&Wt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(tu()&&e.callbackNode!==a)return null;var n=Qe;return n=ld(e,e===mt?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(Rb(e,n,t),Xb(e,Ga()),e.callbackNode!=null&&e.callbackNode===a?Zb.bind(null,e):null)}function Jb(e,t){if(tu())return null;Rb(e,t,!0)}function p5(){C5(function(){et&6?Vm(F0,m5):Wb()})}function Lh(){if(pr===0){var e=hl;e===0&&(e=nd,nd<<=1,!(nd&261888)&&(nd=256)),pr=e}return pr}function ev(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ud(""+e)}function tv(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function h5(e,t,a,n,r){if(t==="submit"&&a&&a.stateNode===r){var i=ev((r[_a]||null).action),l=n.submitter;l&&(t=(t=l[_a]||null)?ev(t.formAction):l.getAttribute("formAction"),t!==null&&(i=t,l=null));var o=new fd("action","action",null,n,r);e.push({event:o,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(pr!==0){var c=l?tv(r,l):new FormData(r);th(a,{pending:!0,data:c,method:r.method,action:i},null,c)}}else typeof i=="function"&&(o.preventDefault(),c=l?tv(r,l):new FormData(r),th(a,{pending:!0,data:c,method:r.method,action:i},i,c))},currentTarget:r}]})}}for(var Ih=0;Ih<yp.length;Ih++){var zh=yp[Ih],f5=zh.toLowerCase(),x5=zh[0].toUpperCase()+zh.slice(1);Os(f5,"on"+x5)}Os(_g,"onAnimationEnd"),Os(Rg,"onAnimationIteration"),Os(Dg,"onAnimationStart"),Os("dblclick","onDoubleClick"),Os("focusin","onFocus"),Os("focusout","onBlur"),Os(_C,"onTransitionRun"),Os(RC,"onTransitionStart"),Os(DC,"onTransitionCancel"),Os(Lg,"onTransitionEnd"),el("onMouseEnter",["mouseout","mouseover"]),el("onMouseLeave",["mouseout","mouseover"]),el("onPointerEnter",["pointerout","pointerover"]),el("onPointerLeave",["pointerout","pointerover"]),Yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nc));function av(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],r=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&r.isPropagationStopped())break e;i=o,r.currentTarget=d;try{i(r)}catch(m){yd(m)}r.currentTarget=null,i=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&r.isPropagationStopped())break e;i=o,r.currentTarget=d;try{i(r)}catch(m){yd(m)}r.currentTarget=null,i=c}}}}function Ge(e,t){var a=t[Wm];a===void 0&&(a=t[Wm]=new Set);var n=e+"__bubble";a.has(n)||(sv(t,e,2,!1),a.add(n))}function $h(e,t,a){var n=0;t&&(n|=4),sv(a,e,n,t)}var nu="_reactListening"+Math.random().toString(36).slice(2);function Uh(e){if(!e[nu]){e[nu]=!0,W0.forEach(function(a){a!=="selectionchange"&&(g5.has(a)||$h(a,!1,e),$h(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[nu]||(t[nu]=!0,$h("selectionchange",!1,t))}}function sv(e,t,a,n){switch(_v(t)){case 2:var r=V5;break;case 8:r=G5;break;default:r=ef}a=r.bind(null,t,a,e),r=void 0,!rp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),n?r!==void 0?e.addEventListener(t,a,{capture:!0,passive:r}):e.addEventListener(t,a,!0):r!==void 0?e.addEventListener(t,a,{passive:r}):e.addEventListener(t,a,!1)}function Fh(e,t,a,n,r){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===r)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&l.stateNode.containerInfo===r)return;l=l.return}for(;o!==null;){if(l=Xi(o),l===null)return;if(c=l.tag,c===5||c===6||c===26||c===27){n=i=l;continue e}o=o.parentNode}}n=n.return}og(function(){var d=i,m=sp(a),f=[];e:{var p=Ig.get(e);if(p!==void 0){var x=fd,h=e;switch(e){case"keypress":if(pd(a)===0)break e;case"keydown":case"keyup":x=dC;break;case"focusin":h="focus",x=cp;break;case"focusout":h="blur",x=cp;break;case"beforeblur":case"afterblur":x=cp;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=ug;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=ZS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=pC;break;case _g:case Rg:case Dg:x=tC;break;case Lg:x=fC;break;case"scroll":case"scrollend":x=WS;break;case"wheel":x=gC;break;case"copy":case"cut":case"paste":x=sC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=pg;break;case"toggle":case"beforetoggle":x=bC}var w=(t&4)!==0,v=!w&&(e==="scroll"||e==="scrollend"),g=w?p!==null?p+"Capture":null:p;w=[];for(var y=d,b;y!==null;){var j=y;if(b=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||b===null||g===null||(j=Eo(y,g),j!=null&&w.push(rc(y,j,b))),v)break;y=y.return}0<w.length&&(p=new x(p,h,null,a,m),f.push({event:p,listeners:w}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",p&&a!==ap&&(h=a.relatedTarget||a.fromElement)&&(Xi(h)||h[Wi]))break e;if((x||p)&&(p=m.window===m?m:(p=m.ownerDocument)?p.defaultView||p.parentWindow:window,x?(h=a.relatedTarget||a.toElement,x=d,h=h?Xi(h):null,h!==null&&(v=xo(h),w=h.tag,h!==v||w!==5&&w!==27&&w!==6)&&(h=null)):(x=null,h=d),x!==h)){if(w=ug,j="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(w=pg,j="onPointerLeave",g="onPointerEnter",y="pointer"),v=x==null?p:Co(x),b=h==null?p:Co(h),p=new w(j,y+"leave",x,a,m),p.target=v,p.relatedTarget=b,j=null,Xi(m)===d&&(w=new w(g,y+"enter",h,a,m),w.target=b,w.relatedTarget=v,j=w),v=j,x&&h)t:{for(w=y5,g=x,y=h,b=0,j=g;j;j=w(j))b++;j=0;for(var E=y;E;E=w(E))j++;for(;0<b-j;)g=w(g),b--;for(;0<j-b;)y=w(y),j--;for(;b--;){if(g===y||y!==null&&g===y.alternate){w=g;break t}g=w(g),y=w(y)}w=null}else w=null;x!==null&&nv(f,p,x,w,!1),h!==null&&v!==null&&nv(f,v,h,w,!0)}}e:{if(p=d?Co(d):window,x=p.nodeName&&p.nodeName.toLowerCase(),x==="select"||x==="input"&&p.type==="file")var k=jg;else if(bg(p))if(wg)k=TC;else{k=kC;var S=EC}else x=p.nodeName,!x||x.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?d&&tp(d.elementType)&&(k=jg):k=AC;if(k&&(k=k(e,d))){vg(f,k,a,m);break e}S&&S(e,p,d),e==="focusout"&&d&&p.type==="number"&&d.memoizedProps.value!=null&&ep(p,"number",p.value)}switch(S=d?Co(d):window,e){case"focusin":(bg(S)||S.contentEditable==="true")&&(il=S,fp=d,Do=null);break;case"focusout":Do=fp=il=null;break;case"mousedown":xp=!0;break;case"contextmenu":case"mouseup":case"dragend":xp=!1,Mg(f,a,m);break;case"selectionchange":if(OC)break;case"keydown":case"keyup":Mg(f,a,m)}var N;if(up)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else rl?gg(e,a)&&(M="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(M="onCompositionStart");M&&(hg&&a.locale!=="ko"&&(rl||M!=="onCompositionStart"?M==="onCompositionEnd"&&rl&&(N=cg()):(Xn=m,ip="value"in Xn?Xn.value:Xn.textContent,rl=!0)),S=ru(d,M),0<S.length&&(M=new mg(M,e,null,a,m),f.push({event:M,listeners:S}),N?M.data=N:(N=yg(a),N!==null&&(M.data=N)))),(N=jC?wC(e,a):NC(e,a))&&(M=ru(d,"onBeforeInput"),0<M.length&&(S=new mg("onBeforeInput","beforeinput",null,a,m),f.push({event:S,listeners:M}),S.data=N)),h5(f,e,d,a,m)}av(f,t)})}function rc(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ru(e,t){for(var a=t+"Capture",n=[];e!==null;){var r=e,i=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||i===null||(r=Eo(e,a),r!=null&&n.unshift(rc(e,r,i)),r=Eo(e,t),r!=null&&n.push(rc(e,r,i))),e.tag===3)return n;e=e.return}return[]}function y5(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function nv(e,t,a,n,r){for(var i=t._reactName,l=[];a!==null&&a!==n;){var o=a,c=o.alternate,d=o.stateNode;if(o=o.tag,c!==null&&c===n)break;o!==5&&o!==26&&o!==27||d===null||(c=d,r?(d=Eo(a,i),d!=null&&l.unshift(rc(a,d,c))):r||(d=Eo(a,i),d!=null&&l.push(rc(a,d,c)))),a=a.return}l.length!==0&&e.push({event:t,listeners:l})}var b5=/\r\n?/g,v5=/\u0000|\uFFFD/g;function rv(e){return(typeof e=="string"?e:""+e).replace(b5,`
`).replace(v5,"")}function iv(e,t){return t=rv(t),rv(e)===t}function ct(e,t,a,n,r,i){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||al(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&al(e,""+n);break;case"className":cd(e,"class",n);break;case"tabIndex":cd(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":cd(e,a,n);break;case"style":ig(e,n,i);break;case"data":if(t!=="object"){cd(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=ud(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&ct(e,t,"name",r.name,r,null),ct(e,t,"formEncType",r.formEncType,r,null),ct(e,t,"formMethod",r.formMethod,r,null),ct(e,t,"formTarget",r.formTarget,r,null)):(ct(e,t,"encType",r.encType,r,null),ct(e,t,"method",r.method,r,null),ct(e,t,"target",r.target,r,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=ud(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=on);break;case"onScroll":n!=null&&Ge("scroll",e);break;case"onScrollEnd":n!=null&&Ge("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(X(61));if(a=n.__html,a!=null){if(r.children!=null)throw Error(X(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=ud(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":Ge("beforetoggle",e),Ge("toggle",e),od(e,"popover",n);break;case"xlinkActuate":ln(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":ln(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":ln(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":ln(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":ln(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":ln(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":ln(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":ln(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":ln(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":od(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=YS.get(a)||a,od(e,a,n))}}function qh(e,t,a,n,r,i){switch(a){case"style":ig(e,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(X(61));if(a=n.__html,a!=null){if(r.children!=null)throw Error(X(60));e.innerHTML=a}}break;case"children":typeof n=="string"?al(e,n):(typeof n=="number"||typeof n=="bigint")&&al(e,""+n);break;case"onScroll":n!=null&&Ge("scroll",e);break;case"onScrollEnd":n!=null&&Ge("scrollend",e);break;case"onClick":n!=null&&(e.onclick=on);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!X0.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(r=a.endsWith("Capture"),t=a.slice(2,r?a.length-7:void 0),i=e[_a]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,r),typeof n=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,r);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):od(e,a,n)}}}function da(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",e),Ge("load",e);var n=!1,r=!1,i;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];if(l!=null)switch(i){case"src":n=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(X(137,t));default:ct(e,t,i,l,a,null)}}r&&ct(e,t,"srcSet",a.srcSet,a,null),n&&ct(e,t,"src",a.src,a,null);return;case"input":Ge("invalid",e);var o=i=l=r=null,c=null,d=null;for(n in a)if(a.hasOwnProperty(n)){var m=a[n];if(m!=null)switch(n){case"name":r=m;break;case"type":l=m;break;case"checked":c=m;break;case"defaultChecked":d=m;break;case"value":i=m;break;case"defaultValue":o=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(X(137,t));break;default:ct(e,t,n,m,a,null)}}ag(e,i,o,c,d,l,r,!1);return;case"select":Ge("invalid",e),n=l=i=null;for(r in a)if(a.hasOwnProperty(r)&&(o=a[r],o!=null))switch(r){case"value":i=o;break;case"defaultValue":l=o;break;case"multiple":n=o;default:ct(e,t,r,o,a,null)}t=i,a=l,e.multiple=!!n,t!=null?tl(e,!!n,t,!1):a!=null&&tl(e,!!n,a,!0);return;case"textarea":Ge("invalid",e),i=r=n=null;for(l in a)if(a.hasOwnProperty(l)&&(o=a[l],o!=null))switch(l){case"value":n=o;break;case"defaultValue":r=o;break;case"children":i=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(X(91));break;default:ct(e,t,l,o,a,null)}ng(e,n,r,i);return;case"option":for(c in a)if(a.hasOwnProperty(c)&&(n=a[c],n!=null))switch(c){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:ct(e,t,c,n,a,null)}return;case"dialog":Ge("beforetoggle",e),Ge("toggle",e),Ge("cancel",e),Ge("close",e);break;case"iframe":case"object":Ge("load",e);break;case"video":case"audio":for(n=0;n<nc.length;n++)Ge(nc[n],e);break;case"image":Ge("error",e),Ge("load",e);break;case"details":Ge("toggle",e);break;case"embed":case"source":case"link":Ge("error",e),Ge("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in a)if(a.hasOwnProperty(d)&&(n=a[d],n!=null))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(X(137,t));default:ct(e,t,d,n,a,null)}return;default:if(tp(t)){for(m in a)a.hasOwnProperty(m)&&(n=a[m],n!==void 0&&qh(e,t,m,n,a,void 0));return}}for(o in a)a.hasOwnProperty(o)&&(n=a[o],n!=null&&ct(e,t,o,n,a,null))}function j5(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,i=null,l=null,o=null,c=null,d=null,m=null;for(x in a){var f=a[x];if(a.hasOwnProperty(x)&&f!=null)switch(x){case"checked":break;case"value":break;case"defaultValue":c=f;default:n.hasOwnProperty(x)||ct(e,t,x,null,n,f)}}for(var p in n){var x=n[p];if(f=a[p],n.hasOwnProperty(p)&&(x!=null||f!=null))switch(p){case"type":i=x;break;case"name":r=x;break;case"checked":d=x;break;case"defaultChecked":m=x;break;case"value":l=x;break;case"defaultValue":o=x;break;case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(X(137,t));break;default:x!==f&&ct(e,t,p,x,n,f)}}Jm(e,l,o,c,d,m,i,r);return;case"select":x=l=o=p=null;for(i in a)if(c=a[i],a.hasOwnProperty(i)&&c!=null)switch(i){case"value":break;case"multiple":x=c;default:n.hasOwnProperty(i)||ct(e,t,i,null,n,c)}for(r in n)if(i=n[r],c=a[r],n.hasOwnProperty(r)&&(i!=null||c!=null))switch(r){case"value":p=i;break;case"defaultValue":o=i;break;case"multiple":l=i;default:i!==c&&ct(e,t,r,i,n,c)}t=o,a=l,n=x,p!=null?tl(e,!!a,p,!1):!!n!=!!a&&(t!=null?tl(e,!!a,t,!0):tl(e,!!a,a?[]:"",!1));return;case"textarea":x=p=null;for(o in a)if(r=a[o],a.hasOwnProperty(o)&&r!=null&&!n.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:ct(e,t,o,null,n,r)}for(l in n)if(r=n[l],i=a[l],n.hasOwnProperty(l)&&(r!=null||i!=null))switch(l){case"value":p=r;break;case"defaultValue":x=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(X(91));break;default:r!==i&&ct(e,t,l,r,n,i)}sg(e,p,x);return;case"option":for(var h in a)if(p=a[h],a.hasOwnProperty(h)&&p!=null&&!n.hasOwnProperty(h))switch(h){case"selected":e.selected=!1;break;default:ct(e,t,h,null,n,p)}for(c in n)if(p=n[c],x=a[c],n.hasOwnProperty(c)&&p!==x&&(p!=null||x!=null))switch(c){case"selected":e.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:ct(e,t,c,p,n,x)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var w in a)p=a[w],a.hasOwnProperty(w)&&p!=null&&!n.hasOwnProperty(w)&&ct(e,t,w,null,n,p);for(d in n)if(p=n[d],x=a[d],n.hasOwnProperty(d)&&p!==x&&(p!=null||x!=null))switch(d){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(X(137,t));break;default:ct(e,t,d,p,n,x)}return;default:if(tp(t)){for(var v in a)p=a[v],a.hasOwnProperty(v)&&p!==void 0&&!n.hasOwnProperty(v)&&qh(e,t,v,void 0,n,p);for(m in n)p=n[m],x=a[m],!n.hasOwnProperty(m)||p===x||p===void 0&&x===void 0||qh(e,t,m,p,n,x);return}}for(var g in a)p=a[g],a.hasOwnProperty(g)&&p!=null&&!n.hasOwnProperty(g)&&ct(e,t,g,null,n,p);for(f in n)p=n[f],x=a[f],!n.hasOwnProperty(f)||p===x||p==null&&x==null||ct(e,t,f,p,n,x)}function lv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function w5(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var r=a[n],i=r.transferSize,l=r.initiatorType,o=r.duration;if(i&&o&&lv(l)){for(l=0,o=r.responseEnd,n+=1;n<a.length;n++){var c=a[n],d=c.startTime;if(d>o)break;var m=c.transferSize,f=c.initiatorType;m&&lv(f)&&(c=c.responseEnd,l+=m*(c<o?1:(o-d)/(c-d)))}if(--n,t+=8*(i+l)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ph=null,Bh=null;function iu(e){return e.nodeType===9?e:e.ownerDocument}function ov(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cv(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Hh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vh=null;function N5(){var e=window.event;return e&&e.type==="popstate"?e===Vh?!1:(Vh=e,!0):(Vh=null,!1)}var dv=typeof setTimeout=="function"?setTimeout:void 0,S5=typeof clearTimeout=="function"?clearTimeout:void 0,uv=typeof Promise=="function"?Promise:void 0,C5=typeof queueMicrotask=="function"?queueMicrotask:typeof uv<"u"?function(e){return uv.resolve(null).then(e).catch(E5)}:dv;function E5(e){setTimeout(function(){throw e})}function hr(e){return e==="head"}function mv(e,t){var a=t,n=0;do{var r=a.nextSibling;if(e.removeChild(a),r&&r.nodeType===8)if(a=r.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(r),Rl(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")ic(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ic(a);for(var i=a.firstChild;i;){var l=i.nextSibling,o=i.nodeName;i[So]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=l}}else a==="body"&&ic(e.ownerDocument.body);a=r}while(a);Rl(t)}function pv(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function Gh(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gh(a),Xm(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function k5(e,t,a,n){for(;e.nodeType===1;){var r=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[So])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=vs(e.nextSibling),e===null)break}return null}function A5(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=vs(e.nextSibling),e===null))return null;return e}function hv(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=vs(e.nextSibling),e===null))return null;return e}function Qh(e){return e.data==="$?"||e.data==="$~"}function Yh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function T5(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function vs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Kh=null;function fv(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return vs(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function xv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function gv(e,t,a){switch(t=iu(a),e){case"html":if(e=t.documentElement,!e)throw Error(X(452));return e;case"head":if(e=t.head,!e)throw Error(X(453));return e;case"body":if(e=t.body,!e)throw Error(X(454));return e;default:throw Error(X(451))}}function ic(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Xm(e)}var js=new Map,yv=new Set;function lu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Sn=Je.d;Je.d={f:M5,r:O5,D:_5,C:R5,L:D5,m:L5,X:z5,S:I5,M:$5};function M5(){var e=Sn.f(),t=Zd();return e||t}function O5(e){var t=Zi(e);t!==null&&t.tag===5&&t.type==="form"?Ly(t):Sn.r(e)}var Ml=typeof document>"u"?null:document;function bv(e,t,a){var n=Ml;if(n&&typeof t=="string"&&t){var r=ps(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof a=="string"&&(r+='[crossorigin="'+a+'"]'),yv.has(r)||(yv.add(r),e={rel:e,crossOrigin:a,href:t},n.querySelector(r)===null&&(t=n.createElement("link"),da(t,"link",e),Jt(t),n.head.appendChild(t)))}}function _5(e){Sn.D(e),bv("dns-prefetch",e,null)}function R5(e,t){Sn.C(e,t),bv("preconnect",e,t)}function D5(e,t,a){Sn.L(e,t,a);var n=Ml;if(n&&e&&t){var r='link[rel="preload"][as="'+ps(t)+'"]';t==="image"&&a&&a.imageSrcSet?(r+='[imagesrcset="'+ps(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(r+='[imagesizes="'+ps(a.imageSizes)+'"]')):r+='[href="'+ps(e)+'"]';var i=r;switch(t){case"style":i=Ol(e);break;case"script":i=_l(e)}js.has(i)||(e=Nt({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),js.set(i,e),n.querySelector(r)!==null||t==="style"&&n.querySelector(lc(i))||t==="script"&&n.querySelector(oc(i))||(t=n.createElement("link"),da(t,"link",e),Jt(t),n.head.appendChild(t)))}}function L5(e,t){Sn.m(e,t);var a=Ml;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+ps(n)+'"][href="'+ps(e)+'"]',i=r;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=_l(e)}if(!js.has(i)&&(e=Nt({rel:"modulepreload",href:e},t),js.set(i,e),a.querySelector(r)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(oc(i)))return}n=a.createElement("link"),da(n,"link",e),Jt(n),a.head.appendChild(n)}}}function I5(e,t,a){Sn.S(e,t,a);var n=Ml;if(n&&e){var r=Ji(n).hoistableStyles,i=Ol(e);t=t||"default";var l=r.get(i);if(!l){var o={loading:0,preload:null};if(l=n.querySelector(lc(i)))o.loading=5;else{e=Nt({rel:"stylesheet",href:e,"data-precedence":t},a),(a=js.get(i))&&Wh(e,a);var c=l=n.createElement("link");Jt(c),da(c,"link",e),c._p=new Promise(function(d,m){c.onload=d,c.onerror=m}),c.addEventListener("load",function(){o.loading|=1}),c.addEventListener("error",function(){o.loading|=2}),o.loading|=4,ou(l,t,n)}l={type:"stylesheet",instance:l,count:1,state:o},r.set(i,l)}}}function z5(e,t){Sn.X(e,t);var a=Ml;if(a&&e){var n=Ji(a).hoistableScripts,r=_l(e),i=n.get(r);i||(i=a.querySelector(oc(r)),i||(e=Nt({src:e,async:!0},t),(t=js.get(r))&&Xh(e,t),i=a.createElement("script"),Jt(i),da(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(r,i))}}function $5(e,t){Sn.M(e,t);var a=Ml;if(a&&e){var n=Ji(a).hoistableScripts,r=_l(e),i=n.get(r);i||(i=a.querySelector(oc(r)),i||(e=Nt({src:e,async:!0,type:"module"},t),(t=js.get(r))&&Xh(e,t),i=a.createElement("script"),Jt(i),da(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(r,i))}}function vv(e,t,a,n){var r=(r=Yn.current)?lu(r):null;if(!r)throw Error(X(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Ol(a.href),a=Ji(r).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ol(a.href);var i=Ji(r).hoistableStyles,l=i.get(e);if(l||(r=r.ownerDocument||r,l={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,l),(i=r.querySelector(lc(e)))&&!i._p&&(l.instance=i,l.state.loading=5),js.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},js.set(e,a),i||U5(r,e,a,l.state))),t&&n===null)throw Error(X(528,""));return l}if(t&&n!==null)throw Error(X(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=_l(a),a=Ji(r).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(X(444,e))}}function Ol(e){return'href="'+ps(e)+'"'}function lc(e){return'link[rel="stylesheet"]['+e+"]"}function jv(e){return Nt({},e,{"data-precedence":e.precedence,precedence:null})}function U5(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),da(t,"link",a),Jt(t),e.head.appendChild(t))}function _l(e){return'[src="'+ps(e)+'"]'}function oc(e){return"script[async]"+e}function wv(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+ps(a.href)+'"]');if(n)return t.instance=n,Jt(n),n;var r=Nt({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Jt(n),da(n,"style",r),ou(n,a.precedence,e),t.instance=n;case"stylesheet":r=Ol(a.href);var i=e.querySelector(lc(r));if(i)return t.state.loading|=4,t.instance=i,Jt(i),i;n=jv(a),(r=js.get(r))&&Wh(n,r),i=(e.ownerDocument||e).createElement("link"),Jt(i);var l=i;return l._p=new Promise(function(o,c){l.onload=o,l.onerror=c}),da(i,"link",n),t.state.loading|=4,ou(i,a.precedence,e),t.instance=i;case"script":return i=_l(a.src),(r=e.querySelector(oc(i)))?(t.instance=r,Jt(r),r):(n=a,(r=js.get(i))&&(n=Nt({},a),Xh(n,r)),e=e.ownerDocument||e,r=e.createElement("script"),Jt(r),da(r,"link",n),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(X(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(n=t.instance,t.state.loading|=4,ou(n,a.precedence,e));return t.instance}function ou(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=n.length?n[n.length-1]:null,i=r,l=0;l<n.length;l++){var o=n[l];if(o.dataset.precedence===t)i=o;else if(i!==r)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Wh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Xh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var cu=null;function Nv(e,t,a){if(cu===null){var n=new Map,r=cu=new Map;r.set(a,n)}else r=cu,n=r.get(a),n||(n=new Map,r.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),r=0;r<a.length;r++){var i=a[r];if(!(i[So]||i[ia]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var l=i.getAttribute(t)||"";l=e+l;var o=n.get(l);o?o.push(i):n.set(l,[i])}}return n}function Sv(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function F5(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Cv(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function q5(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var r=Ol(n.href),i=t.querySelector(lc(r));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=du.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=i,Jt(i);return}i=t.ownerDocument||t,n=jv(n),(r=js.get(r))&&Wh(n,r),i=i.createElement("link"),Jt(i);var l=i;l._p=new Promise(function(o,c){l.onload=o,l.onerror=c}),da(i,"link",n),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&!(a.state.loading&3)&&(e.count++,a=du.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Zh=0;function P5(e,t){return e.stylesheets&&e.count===0&&mu(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&mu(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Zh===0&&(Zh=62500*w5());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&mu(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Zh?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(r)}}:null}function du(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var uu=null;function mu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,uu=new Map,t.forEach(B5,e),uu=null,du.call(e))}function B5(e,t){if(!(t.state.loading&4)){var a=uu.get(e);if(a)var n=a.get(null);else{a=new Map,uu.set(e,a);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<r.length;i++){var l=r[i];(l.nodeName==="LINK"||l.getAttribute("media")!=="not all")&&(a.set(l.dataset.precedence,l),n=l)}n&&a.set(null,n)}r=t.instance,l=r.getAttribute("data-precedence"),i=a.get(l)||n,i===n&&a.set(null,r),a.set(l,r),this.count++,n=du.bind(this),r.addEventListener("load",n),r.addEventListener("error",n),i?i.parentNode.insertBefore(r,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var cc={$$typeof:rn,Provider:null,Consumer:null,_currentValue:Vr,_currentValue2:Vr,_threadCount:0};function H5(e,t,a,n,r,i,l,o,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qm(0),this.hiddenUpdates=Qm(null),this.identifierPrefix=n,this.onUncaughtError=r,this.onCaughtError=i,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function Ev(e,t,a,n,r,i,l,o,c,d,m,f){return e=new H5(e,t,a,l,c,d,m,f,o),t=1,i===!0&&(t|=24),i=Wa(3,null,null,t),e.current=i,i.stateNode=e,t=Op(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:a,cache:t},Lp(i),e}function kv(e){return e?(e=cl,e):cl}function Av(e,t,a,n,r,i){r=kv(r),n.context===null?n.context=r:n.pendingContext=r,n=sr(t),n.payload={element:a},i=i===void 0?null:i,i!==null&&(n.callback=i),a=nr(e,n,t),a!==null&&($a(a,e,t),qo(a,e,t))}function Tv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Jh(e,t){Tv(e,t),(e=e.alternate)&&Tv(e,t)}function Mv(e){if(e.tag===13||e.tag===31){var t=Zr(e,67108864);t!==null&&$a(t,e,67108864),Jh(e,67108864)}}function Ov(e){if(e.tag===13||e.tag===31){var t=ts();t=Ym(t);var a=Zr(e,t);a!==null&&$a(a,e,t),Jh(e,t)}}var pu=!0;function V5(e,t,a,n){var r=Ae.T;Ae.T=null;var i=Je.p;try{Je.p=2,ef(e,t,a,n)}finally{Je.p=i,Ae.T=r}}function G5(e,t,a,n){var r=Ae.T;Ae.T=null;var i=Je.p;try{Je.p=8,ef(e,t,a,n)}finally{Je.p=i,Ae.T=r}}function ef(e,t,a,n){if(pu){var r=tf(n);if(r===null)Fh(e,t,n,hu,a),Rv(e,n);else if(Y5(r,e,t,a,n))n.stopPropagation();else if(Rv(e,n),t&4&&-1<Q5.indexOf(e)){for(;r!==null;){var i=Zi(r);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var l=Qr(i.pendingLanes);if(l!==0){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;l;){var c=1<<31-Ya(l);o.entanglements[1]|=c,l&=~c}Ys(i),!(et&6)&&(Wd=Ga()+500,sc(0))}}break;case 31:case 13:o=Zr(i,2),o!==null&&$a(o,i,2),Zd(),Jh(i,2)}if(i=tf(n),i===null&&Fh(e,t,n,hu,a),i===r)break;r=i}r!==null&&n.stopPropagation()}else Fh(e,t,n,null,a)}}function tf(e){return e=sp(e),af(e)}var hu=null;function af(e){if(hu=null,e=Xi(e),e!==null){var t=xo(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=O0(t),e!==null)return e;e=null}else if(a===31){if(e=_0(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return hu=e,null}function _v(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_S()){case F0:return 2;case q0:return 8;case sd:case RS:return 32;case P0:return 268435456;default:return 32}default:return 32}}var sf=!1,fr=null,xr=null,gr=null,dc=new Map,uc=new Map,yr=[],Q5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rv(e,t){switch(e){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":dc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":uc.delete(t.pointerId)}}function mc(e,t,a,n,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:i,targetContainers:[r]},t!==null&&(t=Zi(t),t!==null&&Mv(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function Y5(e,t,a,n,r){switch(t){case"focusin":return fr=mc(fr,e,t,a,n,r),!0;case"dragenter":return xr=mc(xr,e,t,a,n,r),!0;case"mouseover":return gr=mc(gr,e,t,a,n,r),!0;case"pointerover":var i=r.pointerId;return dc.set(i,mc(dc.get(i)||null,e,t,a,n,r)),!0;case"gotpointercapture":return i=r.pointerId,uc.set(i,mc(uc.get(i)||null,e,t,a,n,r)),!0}return!1}function Dv(e){var t=Xi(e.target);if(t!==null){var a=xo(t);if(a!==null){if(t=a.tag,t===13){if(t=O0(a),t!==null){e.blockedOn=t,Y0(e.priority,function(){Ov(a)});return}}else if(t===31){if(t=_0(a),t!==null){e.blockedOn=t,Y0(e.priority,function(){Ov(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=tf(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);ap=n,a.target.dispatchEvent(n),ap=null}else return t=Zi(a),t!==null&&Mv(t),e.blockedOn=a,!1;t.shift()}return!0}function Lv(e,t,a){fu(e)&&a.delete(t)}function K5(){sf=!1,fr!==null&&fu(fr)&&(fr=null),xr!==null&&fu(xr)&&(xr=null),gr!==null&&fu(gr)&&(gr=null),dc.forEach(Lv),uc.forEach(Lv)}function xu(e,t){e.blockedOn===t&&(e.blockedOn=null,sf||(sf=!0,Kt.unstable_scheduleCallback(Kt.unstable_NormalPriority,K5)))}var gu=null;function Iv(e){gu!==e&&(gu=e,Kt.unstable_scheduleCallback(Kt.unstable_NormalPriority,function(){gu===e&&(gu=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],r=e[t+2];if(typeof n!="function"){if(af(n||a)===null)continue;break}var i=Zi(a);i!==null&&(e.splice(t,3),t-=3,th(i,{pending:!0,data:r,method:a.method,action:n},n,r))}}))}function Rl(e){function t(c){return xu(c,e)}fr!==null&&xu(fr,e),xr!==null&&xu(xr,e),gr!==null&&xu(gr,e),dc.forEach(t),uc.forEach(t);for(var a=0;a<yr.length;a++){var n=yr[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<yr.length&&(a=yr[0],a.blockedOn===null);)Dv(a),a.blockedOn===null&&yr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var r=a[n],i=a[n+1],l=r[_a]||null;if(typeof i=="function")l||Iv(a);else if(l){var o=null;if(i&&i.hasAttribute("formAction")){if(r=i,l=i[_a]||null)o=l.formAction;else if(af(r)!==null)continue}else o=l.action;typeof o=="function"?a[n+1]=o:(a.splice(n,3),n-=3),Iv(a)}}}function zv(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(l){return r=l})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function nf(e){this._internalRoot=e}yu.prototype.render=nf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));var a=t.current,n=ts();Av(a,n,e,t,null,null)},yu.prototype.unmount=nf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Av(e.current,2,null,e,null,null),Zd(),t[Wi]=null}};function yu(e){this._internalRoot=e}yu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Q0();e={blockedOn:null,target:e,priority:t};for(var a=0;a<yr.length&&t!==0&&t<yr[a].priority;a++);yr.splice(a,0,e),a===0&&Dv(e)}};var $v=T0.version;if($v!=="19.2.3")throw Error(X(527,$v,"19.2.3"));Je.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=CS(t),e=e!==null?D0(e):null,e=e===null?null:e.stateNode,e};var W5={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Ae,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{jo=bu.inject(W5),Qa=bu}catch{}}Xc.createRoot=function(e,t){if(!M0(e))throw Error(X(299));var a=!1,n="",r=Vy,i=Gy,l=Qy;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Ev(e,1,!1,null,null,a,n,null,r,i,l,zv),e[Wi]=t.current,Uh(e),new nf(t)},Xc.hydrateRoot=function(e,t,a){if(!M0(e))throw Error(X(299));var n=!1,r="",i=Vy,l=Gy,o=Qy,c=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(r=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(l=a.onCaughtError),a.onRecoverableError!==void 0&&(o=a.onRecoverableError),a.formState!==void 0&&(c=a.formState)),t=Ev(e,1,!0,t,a??null,n,r,c,i,l,o,zv),t.context=kv(null),a=t.current,n=ts(),n=Ym(n),r=sr(n),r.callback=null,nr(a,r,n),a=n,t.current.lanes=a,No(t,a),Ys(t),e[Wi]=t.current,Uh(e),new yu(t)},Xc.version="19.2.3";function Uv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Uv)}catch(e){console.error(e)}}Uv(),N0.exports=Xc;var X5=N0.exports;const Fv=xt(X5);function qv(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),a.push.apply(a,n)}return a}function vu(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?qv(Object(a),!0).forEach(function(n){Z5(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qv(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Pv(e){return(Pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Z5(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function rf(e){return(rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Bv(e,t){var a;if(typeof(a=t.domElement?function(){return t.domElement}:t.domElementGetter?t.domElementGetter:e.domElementGetter?e.domElementGetter:function(n){var r=n.appName||n.name;if(!r)throw Error("single-spa's dom-element-getter-helpers was not given an application name as a prop, so it can't make a unique dom element container for the react application");var i="single-spa-application:".concat(r);return function(){var l=document.getElementById(i);return l||((l=document.createElement("div")).id=i,document.body.appendChild(l)),l}}(t))!="function")throw Error("single-spa's dom-element-getter-helpers was given an invalid domElementGetter for application or parcel '".concat(t.name,"'. Expected a function, received ").concat(rf(a)));return function(){var n=a(t);if(!(n instanceof HTMLElement))throw Error("single-spa's dom-element-getter-helpers: domElementGetter returned an invalid dom element for application or parcel '".concat(t.name,"'. Expected HTMLElement, received ").concat(rf(n)));return n}}var pc=null;try{pc=require("react").createContext()}catch{}var J5={React:null,ReactDOM:null,ReactDOMClient:null,rootComponent:null,loadRootComponent:null,errorBoundary:null,errorBoundaryClass:null,domElementGetter:null,parcelCanUpdate:!0,suppressComponentDidCatchWarning:!1,domElements:{},renderResults:{},updateResolves:{},unmountResolves:{}};function e3(e){if(Pv(e)!=="object")throw new Error("single-spa-react requires a configuration object");var t,a=vu(vu({},J5),e);if(!a.React)throw new Error("single-spa-react must be passed opts.React");if(!a.ReactDOM&&!a.ReactDOMClient)throw new Error("single-spa-react must be passed opts.ReactDOM or opts.ReactDOMClient");if(a.renderType||((t=a.ReactDOMClient)!==null&&t!==void 0&&t.createRoot?a.renderType="createRoot":a.renderType="render"),!a.rootComponent&&!a.loadRootComponent)throw new Error("single-spa-react must be passed opts.rootComponent or opts.loadRootComponent");if(a.errorBoundary&&typeof a.errorBoundary!="function")throw Error("The errorBoundary opt for single-spa-react must either be omitted or be a function that returns React elements");!pc&&a.React.createContext&&(pc=a.React.createContext()),a.SingleSpaRoot=function(r){function i(l){i.displayName="SingleSpaRoot(".concat(l.name,")")}return i.prototype=Object.create(r.React.Component.prototype),i.prototype.componentDidMount=function(){setTimeout(this.props.mountFinished)},i.prototype.componentWillUnmount=function(){setTimeout(this.props.unmountFinished)},i.prototype.render=function(){return setTimeout(this.props.updateFinished),this.props.children},i}(a);var n={bootstrap:t3.bind(null,a),mount:a3.bind(null,a),unmount:s3.bind(null,a)};return a.parcelCanUpdate&&(n.update=n3.bind(null,a)),n}function t3(e,t){return e.rootComponent?Promise.resolve():e.loadRootComponent(t).then(function(a){e.rootComponent=a})}function a3(e,t){return new Promise(function(a,n){e.suppressComponentDidCatchWarning||!function(o){if(!(o&&typeof o.version=="string"&&o.version.indexOf(".")>=0))return!1;var c=o.version.slice(0,o.version.indexOf("."));try{return Number(c)>=16}catch{return!1}}(e.React)||e.errorBoundary||e.errorBoundaryClass||(e.rootComponent.prototype?e.rootComponent.prototype.componentDidCatch||console.warn("single-spa-react: ".concat(t.name||t.appName||t.childAppName,"'s rootComponent should implement componentDidCatch to avoid accidentally unmounting the entire single-spa application.")):console.warn("single-spa-react: ".concat(t.name||t.appName||t.childAppName,"'s rootComponent does not implement an error boundary.  If using a functional component, consider providing an opts.errorBoundary to singleSpaReact(opts).")));var r=Hv(e,t,function(){a(this)}),i=Bv(e,t)(),l=function(o){var c=o.reactDom,d=o.renderType,m=o.elementToRender,f=o.domElement,p=c[d];if(typeof p!="function")throw new Error('renderType "'.concat(d,'" did not return a function.'));switch(d){case"createRoot":case"unstable_createRoot":case"createBlockingRoot":case"unstable_createBlockingRoot":var x=p(f);return x.render(m),x;case"hydrateRoot":return p(f,m);case"hydrate":default:return p(m,f),null}}({elementToRender:r,domElement:i,reactDom:lf(e),renderType:r3(e)});e.domElements[t.name]=i,e.renderResults[t.name]=l})}function s3(e,t){return new Promise(function(a){e.unmountResolves[t.name]=a;var n=e.renderResults[t.name];n&&n.unmount?n.unmount():lf(e).unmountComponentAtNode(e.domElements[t.name]),delete e.domElements[t.name],delete e.renderResults[t.name]})}function n3(e,t){return new Promise(function(a){e.updateResolves[t.name]||(e.updateResolves[t.name]=[]),e.updateResolves[t.name].push(a);var n=Hv(e,t,null),r=e.renderResults[t.name];if(r&&r.render)r.render(n);else{var i=Bv(e,t)();lf(e).render(n,i)}})}function lf(e){return e.ReactDOMClient||e.ReactDOM}function r3(e){return typeof e.renderType=="function"?e.renderType():e.renderType}function Hv(e,t,a){var n=e.React.createElement(e.rootComponent,t),r=pc?e.React.createElement(pc.Provider,{value:t},n):n;return(e.errorBoundary||t.errorBoundary||e.errorBoundaryClass||t.errorBoundaryClass)&&(e.errorBoundaryClass=e.errorBoundaryClass||t.errorBoundaryClass||function(i,l){function o(c){i.React.Component.apply(this,arguments),this.state={caughtError:null,caughtErrorInfo:null},o.displayName="SingleSpaReactErrorBoundary(".concat(c.name,")")}return o.prototype=Object.create(i.React.Component.prototype),o.prototype.render=function(){return this.state.caughtError?(i.errorBoundary||l.errorBoundary)(this.state.caughtError,this.state.caughtErrorInfo,this.props):this.props.children},o.prototype.componentDidCatch=function(c,d){this.setState({caughtError:c,caughtErrorInfo:d})},o}(e,t),r=e.React.createElement(e.errorBoundaryClass,t,r)),r=e.React.createElement(e.SingleSpaRoot,vu(vu({},t),{},{mountFinished:a,updateFinished:function(){e.updateResolves[t.name]&&(e.updateResolves[t.name].forEach(function(i){return i()}),delete e.updateResolves[t.name])},unmountFinished:function(){e.unmountResolves[t.name]&&(e.unmountResolves[t.name](),delete e.unmountResolves[t.name])}}),r)}/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Vv="popstate";function i3(e={}){function t(n,r){let{pathname:i,search:l,hash:o}=n.location;return of("",{pathname:i,search:l,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function a(n,r){return typeof r=="string"?r:hc(r)}return o3(t,a,null,e)}function Mt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function as(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function l3(){return Math.random().toString(36).substring(2,10)}function Gv(e,t){return{usr:e.state,key:e.key,idx:t}}function of(e,t,a=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Dl(t):t,state:a,key:t&&t.key||n||l3()}}function hc({pathname:e="/",search:t="",hash:a=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function Dl(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substring(a),e=e.substring(0,a));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function o3(e,t,a,n={}){let{window:r=document.defaultView,v5Compat:i=!1}=n,l=r.history,o="POP",c=null,d=m();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function m(){return(l.state||{idx:null}).idx}function f(){o="POP";let v=m(),g=v==null?null:v-d;d=v,c&&c({action:o,location:w.location,delta:g})}function p(v,g){o="PUSH";let y=of(w.location,v,g);d=m()+1;let b=Gv(y,d),j=w.createHref(y);try{l.pushState(b,"",j)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;r.location.assign(j)}i&&c&&c({action:o,location:w.location,delta:1})}function x(v,g){o="REPLACE";let y=of(w.location,v,g);d=m();let b=Gv(y,d),j=w.createHref(y);l.replaceState(b,"",j),i&&c&&c({action:o,location:w.location,delta:0})}function h(v){return c3(v)}let w={get action(){return o},get location(){return e(r,l)},listen(v){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(Vv,f),c=v,()=>{r.removeEventListener(Vv,f),c=null}},createHref(v){return t(r,v)},createURL:h,encodeLocation(v){let g=h(v);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:x,go(v){return l.go(v)}};return w}function c3(e,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),Mt(a,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:hc(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=a+n),new URL(n,a)}function Qv(e,t,a="/"){return d3(e,t,a,!1)}function d3(e,t,a,n){let r=typeof t=="string"?Dl(t):t,i=Cn(r.pathname||"/",a);if(i==null)return null;let l=Yv(e);u3(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=w3(i);o=v3(l[c],d,n)}return o}function Yv(e,t=[],a=[],n="",r=!1){let i=(l,o,c=r,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(n)&&c)return;Mt(m.relativePath.startsWith(n),`Absolute route path "${m.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(n.length)}let f=En([n,m.relativePath]),p=a.concat(m);l.children&&l.children.length>0&&(Mt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Yv(l.children,t,p,f,c)),!(l.path==null&&!l.index)&&t.push({path:f,score:y3(f,l.index),routesMeta:p})};return e.forEach((l,o)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))i(l,o);else for(let d of Kv(l.path))i(l,o,!0,d)}),t}function Kv(e){let t=e.split("/");if(t.length===0)return[];let[a,...n]=t,r=a.endsWith("?"),i=a.replace(/\?$/,"");if(n.length===0)return r?[i,""]:[i];let l=Kv(n.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),r&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function u3(e){e.sort((t,a)=>t.score!==a.score?a.score-t.score:b3(t.routesMeta.map(n=>n.childrenIndex),a.routesMeta.map(n=>n.childrenIndex)))}var m3=/^:[\w-]+$/,p3=3,h3=2,f3=1,x3=10,g3=-2,Wv=e=>e==="*";function y3(e,t){let a=e.split("/"),n=a.length;return a.some(Wv)&&(n+=g3),t&&(n+=h3),a.filter(r=>!Wv(r)).reduce((r,i)=>r+(m3.test(i)?p3:i===""?f3:x3),n)}function b3(e,t){return e.length===t.length&&e.slice(0,-1).every((n,r)=>n===t[r])?e[e.length-1]-t[t.length-1]:0}function v3(e,t,a=!1){let{routesMeta:n}=e,r={},i="/",l=[];for(let o=0;o<n.length;++o){let c=n[o],d=o===n.length-1,m=i==="/"?t:t.slice(i.length)||"/",f=ju({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},m),p=c.route;if(!f&&d&&a&&!n[n.length-1].route.index&&(f=ju({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},m)),!f)return null;Object.assign(r,f.params),l.push({params:r,pathname:En([i,f.pathname]),pathnameBase:E3(En([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=En([i,f.pathnameBase]))}return l}function ju(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,n]=j3(e.path,e.caseSensitive,e.end),r=t.match(a);if(!r)return null;let i=r[0],l=i.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:n.reduce((d,{paramName:m,isOptional:f},p)=>{if(m==="*"){let h=o[p]||"";l=i.slice(0,i.length-h.length).replace(/(.)\/+$/,"$1")}const x=o[p];return f&&!x?d[m]=void 0:d[m]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:l,pattern:e}}function j3(e,t=!1,a=!0){as(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),n]}function w3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return as(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Cn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,n=e.charAt(a);return n&&n!=="/"?null:e.slice(a)||"/"}var Xv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,N3=e=>Xv.test(e);function S3(e,t="/"){let{pathname:a,search:n="",hash:r=""}=typeof e=="string"?Dl(e):e,i;if(a)if(N3(a))i=a;else{if(a.includes("//")){let l=a;a=a.replace(/\/\/+/g,"/"),as(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${a}`)}a.startsWith("/")?i=Zv(a.substring(1),"/"):i=Zv(a,t)}else i=t;return{pathname:i,search:k3(n),hash:A3(r)}}function Zv(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?a.length>1&&a.pop():r!=="."&&a.push(r)}),a.length>1?a.join("/"):"/"}function cf(e,t,a,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function C3(e){return e.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function df(e){let t=C3(e);return t.map((a,n)=>n===t.length-1?a.pathname:a.pathnameBase)}function uf(e,t,a,n=!1){let r;typeof e=="string"?r=Dl(e):(r={...e},Mt(!r.pathname||!r.pathname.includes("?"),cf("?","pathname","search",r)),Mt(!r.pathname||!r.pathname.includes("#"),cf("#","pathname","hash",r)),Mt(!r.search||!r.search.includes("#"),cf("#","search","hash",r)));let i=e===""||r.pathname==="",l=i?"/":r.pathname,o;if(l==null)o=a;else{let f=t.length-1;if(!n&&l.startsWith("..")){let p=l.split("/");for(;p[0]==="..";)p.shift(),f-=1;r.pathname=p.join("/")}o=f>=0?t[f]:"/"}let c=S3(r,o),d=l&&l!=="/"&&l.endsWith("/"),m=(i||l===".")&&a.endsWith("/");return!c.pathname.endsWith("/")&&(d||m)&&(c.pathname+="/"),c}var En=e=>e.join("/").replace(/\/\/+/g,"/"),E3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),k3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,A3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,T3=class{constructor(e,t,a,n=!1){this.status=e,this.statusText=t||"",this.internal=n,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}};function M3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function O3(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Jv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ej(e,t){let a=e;if(typeof a!="string"||!Xv.test(a))return{absoluteURL:void 0,isExternal:!1,to:a};let n=a,r=!1;if(Jv)try{let i=new URL(window.location.href),l=a.startsWith("//")?new URL(i.protocol+a):new URL(a),o=Cn(l.pathname,t);l.origin===i.origin&&o!=null?a=o+l.search+l.hash:r=!0}catch{as(!1,`<Link to="${a}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:r,to:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var tj=["POST","PUT","PATCH","DELETE"];new Set(tj);var _3=["GET",...tj];new Set(_3);var Ll=u.createContext(null);Ll.displayName="DataRouter";var wu=u.createContext(null);wu.displayName="DataRouterState";var R3=u.createContext(!1),aj=u.createContext({isTransitioning:!1});aj.displayName="ViewTransition";var D3=u.createContext(new Map);D3.displayName="Fetchers";var L3=u.createContext(null);L3.displayName="Await";var ss=u.createContext(null);ss.displayName="Navigation";var fc=u.createContext(null);fc.displayName="Location";var Ds=u.createContext({outlet:null,matches:[],isDataRoute:!1});Ds.displayName="Route";var mf=u.createContext(null);mf.displayName="RouteError";var sj="REACT_ROUTER_ERROR",I3="REDIRECT",z3="ROUTE_ERROR_RESPONSE";function $3(e){if(e.startsWith(`${sj}:${I3}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function U3(e){if(e.startsWith(`${sj}:${z3}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new T3(t.status,t.statusText,t.data)}catch{}}function F3(e,{relative:t}={}){Mt(Il(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:n}=u.useContext(ss),{hash:r,pathname:i,search:l}=xc(e,{relative:t}),o=i;return a!=="/"&&(o=i==="/"?a:En([a,i])),n.createHref({pathname:o,search:l,hash:r})}function Il(){return u.useContext(fc)!=null}function ta(){return Mt(Il(),"useLocation() may be used only in the context of a <Router> component."),u.useContext(fc).location}var nj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rj(e){u.useContext(ss).static||u.useLayoutEffect(e)}function pa(){let{isDataRoute:e}=u.useContext(Ds);return e?J3():q3()}function q3(){Mt(Il(),"useNavigate() may be used only in the context of a <Router> component.");let e=u.useContext(Ll),{basename:t,navigator:a}=u.useContext(ss),{matches:n}=u.useContext(Ds),{pathname:r}=ta(),i=JSON.stringify(df(n)),l=u.useRef(!1);return rj(()=>{l.current=!0}),u.useCallback((c,d={})=>{if(as(l.current,nj),!l.current)return;if(typeof c=="number"){a.go(c);return}let m=uf(c,JSON.parse(i),r,d.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:En([t,m.pathname])),(d.replace?a.replace:a.push)(m,d.state,d)},[t,a,i,r,e])}u.createContext(null);function ij(){let{matches:e}=u.useContext(Ds),t=e[e.length-1];return t?t.params:{}}function xc(e,{relative:t}={}){let{matches:a}=u.useContext(Ds),{pathname:n}=ta(),r=JSON.stringify(df(a));return u.useMemo(()=>uf(e,JSON.parse(r),n,t==="path"),[e,r,n,t])}function P3(e,t){return lj(e,t)}function lj(e,t,a,n,r){var y;Mt(Il(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=u.useContext(ss),{matches:l}=u.useContext(Ds),o=l[l.length-1],c=o?o.params:{},d=o?o.pathname:"/",m=o?o.pathnameBase:"/",f=o&&o.route;{let b=f&&f.path||"";dj(d,!f||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let p=ta(),x;if(t){let b=typeof t=="string"?Dl(t):t;Mt(m==="/"||((y=b.pathname)==null?void 0:y.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${b.pathname}" was given in the \`location\` prop.`),x=b}else x=p;let h=x.pathname||"/",w=h;if(m!=="/"){let b=m.replace(/^\//,"").split("/");w="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=Qv(e,{pathname:w});as(f||v!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),as(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=Q3(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},c,b.params),pathname:En([m,i.encodeLocation?i.encodeLocation(b.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?m:En([m,i.encodeLocation?i.encodeLocation(b.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathnameBase])})),l,a,n,r);return t&&g?u.createElement(fc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},g):g}function B3(){let e=Z3(),t=M3(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=u.createElement(u.Fragment,null,u.createElement("p",null," Hey developer "),u.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",u.createElement("code",{style:i},"ErrorBoundary")," or"," ",u.createElement("code",{style:i},"errorElement")," prop on your route.")),u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},t),a?u.createElement("pre",{style:r},a):null,l)}var H3=u.createElement(B3,null),oj=class extends u.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const a=U3(e.digest);a&&(e=a)}let t=e!==void 0?u.createElement(Ds.Provider,{value:this.props.routeContext},u.createElement(mf.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?u.createElement(V3,{error:e},t):t}};oj.contextType=R3;var pf=new WeakMap;function V3({children:e,error:t}){let{basename:a}=u.useContext(ss);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=$3(t.digest);if(n){let r=pf.get(t);if(r)throw r;let i=ej(n.location,a);if(Jv&&!pf.get(t))if(i.isExternal||n.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:n.replace}));throw pf.set(t,l),l}return u.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return e}function G3({routeContext:e,match:t,children:a}){let n=u.useContext(Ll);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),u.createElement(Ds.Provider,{value:e},a)}function Q3(e,t=[],a=null,n=null,r=null){if(e==null){if(!a)return null;if(a.errors)e=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let i=e,l=a==null?void 0:a.errors;if(l!=null){let m=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);Mt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,m+1))}let o=!1,c=-1;if(a)for(let m=0;m<i.length;m++){let f=i[m];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=m),f.route.id){let{loaderData:p,errors:x}=a,h=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!x||x[f.route.id]===void 0);if(f.route.lazy||h){o=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let d=a&&n?(m,f)=>{var p,x;n(m,{location:a.location,params:((x=(p=a.matches)==null?void 0:p[0])==null?void 0:x.params)??{},unstable_pattern:O3(a.matches),errorInfo:f})}:void 0;return i.reduceRight((m,f,p)=>{let x,h=!1,w=null,v=null;a&&(x=l&&f.route.id?l[f.route.id]:void 0,w=f.route.errorElement||H3,o&&(c<0&&p===0?(dj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,v=null):c===p&&(h=!0,v=f.route.hydrateFallbackElement||null)));let g=t.concat(i.slice(0,p+1)),y=()=>{let b;return x?b=w:h?b=v:f.route.Component?b=u.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=m,u.createElement(G3,{match:f,routeContext:{outlet:m,matches:g,isDataRoute:a!=null},children:b})};return a&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?u.createElement(oj,{location:a.location,revalidation:a.revalidation,component:w,error:x,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0},onError:d}):y()},null)}function hf(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Y3(e){let t=u.useContext(Ll);return Mt(t,hf(e)),t}function K3(e){let t=u.useContext(wu);return Mt(t,hf(e)),t}function W3(e){let t=u.useContext(Ds);return Mt(t,hf(e)),t}function ff(e){let t=W3(e),a=t.matches[t.matches.length-1];return Mt(a.route.id,`${e} can only be used on routes that contain a unique "id"`),a.route.id}function X3(){return ff("useRouteId")}function Z3(){var n;let e=u.useContext(mf),t=K3("useRouteError"),a=ff("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[a]}function J3(){let{router:e}=Y3("useNavigate"),t=ff("useNavigate"),a=u.useRef(!1);return rj(()=>{a.current=!0}),u.useCallback(async(r,i={})=>{as(a.current,nj),a.current&&(typeof r=="number"?await e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))},[e,t])}var cj={};function dj(e,t,a){!t&&!cj[e]&&(cj[e]=!0,as(!1,a))}u.memo(e6);function e6({routes:e,future:t,state:a,onError:n}){return lj(e,void 0,a,n,t)}function ui({to:e,replace:t,state:a,relative:n}){Mt(Il(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=u.useContext(ss);as(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=u.useContext(Ds),{pathname:l}=ta(),o=pa(),c=uf(e,df(i),l,n==="path"),d=JSON.stringify(c);return u.useEffect(()=>{o(JSON.parse(d),{replace:t,state:a,relative:n})},[o,d,n,t,a]),null}function yt(e){Mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function t6({basename:e="/",children:t=null,location:a,navigationType:n="POP",navigator:r,static:i=!1,unstable_useTransitions:l}){Mt(!Il(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),c=u.useMemo(()=>({basename:o,navigator:r,static:i,unstable_useTransitions:l,future:{}}),[o,r,i,l]);typeof a=="string"&&(a=Dl(a));let{pathname:d="/",search:m="",hash:f="",state:p=null,key:x="default"}=a,h=u.useMemo(()=>{let w=Cn(d,o);return w==null?null:{location:{pathname:w,search:m,hash:f,state:p,key:x},navigationType:n}},[o,d,m,f,p,x,n]);return as(h!=null,`<Router basename="${o}"> is not able to match the URL "${d}${m}${f}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:u.createElement(ss.Provider,{value:c},u.createElement(fc.Provider,{children:t,value:h}))}function a6({children:e,location:t}){return P3(xf(e),t)}function xf(e,t=[]){let a=[];return u.Children.forEach(e,(n,r)=>{if(!u.isValidElement(n))return;let i=[...t,r];if(n.type===u.Fragment){a.push.apply(a,xf(n.props.children,i));return}Mt(n.type===yt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=xf(n.props.children,i)),a.push(l)}),a}var Nu="get",Su="application/x-www-form-urlencoded";function Cu(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function s6(e){return Cu(e)&&e.tagName.toLowerCase()==="button"}function n6(e){return Cu(e)&&e.tagName.toLowerCase()==="form"}function r6(e){return Cu(e)&&e.tagName.toLowerCase()==="input"}function i6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function l6(e,t){return e.button===0&&(!t||t==="_self")&&!i6(e)}function gf(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,a)=>{let n=e[a];return t.concat(Array.isArray(n)?n.map(r=>[a,r]):[[a,n]])},[]))}function o6(e,t){let a=gf(e);return t&&t.forEach((n,r)=>{a.has(r)||t.getAll(r).forEach(i=>{a.append(r,i)})}),a}var Eu=null;function c6(){if(Eu===null)try{new FormData(document.createElement("form"),0),Eu=!1}catch{Eu=!0}return Eu}var d6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yf(e){return e!=null&&!d6.has(e)?(as(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Su}"`),null):e}function u6(e,t){let a,n,r,i,l;if(n6(e)){let o=e.getAttribute("action");n=o?Cn(o,t):null,a=e.getAttribute("method")||Nu,r=yf(e.getAttribute("enctype"))||Su,i=new FormData(e)}else if(s6(e)||r6(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||o.getAttribute("action");if(n=c?Cn(c,t):null,a=e.getAttribute("formmethod")||o.getAttribute("method")||Nu,r=yf(e.getAttribute("formenctype"))||yf(o.getAttribute("enctype"))||Su,i=new FormData(o,e),!c6()){let{name:d,type:m,value:f}=e;if(m==="image"){let p=d?`${d}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else d&&i.append(d,f)}}else{if(Cu(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=Nu,n=null,r=Su,l=e}return i&&r==="text/plain"&&(l=i,i=void 0),{action:n,method:a.toLowerCase(),encType:r,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bf(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function m6(e,t,a){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${a}`:t&&Cn(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${a}`,n}async function p6(e,t){if(e.id in t)return t[e.id];try{let a=await qe.import(e.module);return t[e.id]=a,a}catch(a){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function h6(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function f6(e,t,a){let n=await Promise.all(e.map(async r=>{let i=t.routes[r.route.id];if(i){let l=await p6(i,a);return l.links?l.links():[]}return[]}));return b6(n.flat(1).filter(h6).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function uj(e,t,a,n,r,i){let l=(c,d)=>a[d]?c.route.id!==a[d].route.id:!0,o=(c,d)=>{var m;return a[d].pathname!==c.pathname||((m=a[d].route.path)==null?void 0:m.endsWith("*"))&&a[d].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,d)=>l(c,d)||o(c,d)):i==="data"?t.filter((c,d)=>{var f;let m=n.routes[c.route.id];if(!m||!m.hasLoader)return!1;if(l(c,d)||o(c,d))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((f=a[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function x6(e,t,{includeHydrateFallback:a}={}){return g6(e.map(n=>{let r=t.routes[n.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),a&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function g6(e){return[...new Set(e)]}function y6(e){let t={},a=Object.keys(e).sort();for(let n of a)t[n]=e[n];return t}function b6(e,t){let a=new Set;return new Set(t),e.reduce((n,r)=>{let i=JSON.stringify(y6(r));return a.has(i)||(a.add(i),n.push({key:i,link:r})),n},[])}function mj(){let e=u.useContext(Ll);return bf(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function v6(){let e=u.useContext(wu);return bf(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var vf=u.createContext(void 0);vf.displayName="FrameworkContext";function pj(){let e=u.useContext(vf);return bf(e,"You must render this element inside a <HydratedRouter> element"),e}function j6(e,t){let a=u.useContext(vf),[n,r]=u.useState(!1),[i,l]=u.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:d,onMouseLeave:m,onTouchStart:f}=t,p=u.useRef(null);u.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let w=g=>{g.forEach(y=>{l(y.isIntersecting)})},v=new IntersectionObserver(w,{threshold:.5});return p.current&&v.observe(p.current),()=>{v.disconnect()}}},[e]),u.useEffect(()=>{if(n){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[n]);let x=()=>{r(!0)},h=()=>{r(!1),l(!1)};return a?e!=="intent"?[i,p,{}]:[i,p,{onFocus:gc(o,x),onBlur:gc(c,h),onMouseEnter:gc(d,x),onMouseLeave:gc(m,h),onTouchStart:gc(f,x)}]:[!1,p,{}]}function gc(e,t){return a=>{e&&e(a),a.defaultPrevented||t(a)}}function w6({page:e,...t}){let{router:a}=mj(),n=u.useMemo(()=>Qv(a.routes,e,a.basename),[a.routes,e,a.basename]);return n?u.createElement(S6,{page:e,matches:n,...t}):null}function N6(e){let{manifest:t,routeModules:a}=pj(),[n,r]=u.useState([]);return u.useEffect(()=>{let i=!1;return f6(e,t,a).then(l=>{i||r(l)}),()=>{i=!0}},[e,t,a]),n}function S6({page:e,matches:t,...a}){let n=ta(),{manifest:r,routeModules:i}=pj(),{basename:l}=mj(),{loaderData:o,matches:c}=v6(),d=u.useMemo(()=>uj(e,t,c,r,n,"data"),[e,t,c,r,n]),m=u.useMemo(()=>uj(e,t,c,r,n,"assets"),[e,t,c,r,n]),f=u.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let h=new Set,w=!1;if(t.forEach(g=>{var b;let y=r.routes[g.route.id];!y||!y.hasLoader||(!d.some(j=>j.route.id===g.route.id)&&g.route.id in o&&((b=i[g.route.id])!=null&&b.shouldRevalidate)||y.hasClientLoader?w=!0:h.add(g.route.id))}),h.size===0)return[];let v=m6(e,l,"data");return w&&h.size>0&&v.searchParams.set("_routes",t.filter(g=>h.has(g.route.id)).map(g=>g.route.id).join(",")),[v.pathname+v.search]},[l,o,n,r,d,t,e,i]),p=u.useMemo(()=>x6(m,r),[m,r]),x=N6(m);return u.createElement(u.Fragment,null,f.map(h=>u.createElement("link",{key:h,rel:"prefetch",as:"fetch",href:h,...a})),p.map(h=>u.createElement("link",{key:h,rel:"modulepreload",href:h,...a})),x.map(({key:h,link:w})=>u.createElement("link",{key:h,nonce:a.nonce,...w})))}function C6(...e){return t=>{e.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var E6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{E6&&(window.__reactRouterVersion="7.11.0")}catch{}function k6({basename:e,children:t,unstable_useTransitions:a,window:n}){let r=u.useRef();r.current==null&&(r.current=i3({window:n,v5Compat:!0}));let i=r.current,[l,o]=u.useState({action:i.action,location:i.location}),c=u.useCallback(d=>{a===!1?o(d):u.startTransition(()=>o(d))},[a]);return u.useLayoutEffect(()=>i.listen(c),[i,c]),u.createElement(t6,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:i,unstable_useTransitions:a})}var hj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Me=u.forwardRef(function({onClick:t,discover:a="render",prefetch:n="none",relative:r,reloadDocument:i,replace:l,state:o,target:c,to:d,preventScrollReset:m,viewTransition:f,unstable_defaultShouldRevalidate:p,...x},h){let{basename:w,unstable_useTransitions:v}=u.useContext(ss),g=typeof d=="string"&&hj.test(d),y=ej(d,w);d=y.to;let b=F3(d,{relative:r}),[j,E,k]=j6(n,x),S=O6(d,{replace:l,state:o,target:c,preventScrollReset:m,relative:r,viewTransition:f,unstable_defaultShouldRevalidate:p,unstable_useTransitions:v});function N(R){t&&t(R),R.defaultPrevented||S(R)}let M=u.createElement("a",{...x,...k,href:y.absoluteURL||b,onClick:y.isExternal||i?t:N,ref:C6(h,E),target:c,"data-discover":!g&&a==="render"?"true":void 0});return j&&!g?u.createElement(u.Fragment,null,M,u.createElement(w6,{page:b})):M});Me.displayName="Link";var A6=u.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:n="",end:r=!1,style:i,to:l,viewTransition:o,children:c,...d},m){let f=xc(l,{relative:d.relative}),p=ta(),x=u.useContext(wu),{navigator:h,basename:w}=u.useContext(ss),v=x!=null&&I6(f)&&o===!0,g=h.encodeLocation?h.encodeLocation(f).pathname:f.pathname,y=p.pathname,b=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;a||(y=y.toLowerCase(),b=b?b.toLowerCase():null,g=g.toLowerCase()),b&&w&&(b=Cn(b,w)||b);const j=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let E=y===g||!r&&y.startsWith(g)&&y.charAt(j)==="/",k=b!=null&&(b===g||!r&&b.startsWith(g)&&b.charAt(g.length)==="/"),S={isActive:E,isPending:k,isTransitioning:v},N=E?t:void 0,M;typeof n=="function"?M=n(S):M=[n,E?"active":null,k?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let R=typeof i=="function"?i(S):i;return u.createElement(Me,{...d,"aria-current":N,className:M,ref:m,style:R,to:l,viewTransition:o},typeof c=="function"?c(S):c)});A6.displayName="NavLink";var T6=u.forwardRef(({discover:e="render",fetcherKey:t,navigate:a,reloadDocument:n,replace:r,state:i,method:l=Nu,action:o,onSubmit:c,relative:d,preventScrollReset:m,viewTransition:f,unstable_defaultShouldRevalidate:p,...x},h)=>{let{unstable_useTransitions:w}=u.useContext(ss),v=D6(),g=L6(o,{relative:d}),y=l.toLowerCase()==="get"?"get":"post",b=typeof o=="string"&&hj.test(o),j=E=>{if(c&&c(E),E.defaultPrevented)return;E.preventDefault();let k=E.nativeEvent.submitter,S=(k==null?void 0:k.getAttribute("formmethod"))||l,N=()=>v(k||E.currentTarget,{fetcherKey:t,method:S,navigate:a,replace:r,state:i,relative:d,preventScrollReset:m,viewTransition:f,unstable_defaultShouldRevalidate:p});w&&a!==!1?u.startTransition(()=>N()):N()};return u.createElement("form",{ref:h,method:y,action:g,onSubmit:n?c:j,...x,"data-discover":!b&&e==="render"?"true":void 0})});T6.displayName="Form";function M6(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fj(e){let t=u.useContext(Ll);return Mt(t,M6(e)),t}function O6(e,{target:t,replace:a,state:n,preventScrollReset:r,relative:i,viewTransition:l,unstable_defaultShouldRevalidate:o,unstable_useTransitions:c}={}){let d=pa(),m=ta(),f=xc(e,{relative:i});return u.useCallback(p=>{if(l6(p,t)){p.preventDefault();let x=a!==void 0?a:hc(m)===hc(f),h=()=>d(e,{replace:x,state:n,preventScrollReset:r,relative:i,viewTransition:l,unstable_defaultShouldRevalidate:o});c?u.startTransition(()=>h()):h()}},[m,d,f,a,n,t,e,r,i,l,o,c])}function jf(e){as(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=u.useRef(gf(e)),a=u.useRef(!1),n=ta(),r=u.useMemo(()=>o6(n.search,a.current?null:t.current),[n.search]),i=pa(),l=u.useCallback((o,c)=>{const d=gf(typeof o=="function"?o(new URLSearchParams(r)):o);a.current=!0,i("?"+d,c)},[i,r]);return[r,l]}var _6=0,R6=()=>`__${String(++_6)}__`;function D6(){let{router:e}=fj("useSubmit"),{basename:t}=u.useContext(ss),a=X3(),n=e.fetch,r=e.navigate;return u.useCallback(async(i,l={})=>{let{action:o,method:c,encType:d,formData:m,body:f}=u6(i,t);if(l.navigate===!1){let p=l.fetcherKey||R6();await n(p,a,l.action||o,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:m,body:f,formMethod:l.method||c,formEncType:l.encType||d,flushSync:l.flushSync})}else await r(l.action||o,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:m,body:f,formMethod:l.method||c,formEncType:l.encType||d,replace:l.replace,state:l.state,fromRouteId:a,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,r,t,a])}function L6(e,{relative:t}={}){let{basename:a}=u.useContext(ss),n=u.useContext(Ds);Mt(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),i={...xc(e||".",{relative:t})},l=ta();if(e==null){i.search=l.search;let o=new URLSearchParams(i.search),c=o.getAll("index");if(c.some(m=>m==="")){o.delete("index"),c.filter(f=>f).forEach(f=>o.append("index",f));let m=o.toString();i.search=m?`?${m}`:""}}return(!e||e===".")&&r.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(i.pathname=i.pathname==="/"?a:En([a,i.pathname])),hc(i)}function I6(e,{relative:t}={}){let a=u.useContext(aj);Mt(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=fj("useViewTransitionState"),r=xc(e,{relative:t});if(!a.isTransitioning)return!1;let i=Cn(a.currentLocation.pathname,n)||a.currentLocation.pathname,l=Cn(a.nextLocation.pathname,n)||a.nextLocation.pathname;return ju(r.pathname,l)!=null||ju(r.pathname,i)!=null}const z6={admin:{canManageProducts:!0,canManageCategories:!0,canManageUsers:!0,canManageOrders:!0,canViewAnalytics:!0,canManageImages:!0,canManageCoupons:!0,canAccessAdminPanel:!0},tenant_admin:{canManageProducts:!0,canManageCategories:!0,canManageUsers:!0,canManageOrders:!0,canViewAnalytics:!0,canManageImages:!0,canManageCoupons:!0,canAccessAdminPanel:!0},manager:{canManageProducts:!0,canManageCategories:!1,canManageUsers:!1,canManageOrders:!0,canViewAnalytics:!0,canManageImages:!0,canManageCoupons:!1,canAccessAdminPanel:!0},customer:{canManageProducts:!1,canManageCategories:!1,canManageUsers:!1,canManageOrders:!1,canViewAnalytics:!1,canManageImages:!1,canManageCoupons:!1,canAccessAdminPanel:!1}},ku=e=>{switch(e){case 1:return"admin";case 2:return"customer";case 3:return"tenant_admin";case 4:return"manager";default:return"customer"}},xj=e=>{const t=ku(e);return z6[t]};function gj(e,t){return function(){return e.apply(t,arguments)}}const{toString:$6}=Object.prototype,{getPrototypeOf:wf}=Object,{iterator:Au,toStringTag:yj}=Symbol,Tu=(e=>t=>{const a=$6.call(t);return e[a]||(e[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Ls=e=>(e=e.toLowerCase(),t=>Tu(t)===e),Mu=e=>t=>typeof t===e,{isArray:zl}=Array,$l=Mu("undefined");function yc(e){return e!==null&&!$l(e)&&e.constructor!==null&&!$l(e.constructor)&&Ua(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const bj=Ls("ArrayBuffer");function U6(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&bj(e.buffer),t}const F6=Mu("string"),Ua=Mu("function"),vj=Mu("number"),bc=e=>e!==null&&typeof e=="object",q6=e=>e===!0||e===!1,Ou=e=>{if(Tu(e)!=="object")return!1;const t=wf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(yj in e)&&!(Au in e)},P6=e=>{if(!bc(e)||yc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},B6=Ls("Date"),H6=Ls("File"),V6=Ls("Blob"),G6=Ls("FileList"),Q6=e=>bc(e)&&Ua(e.pipe),Y6=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ua(e.append)&&((t=Tu(e))==="formdata"||t==="object"&&Ua(e.toString)&&e.toString()==="[object FormData]"))},K6=Ls("URLSearchParams"),[W6,X6,Z6,J6]=["ReadableStream","Request","Response","Headers"].map(Ls),eE=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vc(e,t,{allOwnKeys:a=!1}={}){if(e===null||typeof e>"u")return;let n,r;if(typeof e!="object"&&(e=[e]),zl(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(yc(e))return;const i=a?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let o;for(n=0;n<l;n++)o=i[n],t.call(null,e[o],o,e)}}function jj(e,t){if(yc(e))return null;t=t.toLowerCase();const a=Object.keys(e);let n=a.length,r;for(;n-- >0;)if(r=a[n],t===r.toLowerCase())return r;return null}const mi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,wj=e=>!$l(e)&&e!==mi;function Nf(){const{caseless:e,skipUndefined:t}=wj(this)&&this||{},a={},n=(r,i)=>{const l=e&&jj(a,i)||i;Ou(a[l])&&Ou(r)?a[l]=Nf(a[l],r):Ou(r)?a[l]=Nf({},r):zl(r)?a[l]=r.slice():(!t||!$l(r))&&(a[l]=r)};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&vc(arguments[r],n);return a}const tE=(e,t,a,{allOwnKeys:n}={})=>(vc(t,(r,i)=>{a&&Ua(r)?e[i]=gj(r,a):e[i]=r},{allOwnKeys:n}),e),aE=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),sE=(e,t,a,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),a&&Object.assign(e.prototype,a)},nE=(e,t,a,n)=>{let r,i,l;const o={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),i=r.length;i-- >0;)l=r[i],(!n||n(l,e,t))&&!o[l]&&(t[l]=e[l],o[l]=!0);e=a!==!1&&wf(e)}while(e&&(!a||a(e,t))&&e!==Object.prototype);return t},rE=(e,t,a)=>{e=String(e),(a===void 0||a>e.length)&&(a=e.length),a-=t.length;const n=e.indexOf(t,a);return n!==-1&&n===a},iE=e=>{if(!e)return null;if(zl(e))return e;let t=e.length;if(!vj(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=e[t];return a},lE=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&wf(Uint8Array)),oE=(e,t)=>{const n=(e&&e[Au]).call(e);let r;for(;(r=n.next())&&!r.done;){const i=r.value;t.call(e,i[0],i[1])}},cE=(e,t)=>{let a;const n=[];for(;(a=e.exec(t))!==null;)n.push(a);return n},dE=Ls("HTMLFormElement"),uE=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,n,r){return n.toUpperCase()+r}),Nj=(({hasOwnProperty:e})=>(t,a)=>e.call(t,a))(Object.prototype),mE=Ls("RegExp"),Sj=(e,t)=>{const a=Object.getOwnPropertyDescriptors(e),n={};vc(a,(r,i)=>{let l;(l=t(r,i,e))!==!1&&(n[i]=l||r)}),Object.defineProperties(e,n)},pE=e=>{Sj(e,(t,a)=>{if(Ua(e)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const n=e[a];if(Ua(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},hE=(e,t)=>{const a={},n=r=>{r.forEach(i=>{a[i]=!0})};return zl(e)?n(e):n(String(e).split(t)),a},fE=()=>{},xE=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function gE(e){return!!(e&&Ua(e.append)&&e[yj]==="FormData"&&e[Au])}const yE=e=>{const t=new Array(10),a=(n,r)=>{if(bc(n)){if(t.indexOf(n)>=0)return;if(yc(n))return n;if(!("toJSON"in n)){t[r]=n;const i=zl(n)?[]:{};return vc(n,(l,o)=>{const c=a(l,r+1);!$l(c)&&(i[o]=c)}),t[r]=void 0,i}}return n};return a(e,0)},bE=Ls("AsyncFunction"),vE=e=>e&&(bc(e)||Ua(e))&&Ua(e.then)&&Ua(e.catch),Cj=((e,t)=>e?setImmediate:t?((a,n)=>(mi.addEventListener("message",({source:r,data:i})=>{r===mi&&i===a&&n.length&&n.shift()()},!1),r=>{n.push(r),mi.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",Ua(mi.postMessage)),jE=typeof queueMicrotask<"u"?queueMicrotask.bind(mi):typeof process<"u"&&process.nextTick||Cj,F={isArray:zl,isArrayBuffer:bj,isBuffer:yc,isFormData:Y6,isArrayBufferView:U6,isString:F6,isNumber:vj,isBoolean:q6,isObject:bc,isPlainObject:Ou,isEmptyObject:P6,isReadableStream:W6,isRequest:X6,isResponse:Z6,isHeaders:J6,isUndefined:$l,isDate:B6,isFile:H6,isBlob:V6,isRegExp:mE,isFunction:Ua,isStream:Q6,isURLSearchParams:K6,isTypedArray:lE,isFileList:G6,forEach:vc,merge:Nf,extend:tE,trim:eE,stripBOM:aE,inherits:sE,toFlatObject:nE,kindOf:Tu,kindOfTest:Ls,endsWith:rE,toArray:iE,forEachEntry:oE,matchAll:cE,isHTMLForm:dE,hasOwnProperty:Nj,hasOwnProp:Nj,reduceDescriptors:Sj,freezeMethods:pE,toObjectSet:hE,toCamelCase:uE,noop:fE,toFiniteNumber:xE,findKey:jj,global:mi,isContextDefined:wj,isSpecCompliantForm:gE,toJSONObject:yE,isAsyncFn:bE,isThenable:vE,setImmediate:Cj,asap:jE,isIterable:e=>e!=null&&Ua(e[Au])};function Ie(e,t,a,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}F.inherits(Ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.status}}});const Ej=Ie.prototype,kj={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{kj[e]={value:e}}),Object.defineProperties(Ie,kj),Object.defineProperty(Ej,"isAxiosError",{value:!0}),Ie.from=(e,t,a,n,r,i)=>{const l=Object.create(Ej);F.toFlatObject(e,l,function(m){return m!==Error.prototype},d=>d!=="isAxiosError");const o=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Ie.call(l,o,c,a,n,r),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",i&&Object.assign(l,i),l};const wE=null;function Sf(e){return F.isPlainObject(e)||F.isArray(e)}function Aj(e){return F.endsWith(e,"[]")?e.slice(0,-2):e}function Tj(e,t,a){return e?e.concat(t).map(function(r,i){return r=Aj(r),!a&&i?"["+r+"]":r}).join(a?".":""):t}function NE(e){return F.isArray(e)&&!e.some(Sf)}const SE=F.toFlatObject(F,{},null,function(t){return/^is[A-Z]/.test(t)});function _u(e,t,a){if(!F.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,a=F.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,v){return!F.isUndefined(v[w])});const n=a.metaTokens,r=a.visitor||m,i=a.dots,l=a.indexes,c=(a.Blob||typeof Blob<"u"&&Blob)&&F.isSpecCompliantForm(t);if(!F.isFunction(r))throw new TypeError("visitor must be a function");function d(h){if(h===null)return"";if(F.isDate(h))return h.toISOString();if(F.isBoolean(h))return h.toString();if(!c&&F.isBlob(h))throw new Ie("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(h)||F.isTypedArray(h)?c&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function m(h,w,v){let g=h;if(h&&!v&&typeof h=="object"){if(F.endsWith(w,"{}"))w=n?w:w.slice(0,-2),h=JSON.stringify(h);else if(F.isArray(h)&&NE(h)||(F.isFileList(h)||F.endsWith(w,"[]"))&&(g=F.toArray(h)))return w=Aj(w),g.forEach(function(b,j){!(F.isUndefined(b)||b===null)&&t.append(l===!0?Tj([w],j,i):l===null?w:w+"[]",d(b))}),!1}return Sf(h)?!0:(t.append(Tj(v,w,i),d(h)),!1)}const f=[],p=Object.assign(SE,{defaultVisitor:m,convertValue:d,isVisitable:Sf});function x(h,w){if(!F.isUndefined(h)){if(f.indexOf(h)!==-1)throw Error("Circular reference detected in "+w.join("."));f.push(h),F.forEach(h,function(g,y){(!(F.isUndefined(g)||g===null)&&r.call(t,g,F.isString(y)?y.trim():y,w,p))===!0&&x(g,w?w.concat(y):[y])}),f.pop()}}if(!F.isObject(e))throw new TypeError("data must be an object");return x(e),t}function Mj(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Cf(e,t){this._pairs=[],e&&_u(e,this,t)}const Oj=Cf.prototype;Oj.append=function(t,a){this._pairs.push([t,a])},Oj.toString=function(t){const a=t?function(n){return t.call(this,n,Mj)}:Mj;return this._pairs.map(function(r){return a(r[0])+"="+a(r[1])},"").join("&")};function CE(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function _j(e,t,a){if(!t)return e;const n=a&&a.encode||CE;F.isFunction(a)&&(a={serialize:a});const r=a&&a.serialize;let i;if(r?i=r(t,a):i=F.isURLSearchParams(t)?t.toString():new Cf(t,a).toString(n),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Rj{constructor(){this.handlers=[]}use(t,a,n){return this.handlers.push({fulfilled:t,rejected:a,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){F.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Dj={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},EE={isBrowser:!0,classes:{URLSearchParams:typeof URLSearchParams<"u"?URLSearchParams:Cf,FormData:typeof FormData<"u"?FormData:null,Blob:typeof Blob<"u"?Blob:null},protocols:["http","https","file","blob","url","data"]},Ef=typeof window<"u"&&typeof document<"u",kf=typeof navigator=="object"&&navigator||void 0,kE=Ef&&(!kf||["ReactNative","NativeScript","NS"].indexOf(kf.product)<0),AE=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",TE=Ef&&window.location.href||"http://localhost",ha={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ef,hasStandardBrowserEnv:kE,hasStandardBrowserWebWorkerEnv:AE,navigator:kf,origin:TE},Symbol.toStringTag,{value:"Module"})),...EE};function ME(e,t){return _u(e,new ha.classes.URLSearchParams,{visitor:function(a,n,r,i){return ha.isNode&&F.isBuffer(a)?(this.append(n,a.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function OE(e){return F.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function _E(e){const t={},a=Object.keys(e);let n;const r=a.length;let i;for(n=0;n<r;n++)i=a[n],t[i]=e[i];return t}function Lj(e){function t(a,n,r,i){let l=a[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=i>=a.length;return l=!l&&F.isArray(r)?r.length:l,c?(F.hasOwnProp(r,l)?r[l]=[r[l],n]:r[l]=n,!o):((!r[l]||!F.isObject(r[l]))&&(r[l]=[]),t(a,n,r[l],i)&&F.isArray(r[l])&&(r[l]=_E(r[l])),!o)}if(F.isFormData(e)&&F.isFunction(e.entries)){const a={};return F.forEachEntry(e,(n,r)=>{t(OE(n),r,a,0)}),a}return null}function RE(e,t,a){if(F.isString(e))try{return(t||JSON.parse)(e),F.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(a||JSON.stringify)(e)}const jc={transitional:Dj,adapter:["xhr","http","fetch"],transformRequest:[function(t,a){const n=a.getContentType()||"",r=n.indexOf("application/json")>-1,i=F.isObject(t);if(i&&F.isHTMLForm(t)&&(t=new FormData(t)),F.isFormData(t))return r?JSON.stringify(Lj(t)):t;if(F.isArrayBuffer(t)||F.isBuffer(t)||F.isStream(t)||F.isFile(t)||F.isBlob(t)||F.isReadableStream(t))return t;if(F.isArrayBufferView(t))return t.buffer;if(F.isURLSearchParams(t))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return ME(t,this.formSerializer).toString();if((o=F.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return _u(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||r?(a.setContentType("application/json",!1),RE(t)):t}],transformResponse:[function(t){const a=this.transitional||jc.transitional,n=a&&a.forcedJSONParsing,r=this.responseType==="json";if(F.isResponse(t)||F.isReadableStream(t))return t;if(t&&F.isString(t)&&(n&&!this.responseType||r)){const l=!(a&&a.silentJSONParsing)&&r;try{return JSON.parse(t,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?Ie.from(o,Ie.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ha.classes.FormData,Blob:ha.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};F.forEach(["delete","get","head","post","put","patch"],e=>{jc.headers[e]={}});const DE=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),LE=e=>{const t={};let a,n,r;return e&&e.split(`
`).forEach(function(l){r=l.indexOf(":"),a=l.substring(0,r).trim().toLowerCase(),n=l.substring(r+1).trim(),!(!a||t[a]&&DE[a])&&(a==="set-cookie"?t[a]?t[a].push(n):t[a]=[n]:t[a]=t[a]?t[a]+", "+n:n)}),t},Ij=Symbol("internals");function wc(e){return e&&String(e).trim().toLowerCase()}function Ru(e){return e===!1||e==null?e:F.isArray(e)?e.map(Ru):String(e)}function IE(e){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=a.exec(e);)t[n[1]]=n[2];return t}const zE=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Af(e,t,a,n,r){if(F.isFunction(n))return n.call(this,t,a);if(r&&(t=a),!!F.isString(t)){if(F.isString(n))return t.indexOf(n)!==-1;if(F.isRegExp(n))return n.test(t)}}function $E(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,a,n)=>a.toUpperCase()+n)}function UE(e,t){const a=F.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+a,{value:function(r,i,l){return this[n].call(this,t,r,i,l)},configurable:!0})})}let Fa=class{constructor(t){t&&this.set(t)}set(t,a,n){const r=this;function i(o,c,d){const m=wc(c);if(!m)throw new Error("header name must be a non-empty string");const f=F.findKey(r,m);(!f||r[f]===void 0||d===!0||d===void 0&&r[f]!==!1)&&(r[f||c]=Ru(o))}const l=(o,c)=>F.forEach(o,(d,m)=>i(d,m,c));if(F.isPlainObject(t)||t instanceof this.constructor)l(t,a);else if(F.isString(t)&&(t=t.trim())&&!zE(t))l(LE(t),a);else if(F.isObject(t)&&F.isIterable(t)){let o={},c,d;for(const m of t){if(!F.isArray(m))throw TypeError("Object iterator must return a key-value pair");o[d=m[0]]=(c=o[d])?F.isArray(c)?[...c,m[1]]:[c,m[1]]:m[1]}l(o,a)}else t!=null&&i(a,t,n);return this}get(t,a){if(t=wc(t),t){const n=F.findKey(this,t);if(n){const r=this[n];if(!a)return r;if(a===!0)return IE(r);if(F.isFunction(a))return a.call(this,r,n);if(F.isRegExp(a))return a.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,a){if(t=wc(t),t){const n=F.findKey(this,t);return!!(n&&this[n]!==void 0&&(!a||Af(this,this[n],n,a)))}return!1}delete(t,a){const n=this;let r=!1;function i(l){if(l=wc(l),l){const o=F.findKey(n,l);o&&(!a||Af(n,n[o],o,a))&&(delete n[o],r=!0)}}return F.isArray(t)?t.forEach(i):i(t),r}clear(t){const a=Object.keys(this);let n=a.length,r=!1;for(;n--;){const i=a[n];(!t||Af(this,this[i],i,t,!0))&&(delete this[i],r=!0)}return r}normalize(t){const a=this,n={};return F.forEach(this,(r,i)=>{const l=F.findKey(n,i);if(l){a[l]=Ru(r),delete a[i];return}const o=t?$E(i):String(i).trim();o!==i&&delete a[i],a[o]=Ru(r),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const a=Object.create(null);return F.forEach(this,(n,r)=>{n!=null&&n!==!1&&(a[r]=t&&F.isArray(n)?n.join(", "):n)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,a])=>t+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...a){const n=new this(t);return a.forEach(r=>n.set(r)),n}static accessor(t){const n=(this[Ij]=this[Ij]={accessors:{}}).accessors,r=this.prototype;function i(l){const o=wc(l);n[o]||(UE(r,l),n[o]=!0)}return F.isArray(t)?t.forEach(i):i(t),this}};Fa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),F.reduceDescriptors(Fa.prototype,({value:e},t)=>{let a=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[a]=n}}}),F.freezeMethods(Fa);function Tf(e,t){const a=this||jc,n=t||a,r=Fa.from(n.headers);let i=n.data;return F.forEach(e,function(o){i=o.call(a,i,r.normalize(),t?t.status:void 0)}),r.normalize(),i}function zj(e){return!!(e&&e.__CANCEL__)}function Ul(e,t,a){Ie.call(this,e??"canceled",Ie.ERR_CANCELED,t,a),this.name="CanceledError"}F.inherits(Ul,Ie,{__CANCEL__:!0});function $j(e,t,a){const n=a.config.validateStatus;!a.status||!n||n(a.status)?e(a):t(new Ie("Request failed with status code "+a.status,[Ie.ERR_BAD_REQUEST,Ie.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function FE(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function qE(e,t){e=e||10;const a=new Array(e),n=new Array(e);let r=0,i=0,l;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),m=n[i];l||(l=d),a[r]=c,n[r]=d;let f=i,p=0;for(;f!==r;)p+=a[f++],f=f%e;if(r=(r+1)%e,r===i&&(i=(i+1)%e),d-l<t)return;const x=m&&d-m;return x?Math.round(p*1e3/x):void 0}}function PE(e,t){let a=0,n=1e3/t,r,i;const l=(d,m=Date.now())=>{a=m,r=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const m=Date.now(),f=m-a;f>=n?l(d,m):(r=d,i||(i=setTimeout(()=>{i=null,l(r)},n-f)))},()=>r&&l(r)]}const Du=(e,t,a=3)=>{let n=0;const r=qE(50,250);return PE(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,c=l-n,d=r(c),m=l<=o;n=l;const f={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&m?(o-l)/d:void 0,event:i,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(f)},a)},Uj=(e,t)=>{const a=e!=null;return[n=>t[0]({lengthComputable:a,total:e,loaded:n}),t[1]]},Fj=e=>(...t)=>F.asap(()=>e(...t)),BE=ha.hasStandardBrowserEnv?((e,t)=>a=>(a=new URL(a,ha.origin),e.protocol===a.protocol&&e.host===a.host&&(t||e.port===a.port)))(new URL(ha.origin),ha.navigator&&/(msie|trident)/i.test(ha.navigator.userAgent)):()=>!0,HE=ha.hasStandardBrowserEnv?{write(e,t,a,n,r,i,l){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(t)}`];F.isNumber(a)&&o.push(`expires=${new Date(a).toUTCString()}`),F.isString(n)&&o.push(`path=${n}`),F.isString(r)&&o.push(`domain=${r}`),i===!0&&o.push("secure"),F.isString(l)&&o.push(`SameSite=${l}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function VE(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function GE(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function qj(e,t,a){let n=!VE(t);return e&&(n||a==!1)?GE(e,t):t}const Pj=e=>e instanceof Fa?{...e}:e;function pi(e,t){t=t||{};const a={};function n(d,m,f,p){return F.isPlainObject(d)&&F.isPlainObject(m)?F.merge.call({caseless:p},d,m):F.isPlainObject(m)?F.merge({},m):F.isArray(m)?m.slice():m}function r(d,m,f,p){if(F.isUndefined(m)){if(!F.isUndefined(d))return n(void 0,d,f,p)}else return n(d,m,f,p)}function i(d,m){if(!F.isUndefined(m))return n(void 0,m)}function l(d,m){if(F.isUndefined(m)){if(!F.isUndefined(d))return n(void 0,d)}else return n(void 0,m)}function o(d,m,f){if(f in t)return n(d,m);if(f in e)return n(void 0,d)}const c={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(d,m,f)=>r(Pj(d),Pj(m),f,!0)};return F.forEach(Object.keys({...e,...t}),function(m){const f=c[m]||r,p=f(e[m],t[m],m);F.isUndefined(p)&&f!==o||(a[m]=p)}),a}const Bj=e=>{const t=pi({},e);let{data:a,withXSRFToken:n,xsrfHeaderName:r,xsrfCookieName:i,headers:l,auth:o}=t;if(t.headers=l=Fa.from(l),t.url=_j(qj(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),F.isFormData(a)){if(ha.hasStandardBrowserEnv||ha.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(F.isFunction(a.getHeaders)){const c=a.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([m,f])=>{d.includes(m.toLowerCase())&&l.set(m,f)})}}if(ha.hasStandardBrowserEnv&&(n&&F.isFunction(n)&&(n=n(t)),n||n!==!1&&BE(t.url))){const c=r&&i&&HE.read(i);c&&l.set(r,c)}return t},QE=typeof XMLHttpRequest<"u"&&function(e){return new Promise(function(a,n){const r=Bj(e);let i=r.data;const l=Fa.from(r.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=r,m,f,p,x,h;function w(){x&&x(),h&&h(),r.cancelToken&&r.cancelToken.unsubscribe(m),r.signal&&r.signal.removeEventListener("abort",m)}let v=new XMLHttpRequest;v.open(r.method.toUpperCase(),r.url,!0),v.timeout=r.timeout;function g(){if(!v)return;const b=Fa.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),E={data:!o||o==="text"||o==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:b,config:e,request:v};$j(function(S){a(S),w()},function(S){n(S),w()},E),v=null}"onloadend"in v?v.onloadend=g:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(g)},v.onabort=function(){v&&(n(new Ie("Request aborted",Ie.ECONNABORTED,e,v)),v=null)},v.onerror=function(j){const E=j&&j.message?j.message:"Network Error",k=new Ie(E,Ie.ERR_NETWORK,e,v);k.event=j||null,n(k),v=null},v.ontimeout=function(){let j=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const E=r.transitional||Dj;r.timeoutErrorMessage&&(j=r.timeoutErrorMessage),n(new Ie(j,E.clarifyTimeoutError?Ie.ETIMEDOUT:Ie.ECONNABORTED,e,v)),v=null},i===void 0&&l.setContentType(null),"setRequestHeader"in v&&F.forEach(l.toJSON(),function(j,E){v.setRequestHeader(E,j)}),F.isUndefined(r.withCredentials)||(v.withCredentials=!!r.withCredentials),o&&o!=="json"&&(v.responseType=r.responseType),d&&([p,h]=Du(d,!0),v.addEventListener("progress",p)),c&&v.upload&&([f,x]=Du(c),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",x)),(r.cancelToken||r.signal)&&(m=b=>{v&&(n(!b||b.type?new Ul(null,e,v):b),v.abort(),v=null)},r.cancelToken&&r.cancelToken.subscribe(m),r.signal&&(r.signal.aborted?m():r.signal.addEventListener("abort",m)));const y=FE(r.url);if(y&&ha.protocols.indexOf(y)===-1){n(new Ie("Unsupported protocol "+y+":",Ie.ERR_BAD_REQUEST,e));return}v.send(i||null)})},YE=(e,t)=>{const{length:a}=e=e?e.filter(Boolean):[];if(t||a){let n=new AbortController,r;const i=function(d){if(!r){r=!0,o();const m=d instanceof Error?d:this.reason;n.abort(m instanceof Ie?m:new Ul(m instanceof Error?m.message:m))}};let l=t&&setTimeout(()=>{l=null,i(new Ie(`timeout ${t} of ms exceeded`,Ie.ETIMEDOUT))},t);const o=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>F.asap(o),c}},KE=function*(e,t){let a=e.byteLength;if(a<t){yield e;return}let n=0,r;for(;n<a;)r=n+t,yield e.slice(n,r),n=r},WE=async function*(e,t){for await(const a of XE(e))yield*KE(a,t)},XE=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:a,value:n}=await t.read();if(a)break;yield n}}finally{await t.cancel()}},Hj=(e,t,a,n)=>{const r=WE(e,t);let i=0,l,o=c=>{l||(l=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:m}=await r.next();if(d){o(),c.close();return}let f=m.byteLength;if(a){let p=i+=f;a(p)}c.enqueue(new Uint8Array(m))}catch(d){throw o(d),d}},cancel(c){return o(c),r.return()}},{highWaterMark:2})},Vj=64*1024,{isFunction:Lu}=F,ZE=(({Request:e,Response:t})=>({Request:e,Response:t}))(F.global),{ReadableStream:Gj,TextEncoder:Qj}=F.global,Yj=(e,...t)=>{try{return!!e(...t)}catch{return!1}},JE=e=>{e=F.merge.call({skipUndefined:!0},ZE,e);const{fetch:t,Request:a,Response:n}=e,r=t?Lu(t):typeof fetch=="function",i=Lu(a),l=Lu(n);if(!r)return!1;const o=r&&Lu(Gj),c=r&&(typeof Qj=="function"?(h=>w=>h.encode(w))(new Qj):async h=>new Uint8Array(await new a(h).arrayBuffer())),d=i&&o&&Yj(()=>{let h=!1;const w=new a(ha.origin,{body:new Gj,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!w}),m=l&&o&&Yj(()=>F.isReadableStream(new n("").body)),f={stream:m&&(h=>h.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!f[h]&&(f[h]=(w,v)=>{let g=w&&w[h];if(g)return g.call(w);throw new Ie(`Response type '${h}' is not supported`,Ie.ERR_NOT_SUPPORT,v)})});const p=async h=>{if(h==null)return 0;if(F.isBlob(h))return h.size;if(F.isSpecCompliantForm(h))return(await new a(ha.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(F.isArrayBufferView(h)||F.isArrayBuffer(h))return h.byteLength;if(F.isURLSearchParams(h)&&(h=h+""),F.isString(h))return(await c(h)).byteLength},x=async(h,w)=>{const v=F.toFiniteNumber(h.getContentLength());return v??p(w)};return async h=>{let{url:w,method:v,data:g,signal:y,cancelToken:b,timeout:j,onDownloadProgress:E,onUploadProgress:k,responseType:S,headers:N,withCredentials:M="same-origin",fetchOptions:R}=Bj(h),A=t||fetch;S=S?(S+"").toLowerCase():"text";let z=YE([y,b&&b.toAbortSignal()],j),H=null;const oe=z&&z.unsubscribe&&(()=>{z.unsubscribe()});let Q;try{if(k&&d&&v!=="get"&&v!=="head"&&(Q=await x(N,g))!==0){let ee=new a(w,{method:"POST",body:g,duplex:"half"}),re;if(F.isFormData(g)&&(re=ee.headers.get("content-type"))&&N.setContentType(re),ee.body){const[P,J]=Uj(Q,Du(Fj(k)));g=Hj(ee.body,Vj,P,J)}}F.isString(M)||(M=M?"include":"omit");const I=i&&"credentials"in a.prototype,D={...R,signal:z,method:v.toUpperCase(),headers:N.normalize().toJSON(),body:g,duplex:"half",credentials:I?M:void 0};H=i&&new a(w,D);let q=await(i?A(H,R):A(w,D));const K=m&&(S==="stream"||S==="response");if(m&&(E||K&&oe)){const ee={};["status","statusText","headers"].forEach(ne=>{ee[ne]=q[ne]});const re=F.toFiniteNumber(q.headers.get("content-length")),[P,J]=E&&Uj(re,Du(Fj(E),!0))||[];q=new n(Hj(q.body,Vj,P,()=>{J&&J(),oe&&oe()}),ee)}S=S||"text";let ae=await f[F.findKey(f,S)||"text"](q,h);return!K&&oe&&oe(),await new Promise((ee,re)=>{$j(ee,re,{data:ae,headers:Fa.from(q.headers),status:q.status,statusText:q.statusText,config:h,request:H})})}catch(I){throw oe&&oe(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new Ie("Network Error",Ie.ERR_NETWORK,h,H),{cause:I.cause||I}):Ie.from(I,I&&I.code,h,H)}}},ek=new Map,Kj=e=>{let t=e&&e.env||{};const{fetch:a,Request:n,Response:r}=t,i=[n,r,a];let l=i.length,o=l,c,d,m=ek;for(;o--;)c=i[o],d=m.get(c),d===void 0&&m.set(c,d=o?new Map:JE(t)),m=d;return d};Kj();const Mf={http:wE,xhr:QE,fetch:{get:Kj}};F.forEach(Mf,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Wj=e=>`- ${e}`,tk=e=>F.isFunction(e)||e===null||e===!1;function ak(e,t){e=F.isArray(e)?e:[e];const{length:a}=e;let n,r;const i={};for(let l=0;l<a;l++){n=e[l];let o;if(r=n,!tk(n)&&(r=Mf[(o=String(n)).toLowerCase()],r===void 0))throw new Ie(`Unknown adapter '${o}'`);if(r&&(F.isFunction(r)||(r=r.get(t))))break;i[o||"#"+l]=r}if(!r){const l=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=a?l.length>1?`since :
`+l.map(Wj).join(`
`):" "+Wj(l[0]):"as no adapter specified";throw new Ie("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r}const Xj={getAdapter:ak,adapters:Mf};function Of(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ul(null,e)}function Zj(e){return Of(e),e.headers=Fa.from(e.headers),e.data=Tf.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Xj.getAdapter(e.adapter||jc.adapter,e)(e).then(function(n){return Of(e),n.data=Tf.call(e,e.transformResponse,n),n.headers=Fa.from(n.headers),n},function(n){return zj(n)||(Of(e),n&&n.response&&(n.response.data=Tf.call(e,e.transformResponse,n.response),n.response.headers=Fa.from(n.response.headers))),Promise.reject(n)})}const Jj="1.13.2",Iu={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Iu[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const e2={};Iu.transitional=function(t,a,n){function r(i,l){return"[Axios v"+Jj+"] Transitional option '"+i+"'"+l+(n?". "+n:"")}return(i,l,o)=>{if(t===!1)throw new Ie(r(l," has been removed"+(a?" in "+a:"")),Ie.ERR_DEPRECATED);return a&&!e2[l]&&(e2[l]=!0,console.warn(r(l," has been deprecated since v"+a+" and will be removed in the near future"))),t?t(i,l,o):!0}},Iu.spelling=function(t){return(a,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function sk(e,t,a){if(typeof e!="object")throw new Ie("options must be an object",Ie.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let r=n.length;for(;r-- >0;){const i=n[r],l=t[i];if(l){const o=e[i],c=o===void 0||l(o,i,e);if(c!==!0)throw new Ie("option "+i+" must be "+c,Ie.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new Ie("Unknown option "+i,Ie.ERR_BAD_OPTION)}}const zu={assertOptions:sk,validators:Iu},Ks=zu.validators;let hi=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Rj,response:new Rj}}async request(t,a){try{return await this._request(t,a)}catch(n){if(n instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,a){typeof t=="string"?(a=a||{},a.url=t):a=t||{},a=pi(this.defaults,a);const{transitional:n,paramsSerializer:r,headers:i}=a;n!==void 0&&zu.assertOptions(n,{silentJSONParsing:Ks.transitional(Ks.boolean),forcedJSONParsing:Ks.transitional(Ks.boolean),clarifyTimeoutError:Ks.transitional(Ks.boolean)},!1),r!=null&&(F.isFunction(r)?a.paramsSerializer={serialize:r}:zu.assertOptions(r,{encode:Ks.function,serialize:Ks.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),zu.assertOptions(a,{baseUrl:Ks.spelling("baseURL"),withXsrfToken:Ks.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let l=i&&F.merge(i.common,i[a.method]);i&&F.forEach(["delete","get","head","post","put","patch","common"],h=>{delete i[h]}),a.headers=Fa.concat(l,i);const o=[];let c=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(a)===!1||(c=c&&w.synchronous,o.unshift(w.fulfilled,w.rejected))});const d=[];this.interceptors.response.forEach(function(w){d.push(w.fulfilled,w.rejected)});let m,f=0,p;if(!c){const h=[Zj.bind(this),void 0];for(h.unshift(...o),h.push(...d),p=h.length,m=Promise.resolve(a);f<p;)m=m.then(h[f++],h[f++]);return m}p=o.length;let x=a;for(;f<p;){const h=o[f++],w=o[f++];try{x=h(x)}catch(v){w.call(this,v);break}}try{m=Zj.call(this,x)}catch(h){return Promise.reject(h)}for(f=0,p=d.length;f<p;)m=m.then(d[f++],d[f++]);return m}getUri(t){t=pi(this.defaults,t);const a=qj(t.baseURL,t.url,t.allowAbsoluteUrls);return _j(a,t.params,t.paramsSerializer)}};F.forEach(["delete","get","head","options"],function(t){hi.prototype[t]=function(a,n){return this.request(pi(n||{},{method:t,url:a,data:(n||{}).data}))}}),F.forEach(["post","put","patch"],function(t){function a(n){return function(i,l,o){return this.request(pi(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}hi.prototype[t]=a(),hi.prototype[t+"Form"]=a(!0)});let nk=class J4{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(i){a=i});const n=this;this.promise.then(r=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](r);n._listeners=null}),this.promise.then=r=>{let i;const l=new Promise(o=>{n.subscribe(o),i=o}).then(r);return l.cancel=function(){n.unsubscribe(i)},l},t(function(i,l,o){n.reason||(n.reason=new Ul(i,l,o),a(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const a=this._listeners.indexOf(t);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const t=new AbortController,a=n=>{t.abort(n)};return this.subscribe(a),t.signal.unsubscribe=()=>this.unsubscribe(a),t.signal}static source(){let t;return{token:new J4(function(r){t=r}),cancel:t}}};function rk(e){return function(a){return e.apply(null,a)}}function ik(e){return F.isObject(e)&&e.isAxiosError===!0}const _f={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(_f).forEach(([e,t])=>{_f[t]=e});function t2(e){const t=new hi(e),a=gj(hi.prototype.request,t);return F.extend(a,hi.prototype,t,{allOwnKeys:!0}),F.extend(a,t,null,{allOwnKeys:!0}),a.create=function(r){return t2(pi(e,r))},a}const Ye=t2(jc);Ye.Axios=hi,Ye.CanceledError=Ul,Ye.CancelToken=nk,Ye.isCancel=zj,Ye.VERSION=Jj,Ye.toFormData=_u,Ye.AxiosError=Ie,Ye.Cancel=Ye.CanceledError,Ye.all=function(t){return Promise.all(t)},Ye.spread=rk,Ye.isAxiosError=ik,Ye.mergeConfig=pi,Ye.AxiosHeaders=Fa,Ye.formToJSON=e=>Lj(F.isHTMLForm(e)?new FormData(e):e),Ye.getAdapter=Xj.getAdapter,Ye.HttpStatusCode=_f,Ye.default=Ye;const{Axios:vD,AxiosError:jD,CanceledError:wD,isCancel:ND,CancelToken:SD,VERSION:CD,all:ED,Cancel:kD,isAxiosError:AD,spread:TD,toFormData:MD,AxiosHeaders:OD,HttpStatusCode:_D,formToJSON:RD,getAdapter:DD,mergeConfig:LD}=Ye,br={systemTokenKey:"SystemApiToken",defaultTokenKey:"ApiToken",systemTokenExpiry:"SystemTokenExpiry",defaultTokenExpiry:"ApiTokenExpiry"},Rf={TenantQueryUrl:"api/1.0/products/",AuthenticationUrl:"api/authentication",Sync_monitor_base_URL:"webapp/SyncMonitorNew",Journal_view_URL:"/journal",UserTokenControllerUrl:"SecureAuthenticate/UserToken",SystemTokenControllerUrl:"SecureAuthenticate/SystemToken",accountsQuery:"api.accounts-query/api/1.0/",systemsQueryV1:"api.systems-query/api/1.0/",systemsQueryV2:"api.systems-query/api/2.0/",systemCommand:"api.systems-command/api/1.0/",syncMonitorQueryURL:"api.sync-monitor-query/api/1.0/",tenantCommand:"api.tenants-command/api/1.0/",splunkLogApiURL:"api.splunklog/api/1.0/splunk-log/",userQuery:"api.users-query/api/1.0/",accountsCommand:"api.accounts-command/api/1.0/",payrollQuery:"api.payrolls-query/api/1.0/",payrollCommand:"api.payrolls-command/api/1.0/",salesSetup:"/Webapp/SalesSetup",payrollSetup:"/Webapp/PayrollSetup",salesMapping:"/Webapp/SalesSetup/Mapping",payrollMapping:"/Webapp/PayrollSetup/Mapping",userAuth:"api/user/auth/login",userLogout:"api/user/auth/logout",products:"api/products",productsByCategory:"api/products/category",menuItems:"api/menu",cart:"api/cart"};function Sa(e){return window.localStorage.getItem(e)}function kn(e,t){window.localStorage.setItem(e,t)}const $u={log:(e,t,a)=>{},info:(e,t,a)=>{},warn:(e,t,a)=>{},error:(e,t,a,n)=>{},debug:(e,t,a)=>{}},Fl={TENANT_TOKEN:"ApiToken",USER_DATA:"user"},Df="_expiry";class Nc{static get(t){try{return localStorage.getItem(t)}catch{return null}}static set(t,a,n){try{if(localStorage.setItem(t,a),n){const r=new Date(Date.now()+n*1e3).toISOString();localStorage.setItem(`${t}${Df}`,r)}}catch{}}static remove(t){try{localStorage.removeItem(t),localStorage.removeItem(`${t}${Df}`)}catch{}}static isExpired(t){try{const a=localStorage.getItem(`${t}${Df}`);return a?new Date(a)<new Date:!0}catch{return!0}}static getWithExpiry(t){const a=this.get(t),n=this.isExpired(t);return{token:a,expired:n}}static clearAll(){try{Object.values(Fl).forEach(t=>{this.remove(t)}),localStorage.removeItem("ApiTokenExpiry"),localStorage.removeItem("token"),localStorage.removeItem("sessionToken")}catch{}}static getTenantToken(){return this.get(Fl.TENANT_TOKEN)}static setTenantToken(t,a){this.set(Fl.TENANT_TOKEN,t,a),a&&localStorage.setItem("ApiTokenExpiry",new Date(Date.now()+a*1e3).toISOString())}static isTenantTokenExpired(){return this.isExpired(Fl.TENANT_TOKEN)}static getUserData(){try{const t=this.get(Fl.USER_DATA);return t?JSON.parse(t):null}catch{return null}}static setUserData(t){try{this.set(Fl.USER_DATA,JSON.stringify(t))}catch{}}static isAuthenticated(){const t=this.getTenantToken(),a=this.getUserData();return!!(t&&a)}}class lk{constructor(){nn(this,"tenantApiConfig",{});nn(this,"systemApiConfig",{});nn(this,"baseAppUrl",localStorage.getItem("ApiBaseUrl")?localStorage.getItem("ApiBaseUrl"):"");nn(this,"defaultTokenKey",br.defaultTokenKey);nn(this,"defaultTokenExpiry",br.defaultTokenExpiry);nn(this,"systemTokenExpiry",br.systemTokenExpiry);nn(this,"systemTokenKey",br.systemTokenKey);this.setDefaults()}async tenantGet(t){return this.hasTenantTokenExpired()&&await this.refreshTenantToken(),Ye.get(`${t}`,this.tenantApiConfig)}async tenantPatch(t,a){return this.hasTenantTokenExpired()&&await this.refreshTenantToken(),Ye.patch(`${t}`,a,this.tenantApiConfig)}async tenantDelete(t){let a=null;try{this.hasTenantTokenExpired()&&await this.refreshTenantToken(),a=await Ye.delete(`${t}`,this.tenantApiConfig)}catch(n){throw a=(n==null?void 0:n.response)||null,(a==null?void 0:a.status)===400?a.data:n||new Error("Request failed")}return a}async tenantPost(t,a){let n=null;try{this.hasTenantTokenExpired()&&await this.refreshTenantToken(),n=await Ye.post(`${t}`,a,this.tenantApiConfig)}catch(r){throw n=(r==null?void 0:r.response)||null,(n==null?void 0:n.status)===404?n.data:r||new Error("Request failed")}return n}async systemPost(t,a){let n=null;try{this.hasSystemTokenExpired()&&await this.refreshTenantToken(),n=await Ye.post(`${t}`,a,this.systemApiConfig)}catch(r){throw n=(r==null?void 0:r.response)||null,(n==null?void 0:n.status)===404?n.data:r||new Error("Request failed")}return n}async systemGet(t){return this.hasTenantTokenExpired()&&await this.refreshTenantToken(),Ye.get(`${t}`,this.systemApiConfig)}async getWeb(t){return Ye.get(t)}async postWeb(t,a){return Ye.post(t,a)}async patchWeb(t,a){return Ye.patch(t,a)}async getPublic(t,a){return Ye.get(t,this.getPublicHeaders(a))}async postPublic(t,a,n){return Ye.post(t,a,this.getPublicHeaders(n))}async patchPublic(t,a,n){return Ye.patch(t,a,this.getPublicHeaders(n))}async putPublic(t,a,n){return Ye.put(t,a,this.getPublicHeaders(n))}async deletePublic(t,a){return Ye.delete(t,this.getPublicHeaders(a))}getPublicHeaders(t){const a={headers:{"Content-Type":"application/json",Accept:"application/json"}};return t?{...a,...t,headers:{...a.headers,...t.headers}}:a}async postAuthFormData(t,a){this.hasTenantTokenExpired()&&await this.refreshTenantToken();const n=Sa("ApiToken")||"",r={headers:{Authorization:n?`Bearer ${n}`:"","Content-Type":"multipart/form-data",Accept:"application/json"}};return Ye.post(`${t}`,a,r)}setDefaults(){const t=Sa("ApiToken")||"";this.baseAppUrl=Sa("AppBaseUrl")||"";const a=Sa("ContainerApiBaseUrl")||"";this.tenantApiConfig={baseURL:a,headers:{"Content-Type":"application/json",Authorization:t?`Bearer ${t}`:""}};const n=Sa("SystemApiToken")||"";this.systemApiConfig={baseURL:a,headers:{"Content-Type":"application/json",Authorization:n?`Bearer ${n}`:""}}}hasTenantTokenExpired(t=br.defaultTokenExpiry){const a=Number(Sa(t));if(!a)return!0;const n=Math.floor(Date.now()/1e3),r=a-n;return r<=0||r<300}hasSystemTokenExpired(t=br.systemTokenExpiry){const a=Number(Sa(t));if(!a)return!0;const n=Math.floor(Date.now()/1e3),r=a-n;return r<=0||r<300}async refreshTenantToken(){var t;try{const a=Nc.getUserData();if(!a||!a.userId)throw new Error("User data not found. Please login again.");const n=a.roles&&a.roles.length>0?a.roles[0]:null,r=(n==null?void 0:n.roleId)||(n==null?void 0:n.id)||1,i=Sa("ContainerApiBaseUrl")||"",l={userId:a.userId.toString(),userRole:r.toString(),tenantId:((t=a.tenantId)==null?void 0:t.toString())||"1",locationId:"1",internal:!0},c=(await this.postPublic(`${i}api/authentication/tenant-token`,l)).data;if(c.exception)throw new Error(c.exception||"Failed to refresh tenant token");const d=c.data||c;if(d&&d.token&&d.exp!==void 0)this.setTenantTokenFromApi(d),this.setDefaults();else throw new Error("Invalid response format from tenant token endpoint")}catch(a){throw new Error(a.message||"Failed to refresh tenant token. Please login again.")}}setTenantTokenFromApi(t){kn(this.defaultTokenKey,t.token),kn(this.defaultTokenExpiry,t.exp.toString())}setTenantToken(t){if(t.tokenDetails)kn(this.defaultTokenKey,t.tokenDetails.token),kn(this.defaultTokenExpiry,t.tokenDetails.exp.toString());else if(t.token&&t.exp)this.setTenantTokenFromApi(t);else throw new Error("Invalid token data format")}setSystemToken(t){kn(this.systemTokenKey,t.tokenDetails.token),kn(this.systemTokenExpiry,t.tokenDetails.exp)}}const me=new lk,ua=1,Uu=2e3,a2=1,ns="https://localhost:5002",dt=e=>{if(typeof e=="number")return e;if(typeof e=="string"){const t=parseInt(e,10);return isNaN(t)?ua:t}return ua},s2=Object.freeze(Object.defineProperty({__proto__:null,API_BASE_URL:ns,DEFAULT_TENANT_ID:ua,FREE_SHIPPING_THRESHOLD:Uu,SHIPPING_COST:a2,getTenantId:dt},Symbol.toStringTag,{value:"Module"})),n2=ns;let Fu="",de=`${n2}/`;class ok{constructor(){this.initializeFromCache()}initializeFromCache(){var t;de=Sa("ContainerApiBaseUrl")||`${n2}/`,de&&!de.endsWith("/")&&(de=`${de}/`);try{const a=localStorage.getItem("xcCache");if(a){const n=JSON.parse(a);n&&(Fu=((t=n.tenant)==null?void 0:t.id)||"")}}catch{}}async login(t){return(await pe(()=>me.postPublic(`${de}${Rf.userAuth}`,t))).data}async getTenantToken(t){const a=Sa("ContainerApiBaseUrl")||`${ns}/`,n=a.endsWith("/")?a:`${a}/`;return(await pe(()=>me.postPublic(`${n}api/authentication/tenant-token`,t))).data}async logout(t){return(await pe(()=>me.tenantPost(`${de}${Rf.userLogout}`,t))).data}async getMenuMaster(){return(await pe(()=>me.getPublic(`${de}api/1.0/products/menu/master`))).data}async searchProducts(t){return(await pe(()=>me.tenantPost(`${de}api/1.0/products/tenants/${ua}/search-products`,t))).data}async getProductListFiltered(t){return(await pe(()=>me.tenantPost(`${de}api/1.0/products/tenants/${ua}/get-product-list-filtered`,t))).data}async addProduct(t){return(await pe(()=>me.tenantPost(`${de}api/1.0/products/tenants/${ua}/add-product`,t))).data}async updateProduct(t){return(await pe(()=>me.tenantPost(`${de}api/1.0/products/tenants/${ua}/update-product`,t))).data}async deleteProduct(t){return(await pe(()=>me.tenantDelete(`${de}api/1.0/products/tenants/${ua}/${t}`))).data}async registerUser(t){return(await pe(()=>me.postPublic(`${de}api/user/auth/register`,t))).data}async getUserProfile(t,a){return(await pe(()=>me.tenantGet(`${de}api/user/auth/profile?userId=${t}&tenantId=${a}`))).data}async updateUserProfile(t,a,n){return(await pe(()=>me.tenantPost(`${de}api/user/auth/update-profile`,t))).data}async resetPassword(t){return(await pe(()=>me.tenantPost(`${de}api/user/auth/reset-password`,t))).data}async placeOrder(t,a){return(await pe(()=>me.tenantPost(`${de}${Rf.payrollCommand}payrolls/tenants/${Fu}/locations/resync-payroll?isPayrollConfig=false&isResync=${a}`,t))).data}async getCart(t){return(await pe(()=>me.tenantPost(`${de}api/1.0/products/tenants/${t.tenantId}/get-cart`,t))).data}async addToCart(t){const a=Fu||dt().toString();return(await pe(()=>me.tenantPost(`${de}api/1.0/products/tenantId/${a}/add-cart`,t))).data}async removeFromCart(t){const a=Fu||dt().toString();return(await pe(()=>me.tenantPost(`${de}api/1.0/products/tenantId/${a}/remove-item`,t))).data}async clearCart(t){return(await pe(()=>me.tenantPost(`${de}api/1.0/products/tenantId/${t.tenantId}/clear-cart`,t))).data}async uploadProductImage(t,a,n,r=!0,i=200,l=200){const o=new FormData;return o.append("File",a),o.append("ProductId",n.toString()),o.append("GenerateThumbnail",r.toString()),o.append("ThumbnailWidth",i.toString()),o.append("ThumbnailHeight",l.toString()),(await pe(()=>me.postAuthFormData(`${de}api/1.0/products/tenants/${t}/upload`,o))).data}async getProductImages(t){return(await pe(()=>me.tenantGet(`${de}api/1.0/products/products/${t}/images`))).data}async deleteProductImage(t,a){return(await pe(()=>me.tenantDelete(`${de}api/1.0/products/products/${a}/images/${t}`))).data}async getProductById(t){return(await pe(()=>me.getPublic(`${de}api/1.0/products/${t}`))).data}async setMainProductImage(t,a){return(await pe(()=>me.tenantPost(`${de}api/1.0/products/products/${a}/images/${t}/set-main`,{}))).data}async addToWishlist(t){return(await pe(()=>me.tenantPost(`${de}api/1.0/products/tenants/${t.tenantId}/wishlist`,t))).data}async updateWishlistItem(t){return(await pe(()=>me.tenantPost(`${de}api/1.0/products/tenants/${t.tenantId}/wishlist/${t.wishlistItemId}`,t))).data}async getWishlistItems(t){var n;const a=await pe(()=>me.tenantPost(`${de}api/1.0/products/tenants/${t.tenantId}/wishlist/items`,t));return((n=a.data)==null?void 0:n.data)||a.data}async removeFromWishlist(t,a,n){const r=n||dt();return(await pe(async()=>{const l=Sa("ApiToken")||"",c={baseURL:Sa("ContainerApiBaseUrl")||"",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},data:{userId:t,productId:a}};return Ye.delete(`api/1.0/products/tenants/${r}/remove-from-wishlist`,c)})).data}async getWishlistStats(t){return(await pe(()=>me.tenantGet(`${de}api/1.0/products/wishlist/${t}/stats`))).data}async getUserWishlistWithItems(t){const n={tenantId:dt(),userId:t,page:1,page_size:100};return{data:await this.getWishlistItems(n),exception:null}}async addOrUpdateWishlistItem(t,a){const n=a.tenantId||dt();return(await pe(()=>me.tenantPost(`${de}api/1.0/products/tenants/${n}/add-to-wishlist`,{userId:a.userId||t,productId:a.product_id,quantity:a.quantity||1}))).data}async clearWishlist(t){return(await pe(()=>me.tenantDelete(`${de}api/1.0/products/wishlist/${t}/clear`))).data}async isProductInWishlist(t,a,n){var i;const r=n||dt();try{const l={tenantId:r,userId:t,page:1,page_size:100};return{data:{isInWishlist:((i=(await this.getWishlistItems(l)).items)==null?void 0:i.some(d=>d.product_id===a))||!1},exception:null}}catch{return{data:{isInWishlist:!1},exception:null}}}async isProductInWishlistLegacy(t,a){return(await pe(()=>me.tenantGet(`${de}api/1.0/products/wishlist/${t}/product/${a}`))).data}async getCategories(t){return(await pe(()=>me.tenantGet(`${de}api/1.0/products/categories?tenantId=${t}`))).data}async addCategory(t){return(await pe(()=>me.tenantPost(`${de}api/1.0/products/tenants/${ua}/add-category`,t))).data}async updateCategory(t){return(await pe(()=>me.tenantPost(`${de}api/1.0/products/tenants/${ua}/add-category`,t))).data}async deleteCategory(t,a){return(await pe(()=>me.tenantDelete(`${de}api/1.0/products/categories/${t}?tenantId=${a}`))).data}async createOrder(t){return(await pe(()=>me.tenantPost(`${de}api/1.0/products/create-orders`,t))).data}async getOrders(t){return(await pe(()=>me.tenantPost(`${de}api/1.0/products/get-orders`,t))).data}async getOrderById(t,a,n=!0,r=!0,i=!0){const l=new URLSearchParams({includeItems:n.toString(),includeAddress:r.toString(),includePayment:i.toString()});return(await pe(()=>me.tenantGet(`${de}api/1.0/products/tenantId/${a}/${t}?${l.toString()}`))).data}async getAdminOrders(t){return(await pe(()=>me.tenantPost(`${de}api/1.0/products/admin/orders`,t))).data}async getAdminUsers(t){return(await pe(()=>me.tenantPost(`${de}api/user/admin/users`,t))).data}async updateUserStatus(t){return(await pe(()=>me.tenantPost(`${de}api/user/admin/users/update-status`,t))).data}async updateUserRole(t){return(await pe(()=>me.tenantPost(`${de}api/user/admin/users/update-role`,t))).data}async toggleVerification(t){return(await pe(()=>me.tenantPost(`${de}api/user/admin/users/toggle-verification`,t))).data}async updateOrderStatus(t){return(await pe(()=>me.tenantPost(`${de}api/1.0/products/orders/update-status`,t))).data}async printShippingLabels(t){return(await pe(()=>me.tenantPost(`${de}api/1.0/products/orders/print-labels`,t))).data}async getProductReviews(t){return(await pe(()=>me.getPublic(`${de}api/1.0/productreview/${t}/reviews`))).data}async getProductReviewStats(t){return(await pe(()=>me.getPublic(`${de}api/1.0/productreview/${t}/reviews/stats`))).data}async createProductReview(t,a){return(await pe(()=>me.tenantPost(`${de}api/1.0/productreview/${t}/reviews`,{productId:t,rating:a.rating,reviewTitle:a.reviewTitle,reviewText:a.reviewText,...a.userId&&{userId:a.userId},...a.tenantId&&{tenantId:a.tenantId}}))).data}async updateProductReview(t,a,n){return(await pe(()=>me.tenantPost(`${de}api/1.0/productreview/${t}/reviews/${a}`,{...n,...n.userId&&{userId:n.userId},...n.tenantId&&{tenantId:n.tenantId}}))).data}async deleteProductReview(t,a){return(await pe(()=>me.tenantDelete(`${de}api/1.0/products/${t}/reviews/${a}`))).data}async markReviewHelpful(t,a){return(await pe(()=>me.tenantPost(`${de}api/1.0/products/${t}/reviews/${a}/helpful`,{}))).data}async validateCoupon(t){return(await pe(()=>me.tenantPost(`${de}api/1.0/coupons/validate`,t))).data}async getCoupons(t){return(await pe(()=>me.tenantGet(`${de}api/1.0/coupons?tenantId=${t}`))).data}async getCouponById(t,a){const n=a?`?tenantId=${a}`:"";return(await pe(()=>me.tenantGet(`${de}api/1.0/coupons/${t}${n}`))).data}async createCoupon(t){return(await pe(()=>me.tenantPost(`${de}api/1.0/coupons`,t))).data}async updateCoupon(t,a){return(await pe(()=>me.tenantPost(`${de}api/1.0/coupons/${t}`,a))).data}async deleteCoupon(t,a){return(await pe(()=>me.tenantDelete(`${de}api/1.0/coupons/${t}?tenantId=${a}`))).data}async getCouponUsage(t,a){const n=a?`?tenantId=${a}`:"";return(await pe(()=>me.tenantGet(`${de}api/1.0/coupons/${t}/usage${n}`))).data}async getDashboardStats(t,a,n){const r=new URLSearchParams({tenantId:t.toString()});if(a){const l=a.includes("T")?a.split("T")[0]:a;r.append("startDate",l)}if(n){const l=n.includes("T")?n.split("T")[0]:n;r.append("endDate",l)}return(await pe(()=>me.tenantGet(`${de}api/1.0/dashboard/stats?${r.toString()}`))).data}async getSalesOverTime(t,a,n,r="day"){const i=new URLSearchParams({tenantId:t.toString(),groupBy:r});if(a){const o=a.includes("T")?a.split("T")[0]:a;i.append("startDate",o)}if(n){const o=n.includes("T")?n.split("T")[0]:n;i.append("endDate",o)}return(await pe(()=>me.tenantGet(`${de}api/1.0/dashboard/sales-over-time?${i.toString()}`))).data}async getTopProducts(t,a,n,r=10){const i=new URLSearchParams({tenantId:t.toString(),topCount:r.toString()});if(a){const o=a.includes("T")?a.split("T")[0]:a;i.append("startDate",o)}if(n){const o=n.includes("T")?n.split("T")[0]:n;i.append("endDate",o)}return(await pe(()=>me.tenantGet(`${de}api/1.0/dashboard/top-products?${i.toString()}`))).data}async getRecentOrders(t,a=10){const n=new URLSearchParams({tenantId:t.toString(),count:a.toString()});return(await pe(()=>me.tenantGet(`${de}api/1.0/dashboard/recent-orders?${n.toString()}`))).data}async getStates(t,a="IN",n=!0){const r=new URLSearchParams({countryCode:a,activeOnly:n.toString()});t&&r.append("tenantId",t.toString());const i=await pe(()=>me.getPublic(`${de}api/1.0/shipping/states?${r.toString()}`));return(i==null?void 0:i.data)||i}async calculateShippingCharge(t){const a=await pe(()=>me.tenantPost(`${de}api/1.0/shipping/calculate`,t));return(a==null?void 0:a.data)||a}async calculateMixedShipping(t){const a=await pe(()=>me.tenantPost(`${de}api/1.0/shipping/calculate-mixed`,t));return(a==null?void 0:a.data)||a}async getMyAddresses(t,a=!0){if(!t)throw new Error("User ID is required to fetch addresses");return(await pe(()=>me.tenantGet(`${de}api/1.0/addresses/my-addresses?userId=${t}&activeOnly=${a}`))).data}async getAddressById(t){return(await pe(()=>me.tenantGet(`${de}api/1.0/addresses/${t}`))).data}async createAddress(t,a){if(!t)throw new Error("User ID is required to create address");return(await pe(()=>me.tenantPost(`${de}api/1.0/addresses/user/${t}`,a))).data}async updateAddress(t,a,n){const r=n?`${de}api/1.0/addresses/${t}?userId=${n}`:`${de}api/1.0/addresses/${t}`;return(await pe(()=>me.tenantPost(r,a))).data}async deleteAddress(t,a){if(!a)throw new Error("User ID is required to delete address");return(await pe(()=>me.tenantDelete(`${de}api/1.0/addresses/${t}?userId=${a}`))).data}async setDefaultAddress(t,a){if(!a)throw new Error("User ID is required to set default address");return(await pe(()=>me.tenantPost(`${de}api/1.0/addresses/${t}/set-default?userId=${a}`,{}))).data}async validateAddress(t){const a=await pe(()=>me.tenantPost(`${de}api/1.0/addresses/validate`,t));return(a==null?void 0:a.data)||a}async adminGetAllAddresses(t,a,n=!0,r=1,i=50){const l=new URLSearchParams({tenantId:t.toString(),activeOnly:n.toString(),pageNumber:r.toString(),pageSize:i.toString()});return a&&l.append("userId",a.toString()),(await pe(()=>me.tenantGet(`${de}api/1.0/addresses/admin/all?${l.toString()}`))).data}}async function pe(e){try{return await e()}catch(t){throw t}}const fe=new ok;var ql=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ck={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},dk=(VN=class{constructor(){je(this,Or,ck);je(this,Jx,!1)}setTimeoutProvider(e){he(this,Or,e)}setTimeout(e,t){return O(this,Or).setTimeout(e,t)}clearTimeout(e){O(this,Or).clearTimeout(e)}setInterval(e,t){return O(this,Or).setInterval(e,t)}clearInterval(e){O(this,Or).clearInterval(e)}},Or=new WeakMap,Jx=new WeakMap,VN),fi=new dk;function uk(e){setTimeout(e,0)}var xi=typeof window>"u"||"Deno"in globalThis;function Ca(){}function mk(e,t){return typeof e=="function"?e(t):e}function Lf(e){return typeof e=="number"&&e>=0&&e!==1/0}function r2(e,t){return Math.max(e+(t||0)-Date.now(),0)}function vr(e,t){return typeof e=="function"?e(t):e}function ws(e,t){return typeof e=="function"?e(t):e}function i2(e,t){const{type:a="all",exact:n,fetchStatus:r,predicate:i,queryKey:l,stale:o}=e;if(l){if(n){if(t.queryHash!==If(l,t.options))return!1}else if(!Sc(t.queryKey,l))return!1}if(a!=="all"){const c=t.isActive();if(a==="active"&&!c||a==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||r&&r!==t.state.fetchStatus||i&&!i(t))}function l2(e,t){const{exact:a,status:n,predicate:r,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(a){if(gi(t.options.mutationKey)!==gi(i))return!1}else if(!Sc(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||r&&!r(t))}function If(e,t){return((t==null?void 0:t.queryKeyHashFn)||gi)(e)}function gi(e){return JSON.stringify(e,(t,a)=>zf(a)?Object.keys(a).sort().reduce((n,r)=>(n[r]=a[r],n),{}):a)}function Sc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(a=>Sc(e[a],t[a])):!1}var pk=Object.prototype.hasOwnProperty;function o2(e,t){if(e===t)return e;const a=c2(e)&&c2(t);if(!a&&!(zf(e)&&zf(t)))return t;const r=(a?e:Object.keys(e)).length,i=a?t:Object.keys(t),l=i.length,o=a?new Array(l):{};let c=0;for(let d=0;d<l;d++){const m=a?d:i[d],f=e[m],p=t[m];if(f===p){o[m]=f,(a?d<r:pk.call(e,m))&&c++;continue}if(f===null||p===null||typeof f!="object"||typeof p!="object"){o[m]=p;continue}const x=o2(f,p);o[m]=x,x===f&&c++}return r===l&&c===r?e:o}function qu(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const a in e)if(e[a]!==t[a])return!1;return!0}function c2(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function zf(e){if(!d2(e))return!1;const t=e.constructor;if(t===void 0)return!0;const a=t.prototype;return!(!d2(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function d2(e){return Object.prototype.toString.call(e)==="[object Object]"}function hk(e){return new Promise(t=>{fi.setTimeout(t,e)})}function $f(e,t,a){return typeof a.structuralSharing=="function"?a.structuralSharing(e,t):a.structuralSharing!==!1?o2(e,t):t}function fk(e,t,a=0){const n=[...e,t];return a&&n.length>a?n.slice(1):n}function xk(e,t,a=0){const n=[t,...e];return a&&n.length>a?n.slice(0,-1):n}var Uf=Symbol();function u2(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Uf?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Ff(e,t){return typeof e=="function"?e(...t):!!e}function gk(e,t,a){let n=!1,r;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(r??(r=t()),n||(n=!0,r.aborted?a():r.addEventListener("abort",a,{once:!0})),r)}),e}var yk=(GN=class extends ql{constructor(){super();je(this,Di);je(this,_r);je(this,ao);he(this,ao,t=>{if(!xi&&window.addEventListener){const a=()=>t();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}})}onSubscribe(){O(this,_r)||this.setEventListener(O(this,ao))}onUnsubscribe(){var t;this.hasListeners()||((t=O(this,_r))==null||t.call(this),he(this,_r,void 0))}setEventListener(t){var a;he(this,ao,t),(a=O(this,_r))==null||a.call(this),he(this,_r,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){O(this,Di)!==t&&(he(this,Di,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(a=>{a(t)})}isFocused(){var t;return typeof O(this,Di)=="boolean"?O(this,Di):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Di=new WeakMap,_r=new WeakMap,ao=new WeakMap,GN),qf=new yk;function Pf(){let e,t;const a=new Promise((r,i)=>{e=r,t=i});a.status="pending",a.catch(()=>{});function n(r){Object.assign(a,r),delete a.resolve,delete a.reject}return a.resolve=r=>{n({status:"fulfilled",value:r}),e(r)},a.reject=r=>{n({status:"rejected",reason:r}),t(r)},a}var bk=uk;function vk(){let e=[],t=0,a=o=>{o()},n=o=>{o()},r=bk;const i=o=>{t?e.push(o):r(()=>{a(o)})},l=()=>{const o=e;e=[],o.length&&r(()=>{n(()=>{o.forEach(c=>{a(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||l()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{a=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{r=o}}}var Xt=vk(),jk=(QN=class extends ql{constructor(){super();je(this,so,!0);je(this,Rr);je(this,no);he(this,no,t=>{if(!xi&&window.addEventListener){const a=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",n)}}})}onSubscribe(){O(this,Rr)||this.setEventListener(O(this,no))}onUnsubscribe(){var t;this.hasListeners()||((t=O(this,Rr))==null||t.call(this),he(this,Rr,void 0))}setEventListener(t){var a;he(this,no,t),(a=O(this,Rr))==null||a.call(this),he(this,Rr,t(this.setOnline.bind(this)))}setOnline(t){O(this,so)!==t&&(he(this,so,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return O(this,so)}},so=new WeakMap,Rr=new WeakMap,no=new WeakMap,QN),Pu=new jk;function wk(e){return Math.min(1e3*2**e,3e4)}function m2(e){return(e??"online")==="online"?Pu.isOnline():!0}var Bf=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function p2(e){let t=!1,a=0,n;const r=Pf(),i=()=>r.status!=="pending",l=w=>{var v;if(!i()){const g=new Bf(w);p(g),(v=e.onCancel)==null||v.call(e,g)}},o=()=>{t=!0},c=()=>{t=!1},d=()=>qf.isFocused()&&(e.networkMode==="always"||Pu.isOnline())&&e.canRun(),m=()=>m2(e.networkMode)&&e.canRun(),f=w=>{i()||(n==null||n(),r.resolve(w))},p=w=>{i()||(n==null||n(),r.reject(w))},x=()=>new Promise(w=>{var v;n=g=>{(i()||d())&&w(g)},(v=e.onPause)==null||v.call(e)}).then(()=>{var w;n=void 0,i()||(w=e.onContinue)==null||w.call(e)}),h=()=>{if(i())return;let w;const v=a===0?e.initialPromise:void 0;try{w=v??e.fn()}catch(g){w=Promise.reject(g)}Promise.resolve(w).then(f).catch(g=>{var k;if(i())return;const y=e.retry??(xi?0:3),b=e.retryDelay??wk,j=typeof b=="function"?b(a,g):b,E=y===!0||typeof y=="number"&&a<y||typeof y=="function"&&y(a,g);if(t||!E){p(g);return}a++,(k=e.onFail)==null||k.call(e,a,g),hk(j).then(()=>d()?void 0:x()).then(()=>{t?p(g):h()})})};return{promise:r,status:()=>r.status,cancel:l,continue:()=>(n==null||n(),r),cancelRetry:o,continueRetry:c,canStart:m,start:()=>(m()?h():x().then(h),r)}}var h2=(YN=class{constructor(){je(this,Li)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Lf(this.gcTime)&&he(this,Li,fi.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(xi?1/0:5*60*1e3))}clearGcTimeout(){O(this,Li)&&(fi.clearTimeout(O(this,Li)),he(this,Li,void 0))}},Li=new WeakMap,YN),Nk=(KN=class extends h2{constructor(t){super();je(this,Fs);je(this,Ii);je(this,ro);je(this,ks);je(this,zi);je(this,ra);je(this,Bc);je(this,$i);he(this,$i,!1),he(this,Bc,t.defaultOptions),this.setOptions(t.options),this.observers=[],he(this,zi,t.client),he(this,ks,O(this,zi).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,he(this,Ii,g2(this.options)),this.state=t.state??O(this,Ii),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=O(this,ra))==null?void 0:t.promise}setOptions(t){if(this.options={...O(this,Bc),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const a=g2(this.options);a.data!==void 0&&(this.setState(x2(a.data,a.dataUpdatedAt)),he(this,Ii,a))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&O(this,ks).remove(this)}setData(t,a){const n=$f(this.state.data,t,this.options);return Fe(this,Fs,Vn).call(this,{data:n,type:"success",dataUpdatedAt:a==null?void 0:a.updatedAt,manual:a==null?void 0:a.manual}),n}setState(t,a){Fe(this,Fs,Vn).call(this,{type:"setState",state:t,setStateOptions:a})}cancel(t){var n,r;const a=(n=O(this,ra))==null?void 0:n.promise;return(r=O(this,ra))==null||r.cancel(t),a?a.then(Ca).catch(Ca):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(O(this,Ii))}isActive(){return this.observers.some(t=>ws(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Uf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>vr(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!r2(this.state.dataUpdatedAt,t)}onFocus(){var a;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(a=O(this,ra))==null||a.continue()}onOnline(){var a;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(a=O(this,ra))==null||a.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),O(this,ks).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(a=>a!==t),this.observers.length||(O(this,ra)&&(O(this,$i)?O(this,ra).cancel({revert:!0}):O(this,ra).cancelRetry()),this.scheduleGc()),O(this,ks).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Fe(this,Fs,Vn).call(this,{type:"invalidate"})}async fetch(t,a){var c,d,m,f,p,x,h,w,v,g,y,b;if(this.state.fetchStatus!=="idle"&&((c=O(this,ra))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(a!=null&&a.cancelRefetch))this.cancel({silent:!0});else if(O(this,ra))return O(this,ra).continueRetry(),O(this,ra).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(E=>E.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,r=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(he(this,$i,!0),n.signal)})},i=()=>{const j=u2(this.options,a),k=(()=>{const S={client:O(this,zi),queryKey:this.queryKey,meta:this.meta};return r(S),S})();return he(this,$i,!1),this.options.persister?this.options.persister(j,k,this):j(k)},o=(()=>{const j={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:O(this,zi),state:this.state,fetchFn:i};return r(j),j})();(d=this.options.behavior)==null||d.onFetch(o,this),he(this,ro,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=o.fetchOptions)==null?void 0:m.meta))&&Fe(this,Fs,Vn).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta}),he(this,ra,p2({initialPromise:a==null?void 0:a.initialPromise,fn:o.fetchFn,onCancel:j=>{j instanceof Bf&&j.revert&&this.setState({...O(this,ro),fetchStatus:"idle"}),n.abort()},onFail:(j,E)=>{Fe(this,Fs,Vn).call(this,{type:"failed",failureCount:j,error:E})},onPause:()=>{Fe(this,Fs,Vn).call(this,{type:"pause"})},onContinue:()=>{Fe(this,Fs,Vn).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const j=await O(this,ra).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(x=(p=O(this,ks).config).onSuccess)==null||x.call(p,j,this),(w=(h=O(this,ks).config).onSettled)==null||w.call(h,j,this.state.error,this),j}catch(j){if(j instanceof Bf){if(j.silent)return O(this,ra).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw Fe(this,Fs,Vn).call(this,{type:"error",error:j}),(g=(v=O(this,ks).config).onError)==null||g.call(v,j,this),(b=(y=O(this,ks).config).onSettled)==null||b.call(y,this.state.data,j,this),j}finally{this.scheduleGc()}}},Ii=new WeakMap,ro=new WeakMap,ks=new WeakMap,zi=new WeakMap,ra=new WeakMap,Bc=new WeakMap,$i=new WeakMap,Fs=new WeakSet,Vn=function(t){const a=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...f2(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,...x2(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return he(this,ro,t.manual?r:void 0),r;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=a(this.state),Xt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),O(this,ks).notify({query:this,type:"updated",action:t})})},KN);function f2(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:m2(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function x2(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function g2(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,a=t!==void 0,n=a?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:a?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}var Sk=(WN=class extends ql{constructor(t,a){super();je(this,tt);je(this,Ha);je(this,We);je(this,Hc);je(this,ka);je(this,Ui);je(this,io);je(this,$n);je(this,Dr);je(this,Vc);je(this,lo);je(this,oo);je(this,Fi);je(this,qi);je(this,Lr);je(this,co,new Set);this.options=a,he(this,Ha,t),he(this,Dr,null),he(this,$n,Pf()),this.bindMethods(),this.setOptions(a)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(O(this,We).addObserver(this),y2(O(this,We),this.options)?Fe(this,tt,Kc).call(this):this.updateResult(),Fe(this,tt,i0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Hf(O(this,We),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Hf(O(this,We),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Fe(this,tt,l0).call(this),Fe(this,tt,o0).call(this),O(this,We).removeObserver(this)}setOptions(t){const a=this.options,n=O(this,We);if(this.options=O(this,Ha).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ws(this.options.enabled,O(this,We))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Fe(this,tt,c0).call(this),O(this,We).setOptions(this.options),a._defaulted&&!qu(this.options,a)&&O(this,Ha).getQueryCache().notify({type:"observerOptionsUpdated",query:O(this,We),observer:this});const r=this.hasListeners();r&&b2(O(this,We),n,this.options,a)&&Fe(this,tt,Kc).call(this),this.updateResult(),r&&(O(this,We)!==n||ws(this.options.enabled,O(this,We))!==ws(a.enabled,O(this,We))||vr(this.options.staleTime,O(this,We))!==vr(a.staleTime,O(this,We)))&&Fe(this,tt,s0).call(this);const i=Fe(this,tt,n0).call(this);r&&(O(this,We)!==n||ws(this.options.enabled,O(this,We))!==ws(a.enabled,O(this,We))||i!==O(this,Lr))&&Fe(this,tt,r0).call(this,i)}getOptimisticResult(t){const a=O(this,Ha).getQueryCache().build(O(this,Ha),t),n=this.createResult(a,t);return Ek(this,n)&&(he(this,ka,n),he(this,io,this.options),he(this,Ui,O(this,We).state)),n}getCurrentResult(){return O(this,ka)}trackResult(t,a){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),a==null||a(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&O(this,$n).status==="pending"&&O(this,$n).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){O(this,co).add(t)}getCurrentQuery(){return O(this,We)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const a=O(this,Ha).defaultQueryOptions(t),n=O(this,Ha).getQueryCache().build(O(this,Ha),a);return n.fetch().then(()=>this.createResult(n,a))}fetch(t){return Fe(this,tt,Kc).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),O(this,ka)))}createResult(t,a){var M;const n=O(this,We),r=this.options,i=O(this,ka),l=O(this,Ui),o=O(this,io),d=t!==n?t.state:O(this,Hc),{state:m}=t;let f={...m},p=!1,x;if(a._optimisticResults){const R=this.hasListeners(),A=!R&&y2(t,a),z=R&&b2(t,n,a,r);(A||z)&&(f={...f,...f2(m.data,t.options)}),a._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:h,errorUpdatedAt:w,status:v}=f;x=f.data;let g=!1;if(a.placeholderData!==void 0&&x===void 0&&v==="pending"){let R;i!=null&&i.isPlaceholderData&&a.placeholderData===(o==null?void 0:o.placeholderData)?(R=i.data,g=!0):R=typeof a.placeholderData=="function"?a.placeholderData((M=O(this,oo))==null?void 0:M.state.data,O(this,oo)):a.placeholderData,R!==void 0&&(v="success",x=$f(i==null?void 0:i.data,R,a),p=!0)}if(a.select&&x!==void 0&&!g)if(i&&x===(l==null?void 0:l.data)&&a.select===O(this,Vc))x=O(this,lo);else try{he(this,Vc,a.select),x=a.select(x),x=$f(i==null?void 0:i.data,x,a),he(this,lo,x),he(this,Dr,null)}catch(R){he(this,Dr,R)}O(this,Dr)&&(h=O(this,Dr),x=O(this,lo),w=Date.now(),v="error");const y=f.fetchStatus==="fetching",b=v==="pending",j=v==="error",E=b&&y,k=x!==void 0,N={status:v,fetchStatus:f.fetchStatus,isPending:b,isSuccess:v==="success",isError:j,isInitialLoading:E,isLoading:E,data:x,dataUpdatedAt:f.dataUpdatedAt,error:h,errorUpdatedAt:w,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:y,isRefetching:y&&!b,isLoadingError:j&&!k,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:j&&k,isStale:Vf(t,a),refetch:this.refetch,promise:O(this,$n),isEnabled:ws(a.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const R=H=>{N.status==="error"?H.reject(N.error):N.data!==void 0&&H.resolve(N.data)},A=()=>{const H=he(this,$n,N.promise=Pf());R(H)},z=O(this,$n);switch(z.status){case"pending":t.queryHash===n.queryHash&&R(z);break;case"fulfilled":(N.status==="error"||N.data!==z.value)&&A();break;case"rejected":(N.status!=="error"||N.error!==z.reason)&&A();break}}return N}updateResult(){const t=O(this,ka),a=this.createResult(O(this,We),this.options);if(he(this,Ui,O(this,We).state),he(this,io,this.options),O(this,Ui).data!==void 0&&he(this,oo,O(this,We)),qu(a,t))return;he(this,ka,a);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!O(this,co).size)return!0;const l=new Set(i??O(this,co));return this.options.throwOnError&&l.add("error"),Object.keys(O(this,ka)).some(o=>{const c=o;return O(this,ka)[c]!==t[c]&&l.has(c)})};Fe(this,tt,eS).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Fe(this,tt,i0).call(this)}},Ha=new WeakMap,We=new WeakMap,Hc=new WeakMap,ka=new WeakMap,Ui=new WeakMap,io=new WeakMap,$n=new WeakMap,Dr=new WeakMap,Vc=new WeakMap,lo=new WeakMap,oo=new WeakMap,Fi=new WeakMap,qi=new WeakMap,Lr=new WeakMap,co=new WeakMap,tt=new WeakSet,Kc=function(t){Fe(this,tt,c0).call(this);let a=O(this,We).fetch(this.options,t);return t!=null&&t.throwOnError||(a=a.catch(Ca)),a},s0=function(){Fe(this,tt,l0).call(this);const t=vr(this.options.staleTime,O(this,We));if(xi||O(this,ka).isStale||!Lf(t))return;const n=r2(O(this,ka).dataUpdatedAt,t)+1;he(this,Fi,fi.setTimeout(()=>{O(this,ka).isStale||this.updateResult()},n))},n0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(O(this,We)):this.options.refetchInterval)??!1},r0=function(t){Fe(this,tt,o0).call(this),he(this,Lr,t),!(xi||ws(this.options.enabled,O(this,We))===!1||!Lf(O(this,Lr))||O(this,Lr)===0)&&he(this,qi,fi.setInterval(()=>{(this.options.refetchIntervalInBackground||qf.isFocused())&&Fe(this,tt,Kc).call(this)},O(this,Lr)))},i0=function(){Fe(this,tt,s0).call(this),Fe(this,tt,r0).call(this,Fe(this,tt,n0).call(this))},l0=function(){O(this,Fi)&&(fi.clearTimeout(O(this,Fi)),he(this,Fi,void 0))},o0=function(){O(this,qi)&&(fi.clearInterval(O(this,qi)),he(this,qi,void 0))},c0=function(){const t=O(this,Ha).getQueryCache().build(O(this,Ha),this.options);if(t===O(this,We))return;const a=O(this,We);he(this,We,t),he(this,Hc,t.state),this.hasListeners()&&(a==null||a.removeObserver(this),t.addObserver(this))},eS=function(t){Xt.batch(()=>{t.listeners&&this.listeners.forEach(a=>{a(O(this,ka))}),O(this,Ha).getQueryCache().notify({query:O(this,We),type:"observerResultsUpdated"})})},WN);function Ck(e,t){return ws(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function y2(e,t){return Ck(e,t)||e.state.data!==void 0&&Hf(e,t,t.refetchOnMount)}function Hf(e,t,a){if(ws(t.enabled,e)!==!1&&vr(t.staleTime,e)!=="static"){const n=typeof a=="function"?a(e):a;return n==="always"||n!==!1&&Vf(e,t)}return!1}function b2(e,t,a,n){return(e!==t||ws(n.enabled,e)===!1)&&(!a.suspense||e.state.status!=="error")&&Vf(e,a)}function Vf(e,t){return ws(t.enabled,e)!==!1&&e.isStaleByTime(vr(t.staleTime,e))}function Ek(e,t){return!qu(e.getCurrentResult(),t)}function v2(e){return{onFetch:(t,a)=>{var m,f,p,x,h;const n=t.options,r=(p=(f=(m=t.fetchOptions)==null?void 0:m.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((x=t.state.data)==null?void 0:x.pages)||[],l=((h=t.state.data)==null?void 0:h.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const d=async()=>{let w=!1;const v=b=>{gk(b,()=>t.signal,()=>w=!0)},g=u2(t.options,t.fetchOptions),y=async(b,j,E)=>{if(w)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const S=(()=>{const A={client:t.client,queryKey:t.queryKey,pageParam:j,direction:E?"backward":"forward",meta:t.options.meta};return v(A),A})(),N=await g(S),{maxPages:M}=t.options,R=E?xk:fk;return{pages:R(b.pages,N,M),pageParams:R(b.pageParams,j,M)}};if(r&&i.length){const b=r==="backward",j=b?kk:j2,E={pages:i,pageParams:l},k=j(n,E);o=await y(E,k,b)}else{const b=e??i.length;do{const j=c===0?l[0]??n.initialPageParam:j2(n,o);if(c>0&&j==null)break;o=await y(o,j),c++}while(c<b)}return o};t.options.persister?t.fetchFn=()=>{var w,v;return(v=(w=t.options).persister)==null?void 0:v.call(w,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},a)}:t.fetchFn=d}}}function j2(e,{pages:t,pageParams:a}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,a[n],a):void 0}function kk(e,{pages:t,pageParams:a}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,a[0],a):void 0}var Ak=(XN=class extends h2{constructor(t){super();je(this,an);je(this,Gc);je(this,tn);je(this,Aa);je(this,Pi);he(this,Gc,t.client),this.mutationId=t.mutationId,he(this,Aa,t.mutationCache),he(this,tn,[]),this.state=t.state||w2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){O(this,tn).includes(t)||(O(this,tn).push(t),this.clearGcTimeout(),O(this,Aa).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){he(this,tn,O(this,tn).filter(a=>a!==t)),this.scheduleGc(),O(this,Aa).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){O(this,tn).length||(this.state.status==="pending"?this.scheduleGc():O(this,Aa).remove(this))}continue(){var t;return((t=O(this,Pi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,o,c,d,m,f,p,x,h,w,v,g,y,b,j,E,k,S,N,M;const a=()=>{Fe(this,an,Br).call(this,{type:"continue"})},n={client:O(this,Gc),meta:this.options.meta,mutationKey:this.options.mutationKey};he(this,Pi,p2({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(R,A)=>{Fe(this,an,Br).call(this,{type:"failed",failureCount:R,error:A})},onPause:()=>{Fe(this,an,Br).call(this,{type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>O(this,Aa).canRun(this)}));const r=this.state.status==="pending",i=!O(this,Pi).canStart();try{if(r)a();else{Fe(this,an,Br).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(l=O(this,Aa).config).onMutate)==null?void 0:o.call(l,t,this,n));const A=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,t,n));A!==this.state.context&&Fe(this,an,Br).call(this,{type:"pending",context:A,variables:t,isPaused:i})}const R=await O(this,Pi).start();return await((f=(m=O(this,Aa).config).onSuccess)==null?void 0:f.call(m,R,t,this.state.context,this,n)),await((x=(p=this.options).onSuccess)==null?void 0:x.call(p,R,t,this.state.context,n)),await((w=(h=O(this,Aa).config).onSettled)==null?void 0:w.call(h,R,null,this.state.variables,this.state.context,this,n)),await((g=(v=this.options).onSettled)==null?void 0:g.call(v,R,null,t,this.state.context,n)),Fe(this,an,Br).call(this,{type:"success",data:R}),R}catch(R){try{await((b=(y=O(this,Aa).config).onError)==null?void 0:b.call(y,R,t,this.state.context,this,n))}catch(A){Promise.reject(A)}try{await((E=(j=this.options).onError)==null?void 0:E.call(j,R,t,this.state.context,n))}catch(A){Promise.reject(A)}try{await((S=(k=O(this,Aa).config).onSettled)==null?void 0:S.call(k,void 0,R,this.state.variables,this.state.context,this,n))}catch(A){Promise.reject(A)}try{await((M=(N=this.options).onSettled)==null?void 0:M.call(N,void 0,R,t,this.state.context,n))}catch(A){Promise.reject(A)}throw Fe(this,an,Br).call(this,{type:"error",error:R}),R}finally{O(this,Aa).runNext(this)}}},Gc=new WeakMap,tn=new WeakMap,Aa=new WeakMap,Pi=new WeakMap,an=new WeakSet,Br=function(t){const a=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=a(this.state),Xt.batch(()=>{O(this,tn).forEach(n=>{n.onMutationUpdate(t)}),O(this,Aa).notify({mutation:this,type:"updated",action:t})})},XN);function w2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Tk=(ZN=class extends ql{constructor(t={}){super();je(this,Un);je(this,qs);je(this,Qc);this.config=t,he(this,Un,new Set),he(this,qs,new Map),he(this,Qc,0)}build(t,a,n){const r=new Ak({client:t,mutationCache:this,mutationId:++Nm(this,Qc)._,options:t.defaultMutationOptions(a),state:n});return this.add(r),r}add(t){O(this,Un).add(t);const a=Bu(t);if(typeof a=="string"){const n=O(this,qs).get(a);n?n.push(t):O(this,qs).set(a,[t])}this.notify({type:"added",mutation:t})}remove(t){if(O(this,Un).delete(t)){const a=Bu(t);if(typeof a=="string"){const n=O(this,qs).get(a);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&O(this,qs).delete(a)}}this.notify({type:"removed",mutation:t})}canRun(t){const a=Bu(t);if(typeof a=="string"){const n=O(this,qs).get(a),r=n==null?void 0:n.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){var n;const a=Bu(t);if(typeof a=="string"){const r=(n=O(this,qs).get(a))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Xt.batch(()=>{O(this,Un).forEach(t=>{this.notify({type:"removed",mutation:t})}),O(this,Un).clear(),O(this,qs).clear()})}getAll(){return Array.from(O(this,Un))}find(t){const a={exact:!0,...t};return this.getAll().find(n=>l2(a,n))}findAll(t={}){return this.getAll().filter(a=>l2(t,a))}notify(t){Xt.batch(()=>{this.listeners.forEach(a=>{a(t)})})}resumePausedMutations(){const t=this.getAll().filter(a=>a.state.isPaused);return Xt.batch(()=>Promise.all(t.map(a=>a.continue().catch(Ca))))}},Un=new WeakMap,qs=new WeakMap,Qc=new WeakMap,ZN);function Bu(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Mk=(JN=class extends ql{constructor(t,a){super();je(this,Pn);je(this,Fn);je(this,Ir);je(this,Va);je(this,qn);he(this,Fn,t),this.setOptions(a),this.bindMethods(),Fe(this,Pn,Sm).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var n;const a=this.options;this.options=O(this,Fn).defaultMutationOptions(t),qu(this.options,a)||O(this,Fn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:O(this,Va),observer:this}),a!=null&&a.mutationKey&&this.options.mutationKey&&gi(a.mutationKey)!==gi(this.options.mutationKey)?this.reset():((n=O(this,Va))==null?void 0:n.state.status)==="pending"&&O(this,Va).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=O(this,Va))==null||t.removeObserver(this)}onMutationUpdate(t){Fe(this,Pn,Sm).call(this),Fe(this,Pn,d0).call(this,t)}getCurrentResult(){return O(this,Ir)}reset(){var t;(t=O(this,Va))==null||t.removeObserver(this),he(this,Va,void 0),Fe(this,Pn,Sm).call(this),Fe(this,Pn,d0).call(this)}mutate(t,a){var n;return he(this,qn,a),(n=O(this,Va))==null||n.removeObserver(this),he(this,Va,O(this,Fn).getMutationCache().build(O(this,Fn),this.options)),O(this,Va).addObserver(this),O(this,Va).execute(t)}},Fn=new WeakMap,Ir=new WeakMap,Va=new WeakMap,qn=new WeakMap,Pn=new WeakSet,Sm=function(){var a;const t=((a=O(this,Va))==null?void 0:a.state)??w2();he(this,Ir,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},d0=function(t){Xt.batch(()=>{var a,n,r,i,l,o,c,d;if(O(this,qn)&&this.hasListeners()){const m=O(this,Ir).variables,f=O(this,Ir).context,p={client:O(this,Fn),meta:this.options.meta,mutationKey:this.options.mutationKey};if((t==null?void 0:t.type)==="success"){try{(n=(a=O(this,qn)).onSuccess)==null||n.call(a,t.data,m,f,p)}catch(x){Promise.reject(x)}try{(i=(r=O(this,qn)).onSettled)==null||i.call(r,t.data,null,m,f,p)}catch(x){Promise.reject(x)}}else if((t==null?void 0:t.type)==="error"){try{(o=(l=O(this,qn)).onError)==null||o.call(l,t.error,m,f,p)}catch(x){Promise.reject(x)}try{(d=(c=O(this,qn)).onSettled)==null||d.call(c,void 0,t.error,m,f,p)}catch(x){Promise.reject(x)}}}this.listeners.forEach(m=>{m(O(this,Ir))})})},JN),Ok=(e4=class extends ql{constructor(t={}){super();je(this,sn);this.config=t,he(this,sn,new Map)}build(t,a,n){const r=a.queryKey,i=a.queryHash??If(r,a);let l=this.get(i);return l||(l=new Nk({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(a),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(l)),l}add(t){O(this,sn).has(t.queryHash)||(O(this,sn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const a=O(this,sn).get(t.queryHash);a&&(t.destroy(),a===t&&O(this,sn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Xt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return O(this,sn).get(t)}getAll(){return[...O(this,sn).values()]}find(t){const a={exact:!0,...t};return this.getAll().find(n=>i2(a,n))}findAll(t={}){const a=this.getAll();return Object.keys(t).length>0?a.filter(n=>i2(t,n)):a}notify(t){Xt.batch(()=>{this.listeners.forEach(a=>{a(t)})})}onFocus(){Xt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Xt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},sn=new WeakMap,e4),_k=(t4=class{constructor(e={}){je(this,Ft);je(this,zr);je(this,$r);je(this,uo);je(this,mo);je(this,Ur);je(this,po);je(this,ho);he(this,Ft,e.queryCache||new Ok),he(this,zr,e.mutationCache||new Tk),he(this,$r,e.defaultOptions||{}),he(this,uo,new Map),he(this,mo,new Map),he(this,Ur,0)}mount(){Nm(this,Ur)._++,O(this,Ur)===1&&(he(this,po,qf.subscribe(async e=>{e&&(await this.resumePausedMutations(),O(this,Ft).onFocus())})),he(this,ho,Pu.subscribe(async e=>{e&&(await this.resumePausedMutations(),O(this,Ft).onOnline())})))}unmount(){var e,t;Nm(this,Ur)._--,O(this,Ur)===0&&((e=O(this,po))==null||e.call(this),he(this,po,void 0),(t=O(this,ho))==null||t.call(this),he(this,ho,void 0))}isFetching(e){return O(this,Ft).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return O(this,zr).findAll({...e,status:"pending"}).length}getQueryData(e){var a;const t=this.defaultQueryOptions({queryKey:e});return(a=O(this,Ft).get(t.queryHash))==null?void 0:a.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),a=O(this,Ft).build(this,t),n=a.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&a.isStaleByTime(vr(t.staleTime,a))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return O(this,Ft).findAll(e).map(({queryKey:t,state:a})=>{const n=a.data;return[t,n]})}setQueryData(e,t,a){const n=this.defaultQueryOptions({queryKey:e}),r=O(this,Ft).get(n.queryHash),i=r==null?void 0:r.state.data,l=mk(t,i);if(l!==void 0)return O(this,Ft).build(this,n).setData(l,{...a,manual:!0})}setQueriesData(e,t,a){return Xt.batch(()=>O(this,Ft).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,a)]))}getQueryState(e){var a;const t=this.defaultQueryOptions({queryKey:e});return(a=O(this,Ft).get(t.queryHash))==null?void 0:a.state}removeQueries(e){const t=O(this,Ft);Xt.batch(()=>{t.findAll(e).forEach(a=>{t.remove(a)})})}resetQueries(e,t){const a=O(this,Ft);return Xt.batch(()=>(a.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const a={revert:!0,...t},n=Xt.batch(()=>O(this,Ft).findAll(e).map(r=>r.cancel(a)));return Promise.all(n).then(Ca).catch(Ca)}invalidateQueries(e,t={}){return Xt.batch(()=>(O(this,Ft).findAll(e).forEach(a=>{a.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const a={...t,cancelRefetch:t.cancelRefetch??!0},n=Xt.batch(()=>O(this,Ft).findAll(e).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let i=r.fetch(void 0,a);return a.throwOnError||(i=i.catch(Ca)),r.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Ca)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const a=O(this,Ft).build(this,t);return a.isStaleByTime(vr(t.staleTime,a))?a.fetch(t):Promise.resolve(a.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ca).catch(Ca)}fetchInfiniteQuery(e){return e.behavior=v2(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ca).catch(Ca)}ensureInfiniteQueryData(e){return e.behavior=v2(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Pu.isOnline()?O(this,zr).resumePausedMutations():Promise.resolve()}getQueryCache(){return O(this,Ft)}getMutationCache(){return O(this,zr)}getDefaultOptions(){return O(this,$r)}setDefaultOptions(e){he(this,$r,e)}setQueryDefaults(e,t){O(this,uo).set(gi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...O(this,uo).values()],a={};return t.forEach(n=>{Sc(e,n.queryKey)&&Object.assign(a,n.defaultOptions)}),a}setMutationDefaults(e,t){O(this,mo).set(gi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...O(this,mo).values()],a={};return t.forEach(n=>{Sc(e,n.mutationKey)&&Object.assign(a,n.defaultOptions)}),a}defaultQueryOptions(e){if(e._defaulted)return e;const t={...O(this,$r).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=If(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Uf&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...O(this,$r).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){O(this,Ft).clear(),O(this,zr).clear()}},Ft=new WeakMap,zr=new WeakMap,$r=new WeakMap,uo=new WeakMap,mo=new WeakMap,Ur=new WeakMap,po=new WeakMap,ho=new WeakMap,t4),N2=u.createContext(void 0),Qt=e=>{const t=u.useContext(N2);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Rk=({client:e,children:t})=>(u.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(N2.Provider,{value:e,children:t})),S2=u.createContext(!1),Dk=()=>u.useContext(S2);S2.Provider;function Lk(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Ik=u.createContext(Lk()),zk=()=>u.useContext(Ik),$k=(e,t,a)=>{const n=a!=null&&a.state.error&&typeof e.throwOnError=="function"?Ff(e.throwOnError,[a.state.error,a]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},Uk=e=>{u.useEffect(()=>{e.clearReset()},[e])},Fk=({result:e,errorResetBoundary:t,throwOnError:a,query:n,suspense:r})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(r&&e.data===void 0||Ff(a,[e.error,n])),qk=e=>{if(e.suspense){const a=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>a(n(...r)):a(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Pk=(e,t)=>e.isLoading&&e.isFetching&&!t,Bk=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,C2=(e,t,a)=>t.fetchOptimistic(e).catch(()=>{a.clearReset()});function Hk(e,t,a){var p,x,h,w;const n=Dk(),r=zk(),i=Qt(),l=i.defaultQueryOptions(e);(x=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||x.call(p,l);const o=i.getQueryCache().get(l.queryHash);l._optimisticResults=n?"isRestoring":"optimistic",qk(l),$k(l,r,o),Uk(r);const c=!i.getQueryCache().get(l.queryHash),[d]=u.useState(()=>new t(i,l)),m=d.getOptimisticResult(l),f=!n&&e.subscribed!==!1;if(u.useSyncExternalStore(u.useCallback(v=>{const g=f?d.subscribe(Xt.batchCalls(v)):Ca;return d.updateResult(),g},[d,f]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),u.useEffect(()=>{d.setOptions(l)},[l,d]),Bk(l,m))throw C2(l,d,r);if(Fk({result:m,errorResetBoundary:r,throwOnError:l.throwOnError,query:o,suspense:l.suspense}))throw m.error;if((w=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||w.call(h,l,m),l.experimental_prefetchInRender&&!xi&&Pk(m,n)){const v=c?C2(l,d,r):o==null?void 0:o.promise;v==null||v.catch(Ca).finally(()=>{d.updateResult()})}return l.notifyOnChangeProps?m:d.trackResult(m)}function bt(e,t){return Hk(e,Sk)}function vt(e,t){const a=Qt(),[n]=u.useState(()=>new Mk(a,e));u.useEffect(()=>{n.setOptions(e)},[n,e]);const r=u.useSyncExternalStore(u.useCallback(l=>n.subscribe(Xt.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=u.useCallback((l,o)=>{n.mutate(l,o).catch(Ca)},[n]);if(r.error&&Ff(n.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:i,mutateAsync:r.mutate}}const Vk="menuItems",Pl="app_menu_cache",Bl="app_menu_timestamp",E2=365*24*60*60*1e3,Gf=()=>{try{const e=localStorage.getItem(Pl),t=localStorage.getItem(Bl);if(!e||!t)return{data:null,remainingTime:0};const a=parseInt(t,10),r=Date.now()-a;if(r>E2)return localStorage.removeItem(Pl),localStorage.removeItem(Bl),{data:null,remainingTime:0};const i=JSON.parse(e),l=E2-r;return{data:i,remainingTime:l}}catch{return localStorage.removeItem(Pl),localStorage.removeItem(Bl),{data:null,remainingTime:0}}},Gk=e=>{try{const t=Date.now();localStorage.setItem(Pl,JSON.stringify(e)),localStorage.setItem(Bl,t.toString())}catch{try{localStorage.removeItem(Pl),localStorage.removeItem(Bl),localStorage.setItem(Pl,JSON.stringify(e)),localStorage.setItem(Bl,Date.now().toString())}catch{}}},Qf=(e=!0)=>{const{data:t,remainingTime:a}=Gf(),n=t&&t.length>0,r=n?1/0:a>0?a:5*60*1e3;return bt({queryKey:[Vk],queryFn:async()=>{const{data:i}=Gf();if(i&&i.length>0)return i;try{const l=await fe.getMenuMaster();if(l.data&&l.data.menuMaster&&Array.isArray(l.data.menuMaster)){const c=l.data.menuMaster.map(d=>({menuId:d.menuId,menuName:d.menuName,orderBy:d.orderBy,active:d.active,image:d.image,subMenu:d.subMenu,tenantId:d.tenantId,created:d.created,modified:d.modified,category:d.category||[]})).filter((d,m,f)=>m===f.findIndex(p=>p.menuId===d.menuId));return Gk(c),$u.debug("[Menu Cache] Menu data saved to localStorage",void 0,"useMenuQuery"),c}else throw new Error("Invalid menu data structure received from API")}catch(l){const{data:o}=Gf();if(o&&o.length>0)return o;throw l}},initialData:n?t:void 0,staleTime:r,gcTime:1/0,retry:1,retryDelay:1e3,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,enabled:e&&!n})},Qk=()=>{const{isLoading:e,isFetching:t}=Qf();return{isLoading:e||t,isInitialLoading:e,isRefetching:t&&!e}},Yk=()=>{const{error:e,isError:t}=Qf();return{error:e,isError:t,errorMessage:e instanceof Error?e.message:"Failed to load menu"}};function An(e){return typeof e=="object"&&e!==null&&"isAxiosError"in e&&e.isAxiosError===!0}const k2=ke.memo(({id:e,message:t,type:a,duration:n=5e3,onClose:r})=>{const i=u.useCallback(()=>{r(e)},[e,r]);u.useEffect(()=>{if(n>0){const c=setTimeout(()=>{i()},n);return()=>clearTimeout(c)}},[n,i]);const l=u.useMemo(()=>{switch(a){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"info":return"bg-blue-50 border-blue-200 text-blue-800";default:return"bg-gray-50 border-gray-200 text-gray-800"}},[a]),o=u.useMemo(()=>{switch(a){case"success":return s.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});case"error":return s.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})});case"warning":return s.jsx("svg",{className:"w-5 h-5 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-1.964-1.333-2.732 0L3.732 16c-.77 1.333.192 3 1.732 3z"})});case"info":return s.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return null}},[a]);return s.jsxs("div",{className:`
        ${l}
        rounded-lg border shadow-lg p-4 mb-3
        animate-slideInRight
        flex items-start gap-3
        max-w-md w-full
      `,role:"alert",children:[s.jsx("div",{className:"flex-shrink-0",children:o}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("p",{className:"text-sm font-medium break-words",children:t})}),s.jsx("button",{onClick:i,className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close notification",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})},(e,t)=>e.id===t.id&&e.message===t.message&&e.type===t.type&&e.duration===t.duration&&e.onClose===t.onClose);k2.displayName="Toast";const A2=ke.memo(({toasts:e,onClose:t})=>u.useMemo(()=>e.length>0,[e.length])?s.jsx("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col items-end pointer-events-none","aria-live":"polite","aria-atomic":"true",children:s.jsx("div",{className:"pointer-events-auto flex flex-col items-end max-w-md w-full sm:w-auto",children:e.map(n=>s.jsx(k2,{...n,onClose:t},n.id))})}):null,(e,t)=>e.toasts.length===t.toasts.length&&e.toasts.every((a,n)=>{var r,i,l,o;return a.id===((r=t.toasts[n])==null?void 0:r.id)&&a.message===((i=t.toasts[n])==null?void 0:i.message)&&a.type===((l=t.toasts[n])==null?void 0:l.type)&&a.duration===((o=t.toasts[n])==null?void 0:o.duration)})&&e.onClose===t.onClose);A2.displayName="ToastContainer";const T2=u.createContext(void 0),Kk=({children:e})=>{const[t,a]=u.useState([]),n=u.useCallback(f=>{a(p=>p.filter(x=>x.id!==f))},[]),r=u.useCallback((f,p="info",x=5e3)=>{const h=`toast-${Date.now()}-${Math.random()}`,w={id:h,message:f,type:p,duration:x};a(v=>[...v,w]),x>0&&setTimeout(()=>{n(h)},x)},[n]),i=u.useCallback((f,p)=>{r(f,"success",p)},[r]),l=u.useCallback((f,p)=>{r(f,"error",p)},[r]),o=u.useCallback((f,p)=>{r(f,"warning",p)},[r]),c=u.useCallback((f,p)=>{r(f,"info",p)},[r]),d=u.useCallback(()=>{a([])},[]),m={showToast:r,showSuccess:i,showError:l,showWarning:o,showInfo:c,removeToast:n,clearAllToasts:d};return s.jsxs(T2.Provider,{value:m,children:[e,s.jsx(A2,{toasts:t,onClose:n})]})},qa=()=>{const e=u.useContext(T2);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},Wk=(e,t)=>{const{showError:a}=qa();return vt({mutationFn:async n=>{const r={name:n.name,email:n.email,phone:n.phone,password:n.password,confirmPassword:n.confirmPassword,agreeToTerms:n.agreeToTerms};return await fe.registerUser(r)},retry:!1,onSuccess:n=>{n.exception?(a(n.exception),t==null||t(new Error(n.exception))):e==null||e(n)},onError:n=>{var i,l,o,c;const r=((l=(i=n==null?void 0:n.response)==null?void 0:i.data)==null?void 0:l.exception)||((c=(o=n==null?void 0:n.response)==null?void 0:o.data)==null?void 0:c.message)||(n==null?void 0:n.message)||"Registration failed. Please try again.";a(r),t==null||t(n)}})};async function Xk(e){var c;const t={emailOrPhone:e.emailOrPhone,password:e.password,rememberMe:e.rememberMe??!1},a=await fe.login(t);let n;if(a.exception)throw new Error(a.exception||"Login failed");if(a.data)n=a.data;else if(a.userId)n=a;else throw new Error("User not found or invalid response from server");if(!n||!n.userId)throw new Error("User not found or invalid response from server");let r="",i;try{const d=n.roles&&n.roles.length>0?n.roles[0]:null,m=(d==null?void 0:d.roleId)||(d==null?void 0:d.id)||1,f={userId:n.userId.toString(),userRole:m.toString(),tenantId:((c=n.tenantId)==null?void 0:c.toString())||"1",locationId:"1",internal:!0},p=await fe.getTenantToken(f);if(p.exception)throw new Error(p.exception||"Failed to get tenant token");if(r=p.token||"",i=p.exp,!r)throw new Error("Token not found in response");if(!i)throw new Error("Token expiration (exp) not found in response")}catch(d){throw new Error(d instanceof Error?d.message:"Failed to get tenant token")}const l={id:n.userId.toString(),userId:n.userId,firstName:n.firstName,lastName:n.lastName,email:n.email,phone:n.phone,active:n.active,tenantId:n.tenantId,emailVerified:!0,phoneVerified:!0,createdAt:new Date().toISOString(),lastLogin:n.lastLogin,roles:n.roles};Jk(l,r,i);let o=86400;if(i){const d=Math.floor(Date.now()/1e3);o=i-d,o<0&&(o=86400)}return{user:n,token:r,expiresIn:o}}const Zk=()=>{const e=vt({mutationFn:Xk});return{login:e.mutateAsync,isLoading:e.isPending,error:e.error,isSuccess:e.isSuccess}};function Jk(e,t,a){kn(br.defaultTokenKey,t),a&&kn(br.defaultTokenExpiry,a.toString()),localStorage.setItem("user",JSON.stringify(e)),me.setDefaults()}const eA={user:null,products:[],menuItems:[],cart:[],loading:{isLoading:!1,error:null},isAuthenticated:!1,userRole:null,permissions:null,pagination:{page:1,hasNext:!1,isLoadingMore:!1,total:0}},tA=(e,t)=>{switch(t.type){case"SET_LOADING":return{...e,loading:t.payload};case"SET_USER":return{...e,user:t.payload,isAuthenticated:!!t.payload};case"SET_USER_ROLE":return{...e,userRole:t.payload.role,permissions:t.payload.permissions};case"SET_PRODUCTS":return{...e,products:t.payload};case"SET_MENU_ITEMS":const a=t.payload.filter((r,i,l)=>i===l.findIndex(o=>o.menuId===r.menuId));return{...e,menuItems:a};case"SET_CART":return{...e,cart:t.payload};case"ADD_TO_CART":return e.cart.find(r=>r.product.productId===t.payload.product.productId)?{...e,cart:e.cart.map(r=>r.product.productId===t.payload.product.productId?{...r,quantity:r.quantity+t.payload.quantity}:r)}:{...e,cart:[...e.cart,{id:Math.random().toString(36).substr(2,9),product:t.payload.product,quantity:t.payload.quantity}]};case"REMOVE_FROM_CART":return{...e,cart:e.cart.filter(r=>r.product.productId.toString()!==t.payload)};case"UPDATE_CART_QUANTITY":return{...e,cart:e.cart.map(r=>r.product.productId.toString()===t.payload.productId?{...r,quantity:t.payload.quantity}:r)};case"CLEAR_CART":return{...e,cart:[]};case"LOGOUT":return{...e,user:null,isAuthenticated:!1,userRole:null,permissions:null,cart:[],products:[]};default:return e}},M2=u.createContext(void 0),aA=({children:e})=>{const[t,a]=u.useReducer(tA,eA),n=u.useRef(!1),r=!0,{data:i=[],isLoading:l}=Qf(r),{isLoading:o}=Qk(),{isError:c,errorMessage:d}=Yk(),m=u.useCallback(Q=>{a({type:"SET_LOADING",payload:Q})},[]),f=u.useCallback(Q=>{a({type:"SET_USER",payload:Q})},[]),p=u.useCallback(Q=>{a({type:"SET_MENU_ITEMS",payload:Q})},[]);u.useEffect(()=>{Array.isArray(i)&&i.length>0&&p(i)},[i,p]),u.useEffect(()=>{m(l||o?{isLoading:!0,error:null}:c?{isLoading:!1,error:d}:{isLoading:!1,error:null})},[l,o,c,d,m]);const x=Zk(),h=u.useCallback(async Q=>{var I,D,q;m({isLoading:!0,error:null});try{const K=await x.login(Q),ae=K.user.roles.map(ne=>({roleId:ne.roleId||ne.id||0,roleName:ne.roleName||ne.name||null,roleDescription:ne.roleDescription||ne.description||null})),ee={id:K.user.userId.toString(),userId:K.user.userId,firstName:K.user.firstName,lastName:K.user.lastName,email:K.user.email,phone:K.user.phone,active:K.user.active,tenantId:K.user.tenantId,emailVerified:!0,phoneVerified:!0,createdAt:new Date().toISOString(),lastLogin:K.user.lastLogin,roles:ae},re=((I=ae[0])==null?void 0:I.roleId)||2,P=ku(re),J=xj(re);a({type:"SET_USER_ROLE",payload:{role:P,permissions:J}}),Nc.setUserData(ee),f(ee)}catch(K){if(An(K)){const ee=((q=(D=K.response)==null?void 0:D.data)==null?void 0:q.exception)||K.message;throw m({isLoading:!1,error:ee}),new Error(ee)}const ae=K instanceof Error?K.message:"Login failed";throw m({isLoading:!1,error:ae}),K}finally{m({isLoading:!1,error:null})}},[m,f,x]),w=Wk(Q=>{m({isLoading:!1,error:null})},Q=>{m({isLoading:!1,error:null})}),v=u.useCallback(async Q=>{m({isLoading:!0,error:null});try{await w.mutateAsync(Q)}catch(I){throw m({isLoading:!1,error:null}),I}},[m,w]),g=u.useCallback(async()=>{try{const Q=t.user,I=Nc.getTenantToken();if(Q&&I)try{const D={userId:Q.userId,token:I,refreshToken:""};await fe.logout(D)}catch{}}catch{}finally{Nc.clearAll(),localStorage.removeItem("ApiToken"),localStorage.removeItem("ApiTokenExpiry"),localStorage.removeItem("app_menu_cache"),localStorage.removeItem("app_menu_timestamp"),sessionStorage.removeItem("menuItems"),sessionStorage.removeItem("app_cleared_storage_on_start"),a({type:"LOGOUT"})}},[t.user]),y=u.useCallback(async()=>{if(t.user)try{const Q=await fe.getUserProfile(Number(t.user.id),dt(t.user.tenantId));if(Q.data){const I={...t.user,...Q.data};f(I)}}catch{}},[f]),b=u.useCallback((Q={})=>({page:1,limit:20,search:"",minPrice:0,maxPrice:1e4,sortBy:"productName",sortOrder:"asc",...Q}),[]),j=u.useCallback(async Q=>{var I,D;try{m({isLoading:!0,error:null});const q=b({category:Q}),K=await fe.searchProducts(q);if(K.data&&K.data.products){const ae=K.data.products.map(ee=>({...ee,categrory:ee.category||0,in_stock:ee.inStock,best_seller:ee.bestSeller,deleveryDate:ee.deliveryDate,long_description:ee.longDescription||ee.productDescription,images:ee.images.map(re=>({imageId:re.imageId||0,poster:re.poster,main:re.main,active:re.active,orderBy:re.orderBy||0,thumbnailUrl:re.thumbnailUrl}))}));a({type:"SET_PRODUCTS",payload:ae})}else a({type:"SET_PRODUCTS",payload:[]});m({isLoading:!1,error:null})}catch(q){if(An(q)){const K=((D=(I=q.response)==null?void 0:I.data)==null?void 0:D.exception)||q.message;m({isLoading:!1,error:K})}else m({isLoading:!1,error:"Failed to load products"});a({type:"SET_PRODUCTS",payload:[]})}},[m,a,b]),E=u.useCallback(async()=>{var Q,I;try{m({isLoading:!0,error:null});const D=b(),q=await fe.searchProducts(D);if(q.data&&q.data.products){const K=q.data.products.map(ae=>({...ae,categrory:ae.category||0,in_stock:ae.inStock,best_seller:ae.bestSeller,deleveryDate:ae.deliveryDate,long_description:ae.longDescription||ae.productDescription,images:ae.images.map(ee=>({imageId:ee.imageId||0,poster:ee.poster,main:ee.main,active:ee.active,orderBy:ee.orderBy||0,thumbnailUrl:ee.thumbnailUrl}))}));a({type:"SET_PRODUCTS",payload:K})}else a({type:"SET_PRODUCTS",payload:[]});m({isLoading:!1,error:null})}catch(D){if(An(D)){const q=((I=(Q=D.response)==null?void 0:Q.data)==null?void 0:I.exception)||D.message;m({isLoading:!1,error:q})}else m({isLoading:!1,error:"Failed to load products"});a({type:"SET_PRODUCTS",payload:[]})}},[m,a,b]),k=u.useCallback(async(Q,I)=>{},[]),S=u.useCallback(async(Q,I,D)=>{},[]),N=u.useCallback(async Q=>({message:`Reset token (for demo): ${Math.random().toString(36).substr(2,9)}`}),[]),M=u.useCallback(async(Q,I,D)=>{},[]),R=u.useCallback(async(Q,I)=>{},[]),A=u.useCallback(Q=>{var I;return((I=t.permissions)==null?void 0:I[Q])||!1},[t.permissions]),z=u.useCallback(()=>t.userRole==="admin"||t.userRole==="tenant_admin"||t.userRole==="manager",[t.userRole]),H=u.useCallback(()=>t.userRole==="customer",[t.userRole]);u.useEffect(()=>{if(n.current)return;n.current=!0,(()=>{var I;try{const D=Sa("ApiToken"),q=Nc.getUserData();if(D&&q&&(f(q),q.roles&&q.roles.length>0)){const K=((I=q.roles[0])==null?void 0:I.roleId)||2,ae=ku(K),ee=xj(K);a({type:"SET_USER_ROLE",payload:{role:ae,permissions:ee}})}}catch{}})()},[]);const oe={...t,login:h,register:v,logout:g,refreshUser:y,fetchProductsByCategory:j,clearProductFilters:E,requestVerification:k,confirmVerification:S,requestPasswordReset:N,confirmPasswordReset:M,socialLogin:R,hasPermission:A,isAdmin:z,isCustomer:H};return s.jsx(M2.Provider,{value:oe,children:e})},Ze=()=>{const e=u.useContext(M2);if(e===void 0)throw new Error("useAppContext must be used within an AppProvider");return e},sA=new _k({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3,retry:(e,t)=>{var n;const a=(n=t==null?void 0:t.response)==null?void 0:n.status;return a===401||a===403||a&&a>=400&&a<500&&a!==408?!1:e<3},retryDelay:e=>Math.min(1e3*2**e,3e4),refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1},mutations:{retry:(e,t)=>{var n;const a=(n=t==null?void 0:t.response)==null?void 0:n.status;return a===401||a===403||a&&a>=400&&a<500?!1:e<1}}}}),nA=({children:e})=>s.jsx(Rk,{client:sA,children:e});/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iA=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,a,n)=>n?n.toUpperCase():a.toLowerCase()),O2=e=>{const t=iA(e);return t.charAt(0).toUpperCase()+t.slice(1)},_2=(...e)=>e.filter((t,a,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===a).join(" ").trim(),lA=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=u.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:n,className:r="",children:i,iconNode:l,...o},c)=>u.createElement("svg",{ref:c,...oA,width:t,height:t,stroke:e,strokeWidth:n?Number(a)*24/Number(t):a,className:_2("lucide",r),...!i&&!lA(o)&&{"aria-hidden":"true"},...o},[...l.map(([d,m])=>u.createElement(d,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(e,t)=>{const a=u.forwardRef(({className:n,...r},i)=>u.createElement(cA,{ref:i,iconNode:t,className:_2(`lucide-${rA(O2(e))}`,`lucide-${e}`,n),...r}));return a.displayName=O2(e),a};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=Se("arrow-down-wide-narrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=Se("arrow-up-narrow-wide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=Se("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=Se("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=Se("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=Se("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=Se("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=Se("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=Se("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=Se("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=Se("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=Se("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=Se("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=Se("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=Se("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=Se("file-spreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=Se("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=Se("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=Se("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=Se("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=Se("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=Se("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=Se("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=Se("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=Se("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=Se("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=Se("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=Se("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=Se("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=Se("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=Se("pen-line",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=Se("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=Se("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=Se("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=Se("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=Se("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=Se("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=Se("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=Se("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=Se("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=Se("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=Se("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=Se("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=Se("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=Se("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=Se("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=Se("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=Se("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=Se("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=Se("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=Se("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=Se("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=Se("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),H2={primary:{base:"bg-green-600 text-white border-2 border-green-600 hover:bg-green-700 hover:border-green-700 active:bg-green-800 disabled:bg-gray-300 disabled:border-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed",gradient:"bg-gradient-to-r from-green-600 to-green-700 text-white border-0 hover:from-green-700 hover:to-green-800 shadow-lg hover:shadow-xl disabled:from-gray-300 disabled:to-gray-400"},secondary:{base:"bg-gray-100 text-gray-900 border-2 border-gray-200 hover:bg-gray-200 hover:border-gray-300 active:bg-gray-300 disabled:bg-gray-50 disabled:text-gray-400 disabled:cursor-not-allowed",outline:"bg-transparent text-gray-700 border-2 border-gray-300 hover:bg-gray-50 hover:border-gray-400 active:bg-gray-100 disabled:text-gray-300 disabled:border-gray-200"},success:{base:"bg-green-600 text-white border-2 border-green-600 hover:bg-green-700 hover:border-green-700 active:bg-green-800 disabled:bg-gray-300 disabled:border-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed",outline:"bg-transparent text-green-600 border-2 border-green-600 hover:bg-green-50 hover:border-green-700 active:bg-green-100 disabled:text-green-300 disabled:border-green-300"},danger:{base:"bg-red-600 text-white border-2 border-red-600 hover:bg-red-700 hover:border-red-700 active:bg-red-800 disabled:bg-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed",outline:"bg-transparent text-red-600 border-2 border-red-600 hover:bg-red-50 hover:border-red-700 active:bg-red-100 disabled:text-red-300 disabled:border-red-300"},ghost:{base:"bg-transparent text-green-600 border-0 hover:bg-green-50 active:bg-green-100 disabled:text-gray-400",neutral:"bg-transparent text-gray-700 border-0 hover:bg-gray-100 active:bg-gray-200 disabled:text-gray-400"},link:{base:"bg-transparent text-green-600 border-0 underline hover:text-green-700 active:text-green-800 disabled:text-gray-400"}},NA={xs:"px-3 py-1.5 text-xs font-medium rounded-md",sm:"px-4 py-2 text-sm font-medium rounded-lg",md:"px-6 py-3 text-base font-semibold rounded-lg",lg:"px-8 py-4 text-lg font-semibold rounded-xl",xl:"px-10 py-5 text-xl font-bold rounded-2xl"},V2={base:"transition-all duration-200 ease-in-out"},Kl={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"},SA=(e,t="md",a)=>{const n=a?H2[e][a]:H2[e].base,r=NA[t],i=V2.base;return`${n} ${r} ${i}`},Xf=u.forwardRef(({variant:e="primary",size:t="md",subVariant:a="base",isLoading:n=!1,leftIcon:r,rightIcon:i,fullWidth:l=!1,className:o="",children:c,disabled:d,type:m="button",...f},p)=>{const v=`${SA(e,t,a)} ${l?"w-full":""} ${n?"cursor-wait":""} ${o} ${V2.base}`.trim(),y=(()=>{switch(t){case"xs":return Kl.xs;case"sm":return Kl.sm;case"md":return Kl.md;case"lg":return Kl.lg;case"xl":return Kl.xl;default:return Kl.md}})();return s.jsxs("button",{ref:p,type:m,className:v,disabled:d||n,"aria-busy":n,...f,children:[n&&s.jsx(Vu,{className:`${y} animate-spin mr-2`,"aria-hidden":"true"}),!n&&r&&s.jsx("span",{className:`${y} mr-2`,"aria-hidden":"true",children:r}),s.jsx("span",{children:c}),i&&s.jsx("span",{className:`${y} ml-2`,"aria-hidden":"true",children:i})]})});Xf.displayName="Button";class CA extends u.Component{constructor(a){super(a);nn(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});nn(this,"handleGoHome",()=>{this.handleReset(),window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(a){return{hasError:!0,error:a,errorInfo:null}}componentDidCatch(a,n){this.setState({error:a,errorInfo:n}),this.props.onError&&this.props.onError(a,n)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 p-4",children:s.jsx("div",{className:"max-w-2xl w-full mx-auto animate-fade-in-up",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-elevation-3 overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-8 py-6",children:s.jsxs("div",{className:"flex items-center justify-center gap-3 text-white",children:[s.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center animate-pop",children:s.jsx(zs,{className:"w-7 h-7"})}),s.jsx("h1",{className:"heading-2 text-white",children:"Oops! Something went wrong"})]})}),s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("p",{className:"text-body-large text-gray-600 mb-8",children:"We're sorry, but something unexpected happened. This error has been logged and we'll look into it."}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3 mb-8",children:[s.jsx(Xf,{variant:"primary",size:"lg",leftIcon:s.jsx(Gu,{}),onClick:this.handleReset,className:"w-full sm:w-auto",children:"Try Again"}),this.props.showHomeButton&&s.jsx(Xf,{variant:"secondary",size:"lg",leftIcon:s.jsx(hA,{}),onClick:this.handleGoHome,className:"w-full sm:w-auto",children:"Go Home"})]}),!1]}),s.jsx("div",{className:"bg-gray-50 px-8 py-4 border-t border-gray-200",children:s.jsx("p",{className:"text-small text-gray-500 text-center",children:"If this problem persists, please contact support with the error details above."})})]})})}):this.props.children}}const _t=ke.memo(({size:e="md",color:t="primary",className:a=""})=>{const n=u.useMemo(()=>({sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"}),[]),r=u.useMemo(()=>({primary:"border-blue-600 border-t-transparent",secondary:"border-gray-600 border-t-transparent",white:"border-white border-t-transparent"}),[]);return s.jsx("div",{className:`flex items-center justify-center ${a}`,children:s.jsx("div",{className:`
          ${n[e]} 
          ${r[t]} 
          border-2 
          border-solid 
          rounded-full 
          animate-spin
        `})})});_t.displayName="LoadingSpinner";const ue={VIEW_PRODUCTS:"view_products",MANAGE_PRODUCTS:"manage_products",DELETE_PRODUCTS:"delete_products",MANAGE_PRODUCT_IMAGES:"manage_product_images",SET_PRODUCT_PRICING:"set_product_pricing",VIEW_CATEGORIES:"view_categories",MANAGE_CATEGORIES:"manage_categories",DELETE_CATEGORIES:"delete_categories",PLACE_ORDERS:"place_orders",VIEW_OWN_ORDERS:"view_own_orders",VIEW_ORDERS:"view_orders",MANAGE_ORDERS:"manage_orders",CANCEL_ANY_ORDER:"cancel_any_order",PROCESS_REFUNDS:"process_refunds",VIEW_USERS:"view_users",MANAGE_USERS:"manage_users",MANAGE_ROLES:"manage_roles",DELETE_USERS:"delete_users",MANAGE_OWN_ADDRESSES:"manage_own_addresses",MANAGE_ALL_ADDRESSES:"manage_all_addresses",VIEW_COUPONS:"view_coupons",MANAGE_COUPONS:"manage_coupons",MANAGE_WISHLIST:"manage_wishlist",MANAGE_CART:"manage_cart",ACCESS_CHECKOUT:"access_checkout",VIEW_INVENTORY:"view_inventory",MANAGE_INVENTORY:"manage_inventory",VIEW_ANALYTICS:"view_analytics",VIEW_FINANCIAL_REPORTS:"view_financial_reports",VIEW_REPORTS:"view_reports",EXPORT_REPORTS:"export_reports",MANAGE_SETTINGS:"manage_settings",MANAGE_SYSTEM_SETTINGS:"manage_system_settings",CONFIGURE_PAYMENT_METHODS:"configure_payment_methods",CONFIGURE_SHIPPING:"configure_shipping",WRITE_REVIEWS:"write_reviews",MODERATE_REVIEWS:"moderate_reviews",VIEW_ALL_PAYMENTS:"view_all_payments",MANAGE_IMAGES:"manage_images"},EA={ADMIN:{name:"admin",permissions:Object.values(ue)},TENANT_ADMIN:{name:"tenant_admin",permissions:[ue.VIEW_PRODUCTS,ue.MANAGE_PRODUCTS,ue.DELETE_PRODUCTS,ue.MANAGE_PRODUCT_IMAGES,ue.SET_PRODUCT_PRICING,ue.VIEW_CATEGORIES,ue.MANAGE_CATEGORIES,ue.DELETE_CATEGORIES,ue.PLACE_ORDERS,ue.VIEW_OWN_ORDERS,ue.VIEW_ORDERS,ue.MANAGE_ORDERS,ue.CANCEL_ANY_ORDER,ue.PROCESS_REFUNDS,ue.VIEW_USERS,ue.MANAGE_USERS,ue.MANAGE_ROLES,ue.DELETE_USERS,ue.MANAGE_OWN_ADDRESSES,ue.MANAGE_ALL_ADDRESSES,ue.VIEW_COUPONS,ue.MANAGE_COUPONS,ue.MANAGE_WISHLIST,ue.MANAGE_CART,ue.ACCESS_CHECKOUT,ue.VIEW_INVENTORY,ue.MANAGE_INVENTORY,ue.VIEW_ANALYTICS,ue.VIEW_FINANCIAL_REPORTS,ue.VIEW_REPORTS,ue.EXPORT_REPORTS,ue.MANAGE_SETTINGS,ue.CONFIGURE_PAYMENT_METHODS,ue.CONFIGURE_SHIPPING,ue.WRITE_REVIEWS,ue.MODERATE_REVIEWS,ue.VIEW_ALL_PAYMENTS,ue.MANAGE_IMAGES]},MANAGER:{name:"manager",permissions:[ue.VIEW_PRODUCTS,ue.MANAGE_PRODUCTS,ue.MANAGE_PRODUCT_IMAGES,ue.VIEW_CATEGORIES,ue.PLACE_ORDERS,ue.VIEW_OWN_ORDERS,ue.VIEW_ORDERS,ue.MANAGE_ORDERS,ue.VIEW_USERS,ue.MANAGE_OWN_ADDRESSES,ue.VIEW_COUPONS,ue.MANAGE_WISHLIST,ue.MANAGE_CART,ue.ACCESS_CHECKOUT,ue.VIEW_INVENTORY,ue.MANAGE_INVENTORY,ue.VIEW_ANALYTICS,ue.VIEW_REPORTS,ue.EXPORT_REPORTS,ue.WRITE_REVIEWS,ue.MANAGE_IMAGES]},CUSTOMER:{name:"customer",permissions:[ue.VIEW_PRODUCTS,ue.VIEW_CATEGORIES,ue.PLACE_ORDERS,ue.VIEW_OWN_ORDERS,ue.MANAGE_OWN_ADDRESSES,ue.MANAGE_WISHLIST,ue.MANAGE_CART,ue.ACCESS_CHECKOUT,ue.WRITE_REVIEWS]}},kA=(e,t)=>{const a=Object.values(EA).find(n=>n.name===e.toLowerCase());return(a==null?void 0:a.permissions.includes(t))||!1},AA=(e,t)=>e.toLowerCase()===t.toLowerCase(),TA=e=>["admin","tenant_admin","manager"].includes(e.toLowerCase()),fa=({children:e,requireEmailVerification:t=!1,requirePhoneVerification:a=!1,requiredRole:n,requiredPermissions:r,adminOnly:i=!1})=>{const{user:l,loading:o}=Ze(),c=ta();if(o.isLoading)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(_t,{size:"lg"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})});if(!l)return s.jsx(ui,{to:"/login",state:{from:c.pathname,message:"Please log in to access this page"},replace:!0});if(t&&!l.emailVerified)return s.jsx(ui,{to:"/email-verification",state:{method:"email",contact:l.email,fromPage:c.pathname,message:"Please verify your email to continue"},replace:!0});if(a&&!l.phoneVerified&&l.phone)return s.jsx(ui,{to:"/email-verification",state:{method:"phone",contact:l.phone,fromPage:c.pathname,message:"Please verify your phone number to continue"},replace:!0});if(a&&!l.phone)return s.jsx(ui,{to:"/profile",state:{message:"Please add a phone number to your profile and verify it to continue",requirePhone:!0},replace:!0});const d=l.roles&&l.roles.length>0?ku(l.roles[0].roleId):"customer";return i&&!TA(d)?s.jsx(ui,{to:"/",state:{message:"Access denied. Admin privileges required."},replace:!0}):n&&!AA(d,n)?s.jsx(ui,{to:"/",state:{message:`Access denied. ${n} role required.`},replace:!0}):r&&r.length>0&&!r.some(f=>kA(d,f))?s.jsx(ui,{to:"/",state:{message:"Access denied. Insufficient permissions."},replace:!0}):s.jsx(s.Fragment,{children:e})},Ns={all:["cart"],cart:(e,t)=>["cart",e,t]},MA=()=>{const{user:e,isAuthenticated:t}=Ze(),a=(e==null?void 0:e.userId)||0,n=dt(e==null?void 0:e.tenantId),r=t&&!!e&&!!a&&a>0;return bt({queryKey:r?Ns.cart(a,n):["cart","disabled"],queryFn:async()=>{if(!r||!t||!e||!a||a<=0)return{items:[],summary:{totalItems:0,totalQuantity:0,totalAmount:0,availableItemsTotal:0,unavailableItems:0},recommendedProducts:[]};if(!a||a<=0)return{items:[],summary:{totalItems:0,totalQuantity:0,totalAmount:0,availableItemsTotal:0,unavailableItems:0},recommendedProducts:[]};const i=await fe.getCart({userId:a,tenantId:n});return i.data&&"items"in i.data?i.data:{items:[],summary:{totalItems:0,totalQuantity:0,totalAmount:0,availableItemsTotal:0,unavailableItems:0},recommendedProducts:[]}},enabled:r,staleTime:3e4,refetchOnMount:!1,refetchOnWindowFocus:!1,retry:!1})},OA=()=>{const{user:e}=Ze(),t=Qt(),a=(e==null?void 0:e.userId)||0,n=dt(e==null?void 0:e.tenantId);return vt({mutationFn:async r=>await fe.addToCart({userId:a,productId:r.productId,quantity:r.quantity}),onMutate:async({productId:r,quantity:i})=>{await t.cancelQueries({queryKey:Ns.cart(a,n)});const l=t.getQueryData(Ns.cart(a,n));return l&&t.setQueryData(Ns.cart(a,n),o=>{if(!o)return o;const c=o.items.findIndex(p=>p.product.productId===r);let d=[...o.items];if(c>=0){const p=d[c].quantity+i;p<=0?d=d.filter((x,h)=>h!==c):d[c]={...d[c],quantity:p,itemTotal:d[c].product.price*p}}const m=d.reduce((p,x)=>p+x.quantity,0),f=d.reduce((p,x)=>p+x.itemTotal,0);return{...o,items:d,summary:{...o.summary,totalItems:d.length,totalQuantity:m,totalAmount:f,availableItemsTotal:f}}}),{previousCart:l}},onError:(r,i,l)=>{l!=null&&l.previousCart&&t.setQueryData(Ns.cart(a,n),l.previousCart)},onSuccess:async()=>{await t.invalidateQueries({queryKey:Ns.cart(a,n)})}})},_A=()=>{const{user:e}=Ze(),t=Qt(),a=(e==null?void 0:e.userId)||0,n=dt(e==null?void 0:e.tenantId);return vt({mutationFn:async r=>await fe.removeFromCart({userId:a,productId:r}),onMutate:async r=>{await t.cancelQueries({queryKey:Ns.cart(a,n)});const i=t.getQueryData(Ns.cart(a,n));return i&&t.setQueryData(Ns.cart(a,n),l=>{if(!l)return l;const o=l.items.filter(m=>m.product.productId!==r),c=o.reduce((m,f)=>m+f.quantity,0),d=o.reduce((m,f)=>m+f.itemTotal,0);return{...l,items:o,summary:{...l.summary,totalItems:o.length,totalQuantity:c,totalAmount:d,availableItemsTotal:d}}}),{previousCart:i}},onError:(r,i,l)=>{l!=null&&l.previousCart&&t.setQueryData(Ns.cart(a,n),l.previousCart)},onSuccess:async()=>{await t.invalidateQueries({queryKey:Ns.cart(a,n)})}})},RA=()=>{const{user:e}=Ze(),t=Qt(),a=(e==null?void 0:e.userId)||0,n=dt(e==null?void 0:e.tenantId);return vt({mutationFn:async()=>{const r=await fe.clearCart({userId:a,tenantId:n,clearCompletely:!0});if(!r||r.exception)throw new Error(r.exception||"Failed to clear cart");return r},onSuccess:async()=>{await t.invalidateQueries({queryKey:Ns.cart(a,n)})},onError:()=>{}})},vi=()=>{const{data:e,isLoading:t,error:a,refetch:n}=MA(),r=OA(),i=_A(),l=RA();return{cart:(e==null?void 0:e.items)||[],summary:(e==null?void 0:e.summary)||{totalItems:0,totalQuantity:0,totalAmount:0,availableItemsTotal:0,unavailableItems:0},recommendedProducts:(e==null?void 0:e.recommendedProducts)||[],isLoading:t,isAdding:r.isPending,isRemoving:i.isPending,isClearing:l.isPending,error:a,addError:r.error,removeError:i.error,addToCart:r.mutate,removeFromCart:i.mutate,clearCart:l.mutate,refetchCart:n,isAddSuccess:r.isSuccess,isRemoveSuccess:i.isSuccess,isClearSuccess:l.isSuccess}},Yu={current:!1},_n={current:null},ut={wishlist:void 0,items:[],subscribers:new Set},Sr=()=>{ut.subscribers.forEach(e=>e())},Zf=()=>{const{user:e}=Ze(),[t,a]=u.useState(ut.wishlist),[n,r]=u.useState(ut.items),[i,l]=u.useState(!1),[o,c]=u.useState(),d=u.useRef(!1),m=u.useRef(_n.current);u.useEffect(()=>{const v=()=>{a(ut.wishlist),r(ut.items)};return ut.subscribers.add(v),()=>{ut.subscribers.delete(v)}},[]);const f=u.useCallback(async()=>{var g;if(!(e!=null&&e.id)){ut.wishlist=void 0,ut.items=[],_n.current=null,a(void 0),r([]),m.current=null,Sr();return}const v=Number(e.id);if(Yu.current){a(ut.wishlist),r(ut.items);return}if(_n.current===v){a(ut.wishlist),r(ut.items),m.current=v;return}Yu.current=!0,d.current=!0,l(!0),c(void 0);try{const y=await fe.getUserWishlistWithItems(v);if(y.data){const b=y.data,j=(b==null?void 0:b.items)||[];ut.items=Array.isArray(j)?j:[],ut.wishlist=(b==null?void 0:b.wishlist)||void 0,_n.current=v,r(ut.items),a(ut.wishlist),m.current=v,Sr()}else y.exception?c(y.exception):(ut.items=[],ut.wishlist=void 0,_n.current=v,r([]),a(void 0),m.current=v,Sr())}catch(y){if(((g=y==null?void 0:y.response)==null?void 0:g.status)===404||(y==null?void 0:y.status)===404)ut.items=[],ut.wishlist=void 0,_n.current=v,r([]),a(void 0),c(void 0),m.current=v,Sr();else{const b=y instanceof Error?y.message:"Failed to load wishlist";c(b)}}finally{l(!1),d.current=!1,Yu.current=!1}},[e==null?void 0:e.id]),p=u.useCallback(async v=>{if(!(e!=null&&e.id))throw new Error("User not authenticated");c(void 0);try{const g=await fe.addOrUpdateWishlistItem(Number(e.id),v);if(g.data){const y=g.data,b=n.findIndex(j=>j.product_id===v.product_id);return b>=0?r(j=>{const E=j.map((k,S)=>S===b?{...k,...y}:k);return ut.items=E,Sr(),E}):(_n.current=null,await f()),y}else throw new Error(g.message||"Failed to save item to wishlist")}catch(g){const y=g instanceof Error?g.message:"Failed to save item to wishlist";throw c(y),new Error(y)}},[e==null?void 0:e.id,n,f]),x=u.useCallback(async v=>{if(!(e!=null&&e.id))throw new Error("User not authenticated");c(void 0);try{const g=await fe.removeFromWishlist(Number(e.id),v);if(g.data||!g.exception)r(y=>{const b=y.filter(j=>j.product_id!==v);return ut.items=b,Sr(),b}),a(y=>{const b=y&&{...y,item_count:y.item_count?y.item_count-1:0};return ut.wishlist=b,Sr(),b});else throw new Error(g.exception||"Failed to remove from wishlist")}catch(g){const y=g instanceof Error?g.message:"Failed to remove from wishlist";throw c(y),new Error(y)}},[e==null?void 0:e.id]),h=u.useCallback(async()=>{if(!(e!=null&&e.id))throw new Error("User not authenticated");c(void 0);try{const v=await fe.clearWishlist(Number(e.id));if(v.data||!v.exception)ut.items=[],r([]),a(g=>{const y=g&&{...g,item_count:0};return ut.wishlist=y,Sr(),y});else throw new Error(v.exception||"Failed to clear wishlist")}catch(v){const g=v instanceof Error?v.message:"Failed to clear wishlist";throw c(g),new Error(g)}},[e==null?void 0:e.id]),w=u.useCallback(()=>{c(void 0)},[]);return u.useEffect(()=>{const v=e!=null&&e.id?Number(e.id):null;v&&_n.current!==v&&!Yu.current?f():v&&_n.current===v&&(a(ut.wishlist),r(ut.items),m.current=v)},[e==null?void 0:e.id]),{wishlist:t,items:n,loading:i,error:o,addOrUpdateItem:p,removeFromWishlist:x,clearWishlist:h,refreshWishlist:f,clearError:w}},DA=e=>{const{user:t}=Ze(),{items:a,addOrUpdateItem:n,removeFromWishlist:r}=Zf(),[i,l]=u.useState(!1),[o,c]=u.useState(!1),[d,m]=u.useState(),f=!!(t!=null&&t.id),p=u.useCallback(async()=>{if(!f||!e){l(!1);return}const v=a.some(g=>g.product_id===e);l(v)},[f,e,a]),x=u.useCallback(async()=>{if(!f)throw new Error("Please log in to use wishlist");c(!0),m(void 0);try{const v=dt(t.tenantId);await n({tenantId:v,userId:Number(t.id),product_id:e,quantity:1,priority:3,notes:""}),l(!0)}catch(v){const g=v instanceof Error?v.message:"Failed to add to wishlist";throw m(g),new Error(g)}finally{c(!1)}},[f,t==null?void 0:t.id,t==null?void 0:t.tenantId,e,n]),h=u.useCallback(async()=>{if(!f)throw new Error("Please log in to use wishlist");c(!0),m(void 0);try{await r(e),l(!1)}catch(v){const g=v instanceof Error?v.message:"Failed to remove from wishlist";throw m(g),new Error(g)}finally{c(!1)}},[f,e,r]),w=u.useCallback(async()=>{i?await h():await x()},[i,x,h]);return u.useEffect(()=>{f&&e&&p()},[f,e,a,p]),{inWishlist:i,loading:o,error:d,addToWishlist:x,removeFromWishlist:h,toggleWishlist:w,refresh:p,clearError:()=>m(void 0)}},Ac=(e,t)=>{if(e.toLowerCase()==="home")return"/";if(e.toLowerCase()==="contact us")return"/contact";if(e.toLowerCase()==="about us")return"/about";if(e.toLowerCase()==="all")return"/products";const a=e.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");if(t){const n=t.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");return`/${a}/${n}`}return`/${a}`},Jf=()=>{const{user:e}=Ze(),t=pa(),a=u.useCallback((l,o)=>{if(!e){if(o)o();else{const c=window.location.pathname+window.location.search,d=encodeURIComponent(c);t(`/login?returnUrl=${d}`)}return}l()},[e,t]),n=u.useCallback((l,o)=>{if(!e){if(window.confirm(`${l} Would you like to log in now?`)){const d=window.location.pathname+window.location.search,m=encodeURIComponent(d);t(`/login?returnUrl=${m}`)}return}o()},[e,t]),r=u.useCallback(l=>{if(!e){const o=window.location.pathname+window.location.search,c=encodeURIComponent(o);t(`/login?returnUrl=${c}`);return}l()},[e,t]),i=u.useCallback(l=>{if(!e){if(window.confirm("Please log in to proceed with checkout. Would you like to log in now?")){const c=window.location.pathname+window.location.search,d=encodeURIComponent(c);t(`/login?returnUrl=${d}`)}return}l()},[e,t]);return{requireAuth:a,requireAuthWithMessage:n,requireAuthForCart:r,requireAuthForCheckout:i,isAuthenticated:!!e}},ye=e=>`${new Intl.NumberFormat("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}`,G2=e=>e.reduce((t,a)=>t+a.product.price*a.quantity,0),LA=e=>{const t=typeof e=="string"?new Date(e):e;return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(t)},Tc=e=>{var n,r;const t=(n=e.images)==null?void 0:n.find(i=>i.main&&i.active);if(t){const i=t.thumbnailUrl||t.poster;if(i&&i.trim()!=="")return i.startsWith("http")||i.startsWith("/")?i:`${ns}/images/products/${i}`}const a=(r=e.images)==null?void 0:r[0];if(a){const i=a.thumbnailUrl||a.poster;if(i&&i.trim()!=="")return i.startsWith("http")||i.startsWith("/")?i:`${ns}/images/products/${i}`}return"/placeholder-image.jpg"},Mc=ke.memo(({isOpen:e,onClose:t,onConfirm:a,title:n,message:r,confirmText:i="Confirm",cancelText:l="Cancel",type:o="warning",loading:c=!1,children:d})=>{const m=u.useMemo(()=>({danger:{icon:zs,iconBg:"bg-red-100",iconColor:"text-red-600",confirmBg:"bg-red-600 hover:bg-red-700",confirmText:"text-white"},warning:{icon:jr,iconBg:"bg-yellow-100",iconColor:"text-yellow-600",confirmBg:"bg-yellow-600 hover:bg-yellow-700",confirmText:"text-white"},info:{icon:xA,iconBg:"bg-blue-100",iconColor:"text-blue-600",confirmBg:"bg-blue-600 hover:bg-blue-700",confirmText:"text-white"},success:{icon:uA,iconBg:"bg-green-100",iconColor:"text-green-600",confirmBg:"bg-green-600 hover:bg-green-700",confirmText:"text-white"}}),[]),f=u.useMemo(()=>m[o],[m,o]),p=f.icon,x=u.useCallback(h=>{h.target===h.currentTarget&&t()},[t]);return e?s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:[s.jsx("div",{className:"fixed inset-0",onClick:x,"aria-hidden":"true"}),s.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md relative",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:`flex-shrink-0 w-12 h-12 ${f.iconBg} rounded-full flex items-center justify-center`,children:s.jsx(p,{className:`w-6 h-6 ${f.iconColor}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:n}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"This action cannot be undone."})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("p",{className:"text-gray-700",children:r}),d&&s.jsx("div",{className:"mt-4",children:d})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3",children:[s.jsx("button",{onClick:t,disabled:c,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l}),s.jsx("button",{onClick:a,disabled:c,className:`
                px-4 py-2 ${f.confirmBg} ${f.confirmText} rounded-lg font-medium 
                transition-colors disabled:opacity-50 disabled:cursor-not-allowed
                flex items-center gap-2
              `,children:c?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):i})]})]})})]}):null},(e,t)=>e.isOpen===t.isOpen&&e.title===t.title&&e.message===t.message&&e.confirmText===t.confirmText&&e.cancelText===t.cancelText&&e.type===t.type&&e.loading===t.loading&&e.onClose===t.onClose&&e.onConfirm===t.onConfirm&&e.children===t.children);Mc.displayName="ConfirmationModal";const Q2=ke.memo(({item:e,showRemove:t=!0,compact:a=!1})=>{const{addToCart:n,removeFromCart:r,isAdding:i,isRemoving:l}=vi(),[o,c]=u.useState(!1),d=u.useCallback(async v=>{if(!(v<0))if(v===0)r(e.product.productId);else{const g=v-e.quantity;n({productId:e.product.productId,quantity:g})}},[e.quantity,e.product.productId,n,r]),m=u.useCallback(()=>{r(e.product.productId)},[r,e.product.productId]),f=u.useCallback(()=>{c(!0)},[]),p=u.useCallback(()=>{c(!1),m()},[m]),x=u.useMemo(()=>e.product.price*e.quantity,[e.product.price,e.quantity]),h=u.useMemo(()=>Tc(e.product),[e.product]),w=i||l;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`
          transition-all duration-300 ease-in-out relative
          ${l?"opacity-0 transform translate-x-4 scale-95":"opacity-100 transform translate-x-0 scale-100"}
          ${a?"py-2":"py-2 sm:py-3 lg:py-4"}
        `,children:[s.jsxs("div",{className:`flex gap-2 sm:gap-3 lg:gap-4 ${a?"items-center":"items-start sm:items-center"}`,children:[s.jsx("div",{className:`flex-shrink-0 ${a?"w-10 h-10 sm:w-12 sm:h-12":"w-12 h-12 sm:w-14 sm:h-14 lg:w-16 lg:h-16"}`,children:s.jsx("img",{src:h,alt:e.product.productName,className:"w-full h-full object-cover rounded-lg border border-gray-200",onError:v=>{v.currentTarget.src="/placeholder-image.jpg"}})}),s.jsxs("div",{className:"flex-1 min-w-0 pr-1 sm:pr-2",children:[s.jsx("h4",{className:`font-medium text-gray-900 ${a?"text-sm":"text-sm sm:text-base"} truncate`,children:e.product.productName}),!a&&s.jsx("p",{className:"text-sm text-gray-500 mt-0.5 sm:mt-1 line-clamp-1 sm:line-clamp-2",children:e.product.productDescription}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1 sm:gap-3 mt-1 sm:mt-2",children:[s.jsx("span",{className:`font-semibold text-green-600 ${a?"text-sm":"text-sm sm:text-base"}`,children:ye(e.product.price)}),!a&&s.jsxs("span",{className:"text-sm text-gray-500",children:["Total: ",ye(x)]})]})]}),s.jsxs("div",{className:"flex flex-col items-end gap-1 sm:gap-2 flex-shrink-0",children:[s.jsxs("div",{className:`flex items-center gap-1 ${a?"scale-90":""}`,children:[s.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md sm:rounded-lg bg-white",children:[s.jsx("button",{onClick:()=>d(e.quantity-1),disabled:w||e.quantity<=1,className:"p-3 sm:p-3.5 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors rounded-l-md sm:rounded-l-lg","aria-label":"Decrease quantity",children:s.jsx("svg",{className:"w-5 h-5 sm:w-5 sm:h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),s.jsx("span",{className:"px-2 sm:px-3 lg:px-4 py-3 sm:py-3.5 text-sm sm:text-base font-medium text-gray-900 min-w-[2.5rem] sm:min-w-[3rem] lg:min-w-[3.5rem] text-center",children:e.quantity}),s.jsx("button",{onClick:()=>d(e.quantity+1),disabled:w||e.quantity>=e.product.quantity,className:"p-3 sm:p-3.5 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors rounded-r-md sm:rounded-r-lg","aria-label":"Increase quantity",children:s.jsx("svg",{className:"w-5 h-5 sm:w-5 sm:h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}),t&&s.jsx("button",{onClick:f,disabled:l,className:"p-1 sm:p-1.5 text-gray-400 hover:text-red-500 transition-colors disabled:opacity-50","aria-label":"Remove item",children:s.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),e.quantity>=e.product.quantity&&s.jsxs("p",{className:"text-xs text-orange-500 text-right",children:["Max: ",e.product.quantity]})]})]}),w&&s.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center rounded-lg",children:s.jsx("div",{className:"w-5 h-5 border-2 border-green-600 border-t-transparent rounded-full animate-spin"})})]}),s.jsx(Mc,{isOpen:o,onClose:()=>c(!1),onConfirm:p,title:"Remove Item",message:`Are you sure you want to remove "${e.product.productName}" from your cart?`,confirmText:"Yes, Remove",cancelText:"Cancel",type:"danger",loading:l})]})},(e,t)=>e.item.product.productId===t.item.product.productId&&e.item.quantity===t.item.quantity&&e.item.product.price===t.item.product.price&&e.showRemove===t.showRemove&&e.compact===t.compact);Q2.displayName="CartItem";const Y2=ke.memo(({items:e,appliedDiscount:t,showShipping:a=!0,showTax:n=!0,compact:r=!1,className:i=""})=>{const l=u.useMemo(()=>{const p=G2(e);let x=0;t&&p>0&&(t.minAmount&&p<t.minAmount?x=0:t.type==="percentage"?x=p*(t.value/100):x=t.value,x=Math.min(x,p));const h=a?p>=Uu?0:a2:0,w=p-x+h;return{subtotal:p,discount:x,tax:0,shipping:h,total:Math.max(0,w)}},[e,t,a]),o=e.length>0,c=Math.max(0,Uu-l.subtotal),d=500,m=Math.max(0,d-l.subtotal),f=l.subtotal>=d;return s.jsxs("div",{className:`bg-gray-50 rounded-lg ${r?"p-4":"p-6"} ${i}`,children:[o&&!f&&s.jsxs("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("svg",{className:"w-4 h-4 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),s.jsxs("span",{className:"text-sm font-medium text-yellow-800",children:["Add ",ye(m)," more to meet minimum order value (",d,")"]})]}),s.jsx("div",{className:"w-full bg-yellow-200 rounded-full h-2",children:s.jsx("div",{className:"bg-yellow-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,l.subtotal/d*100)}%`}})})]}),a&&o&&c>0&&f&&s.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),s.jsxs("span",{className:"text-sm font-medium text-green-800",children:["Add ",ye(c)," more for free shipping!"]})]}),s.jsx("div",{className:"w-full bg-green-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,l.subtotal/Uu*100)}%`}})})]}),s.jsx("h3",{className:`font-semibold text-gray-900 mb-4 ${r?"text-base":"text-lg"}`,children:"Order Summary"}),o?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"text-gray-600",children:["Subtotal (",e.reduce((p,x)=>p+x.quantity,0)," items)"]}),s.jsx("span",{className:"font-medium text-gray-900",children:ye(l.subtotal)})]}),l.discount>0&&s.jsxs("div",{className:"flex justify-between items-center text-green-600",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),"Discount (",t==null?void 0:t.code,")"]}),s.jsxs("span",{className:"font-medium",children:["-",ye(l.discount)]})]}),t&&t.minAmount&&l.subtotal<t.minAmount&&s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-orange-50 border border-orange-200 rounded",children:[s.jsx("svg",{className:"w-4 h-4 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsxs("span",{className:"text-xs text-orange-700",children:["Add ",ye(t.minAmount-l.subtotal)," more to use this discount"]})]}),a&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Shipping"}),s.jsx("span",{className:`font-medium ${l.shipping===0?"text-green-600":"text-gray-900"}`,children:l.shipping===0?"Free":ye(l.shipping)})]}),s.jsx("hr",{className:"border-gray-200"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:`font-semibold text-gray-900 ${r?"text-base":"text-lg"}`,children:"Total"}),s.jsx("span",{className:`font-bold text-green-600 ${r?"text-lg":"text-xl"}`,children:ye(l.total)})]}),l.discount>0&&s.jsx("div",{className:"text-center p-2 bg-green-50 border border-green-200 rounded",children:s.jsxs("span",{className:"text-sm text-green-700",children:[" You saved ",ye(l.discount),"!"]})})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("svg",{className:"w-12 h-12 text-gray-300 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a1 1 0 01-1 1H9a1 1 0 01-1-1v-6m8 0V9a1 1 0 00-1-1H9a1 1 0 00-1 1v4.01"})}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Your cart is empty"})]}),o&&s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-500",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),s.jsx("span",{children:"Secure checkout with SSL encryption"})]})})]})},(e,t)=>{var n,r,i,l;return e.items.length!==t.items.length||e.items.some((o,c)=>{const d=t.items[c];return!d||o.quantity!==d.quantity||o.product.price!==d.product.price||o.product.productId!==d.product.productId})?!1:((n=e.appliedDiscount)==null?void 0:n.code)===((r=t.appliedDiscount)==null?void 0:r.code)&&((i=e.appliedDiscount)==null?void 0:i.value)===((l=t.appliedDiscount)==null?void 0:l.value)&&e.showShipping===t.showShipping&&e.compact===t.compact&&e.className===t.className});Y2.displayName="CartSummary";const K2=ke.memo(({isOpen:e,onClose:t})=>{const a=pa(),{cart:n,clearCart:r,isClearing:i}=vi(),{requireAuthForCheckout:l}=Jf(),[o,c]=u.useState(!1),[d,m]=u.useState(!1),[f,p]=u.useState(null),x=1,h=u.useMemo(()=>n.filter(j=>j&&j.product&&j.product.productId&&j.product.productName&&j.quantity>0),[n]),w=u.useMemo(()=>G2(h),[h]),v=u.useMemo(()=>w>=x,[w]),g=u.useCallback(()=>{m(!0),setTimeout(()=>{m(!1),t()},300)},[t]),y=()=>{c(!0)},b=async()=>{try{p(null),await new Promise((j,E)=>{r(void 0,{onSuccess:()=>{c(!1),j()},onError:k=>{const S=k instanceof Error?k.message:"Failed to clear cart. Please try again.";p(S),E(k)}})})}catch{}};return u.useEffect(()=>{const j=E=>{E.key==="Escape"&&e&&g()};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[e,g]),u.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`
          fixed inset-0 z-50 bg-black bg-opacity-50 transition-opacity duration-300
          ${e?"opacity-100":"opacity-0 pointer-events-none"}
        `,onClick:g,"aria-hidden":"true"}),s.jsx("div",{className:`
          fixed top-0 right-0 z-50 h-full w-[calc(100%-2rem)] max-w-md bg-white shadow-xl
          transform transition-transform duration-300 ease-in-out
          ${e&&!d?"translate-x-0":"translate-x-full"}
        `,role:"dialog","aria-modal":"true","aria-labelledby":"cart-drawer-title",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-green-200 bg-green-600 sticky top-0 z-10",children:[s.jsxs("h2",{id:"cart-drawer-title",className:"text-xl font-semibold text-white",children:["Shopping Cart (",h.length,")"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[h.length>0&&s.jsx("button",{onClick:y,className:"text-sm text-white hover:text-green-100 transition-colors px-4 py-3 rounded",children:"Clear all"}),s.jsx("button",{onClick:g,className:"p-4 hover:bg-green-700 rounded-lg transition-colors","aria-label":"Close cart",children:s.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:h.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-6 text-center",children:[s.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:s.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a1 1 0 01-1 1H9a1 1 0 01-1-1v-6m8 0V9a1 1 0 00-1-1H9a1 1 0 00-1 1v4.01"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Your cart is empty"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Add some items to get started!"}),s.jsx("button",{onClick:g,className:"bg-green-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-green-700 transition-colors",children:"Continue Shopping"})]}):s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Items in your cart"}),s.jsx("div",{className:"space-y-6 max-h-80 overflow-y-auto",children:h.map(j=>s.jsx("div",{className:"border-b border-gray-100 pb-4 last:border-b-0 last:pb-0",children:s.jsx(Q2,{item:j,showRemove:!0})},j.id))})]}),s.jsx(Y2,{items:h,appliedDiscount:null,showShipping:!1,showTax:!1}),s.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-green-700",children:[" ",s.jsx("strong",{children:"Final pricing at checkout:"})," Shipping charges, discount codes, and courier options will be calculated during checkout based on your delivery address."]})})]})}),h.length>0&&s.jsx("div",{className:"p-4 border-t border-gray-200 bg-white sticky bottom-0",children:s.jsxs("div",{className:"space-y-3",children:[!v&&s.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),s.jsxs("span",{className:"text-sm font-medium text-yellow-800",children:["Minimum order value is ",x,". Add ",ye(x-w)," more to proceed."]})]})}),s.jsxs("button",{onClick:()=>{t(),l(()=>{a("/checkout")})},disabled:!v,className:`w-full py-3 px-4 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 ${v?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),"Proceed to Checkout"]}),s.jsx("button",{onClick:g,className:"w-full text-gray-600 py-2 px-4 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Continue Shopping"}),s.jsxs("div",{className:"flex items-center justify-center gap-4 pt-2 text-xs text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),s.jsx("span",{children:"Secure"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),s.jsx("span",{children:"30-day returns"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),s.jsx("span",{children:"Free shipping over 2000"})]})]})]})})]})}),s.jsx(Mc,{isOpen:o,onClose:()=>{c(!1),p(null)},onConfirm:b,title:"Clear Cart",message:f||"Are you sure you want to remove all items from your cart? This action cannot be undone.",confirmText:"Clear Cart",cancelText:"Keep Items",loading:i,type:f?"warning":"danger"})]})},(e,t)=>e.isOpen===t.isOpen);K2.displayName="CartDrawer";const Rt=({children:e})=>{const{user:t,logout:a,menuItems:n,hasPermission:r,isAdmin:i,isAuthenticated:l,loading:o}=Ze(),c=ta(),d=pa(),{showError:m,showWarning:f}=qa(),p=l&&t&&t.userId,x=vi(),h=p?x.summary:{totalItems:0,totalQuantity:0},w=Zf(),v=p&&w.items?w.items.length:0;u.useEffect(()=>{},[h.totalItems,h.totalQuantity,x.cart.length,x.isLoading,p]);const g=u.useMemo(()=>n.length>0?n:[],[n]);u.useEffect(()=>{const P=g.map(ne=>ne.menuId),J=Array.from(new Set(P));P.length,J.length},[l,t,p,h.totalItems,n,g,o.isLoading]);const[y,b]=u.useState(null),[j,E]=u.useState(!1),[k,S]=u.useState(null),[N,M]=u.useState(!1),R=u.useRef(null);u.useEffect(()=>{const P=J=>{R.current&&!R.current.contains(J.target)&&b(null)};return document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[]),u.useEffect(()=>()=>{k&&clearTimeout(k)},[k]);const A=u.useCallback(P=>!!(c.pathname===P||P!=="/"&&P!=="/products"&&c.pathname.startsWith(P+"/")),[c.pathname]),z=u.useCallback(P=>{b(y===P?null:P)},[y]),H=u.useCallback(()=>{b(null)},[]),oe=u.useCallback(P=>{k&&(clearTimeout(k),S(null)),b(P)},[k]),Q=u.useCallback(()=>{const P=setTimeout(()=>{b(null)},300);S(P)},[]),I=u.useCallback(()=>{E(!1),b(null)},[]),D=u.useCallback(async(P,J)=>{try{d("/products",{state:{categoryId:P,categoryName:J}}),H(),I()}catch{}},[d,H,I]),q=u.useCallback(()=>{try{sessionStorage.removeItem("activeCategoryId"),sessionStorage.removeItem("activeCategoryName"),d("/products",{state:{}}),H(),I()}catch{}},[d,H,I]),K=u.useCallback((P,J)=>P.toLowerCase()==="home"?"/":P.toLowerCase()==="contact us"?"/contact":P.toLowerCase()==="all"?"/products":Ac(P,J),[]),ae=u.useCallback(()=>{const P=c.state;if(P!=null&&P.categoryId)return!0;const J=sessionStorage.getItem("activeCategoryId");if(J&&J!=="")return!0;const C=new URLSearchParams(c.search).get("category");return!!(C&&C!=="")},[c.state,c.search]),ee=u.useCallback((P,J)=>{const ne=K(P,J),C=c.pathname==="/products"||c.pathname.startsWith("/products");if(P.toLowerCase()==="all")return C&&!ae();if(P.toLowerCase()!=="home"&&P.toLowerCase()!=="all"){if(c.pathname===ne||c.pathname.startsWith(ne+"/"))return!0;if(C&&ae()){let W=null;const T=c.state;if(T!=null&&T.categoryId)W=T.categoryId;else{const G=sessionStorage.getItem("activeCategoryId");if(G){const te=parseInt(G,10);isNaN(te)||(W=te)}else{const ve=new URLSearchParams(c.search).get("category");if(ve){const xe=parseInt(ve,10);isNaN(xe)||(W=xe)}}}if(W!==null){const G=g.find(te=>te.menuName.toLowerCase()===P.toLowerCase());if(G!=null&&G.category&&G.category.some(ve=>ve.categoryId===W))return!0}}}return P.toLowerCase()==="home"||P.toLowerCase()==="contact us"?A(ne):!1},[c.pathname,c.state,c.search,ae,K,g,A]);u.useEffect(()=>{if(c.pathname==="/products"||c.pathname.startsWith("/products")){const P=c.state;P!=null&&P.categoryId&&(sessionStorage.setItem("activeCategoryId",P.categoryId.toString()),P.categoryName&&sessionStorage.setItem("activeCategoryName",P.categoryName))}},[c.state,c.pathname]),u.useEffect(()=>{try{const P=sessionStorage.getItem("payment_cancelled");if(P){const J=JSON.parse(P),{isFailure:ne,pendingOrder:C}=J;sessionStorage.removeItem("payment_cancelled"),ne?m(C?`Payment failed for Order #${C.orderNumber}. No charges were made. You can retry payment from your orders.`:"Payment failed. No charges were made to your account.",8e3):f(C?`Payment cancelled for Order #${C.orderNumber}. Your order is still pending. You can complete payment from your orders.`:"Payment cancelled. No charges were made to your account.",8e3)}}catch{}},[c.pathname,m,f]);const re=u.useCallback((P,J)=>{if(!J||J.length===0)return!1;if(c.pathname==="/products"||c.pathname.startsWith("/products")){const ne=c.state;if(ne!=null&&ne.categoryId&&J.some(ve=>ve.categoryId===ne.categoryId))return!0;const C=sessionStorage.getItem("activeCategoryId");if(C){const te=parseInt(C,10);if(!isNaN(te)&&J.some(xe=>xe.categoryId===te))return!0}const W=sessionStorage.getItem("activeCategoryName");if(W&&J.some(ve=>{var xe,At;return((xe=ve.category)==null?void 0:xe.toLowerCase())===W.toLowerCase()||((At=ve.categoryName)==null?void 0:At.toLowerCase())===W.toLowerCase()}))return!0;const G=new URLSearchParams(c.search).get("category");if(G){const te=parseInt(G,10);if(!isNaN(te)&&J.some(xe=>xe.categoryId===te))return!0}}return J.some(ne=>ee(P,ne.category||ne.categoryName))},[c.pathname,c.state,c.search,ee]);return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-50",ref:R,children:s.jsxs("div",{className:"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex items-center justify-between h-14 sm:h-16",children:[s.jsx(Me,{to:"/",className:"flex items-center flex-shrink-0",children:s.jsx("span",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-green-600 leading-none",children:"Xtrachef"})}),s.jsx("nav",{className:"hidden lg:flex items-center space-x-1 xl:space-x-2",children:o.isLoading&&n.length===0?s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("div",{className:"animate-pulse flex space-x-2",children:[s.jsx("div",{className:"h-8 w-20 bg-gray-200 rounded-lg"}),s.jsx("div",{className:"h-8 w-24 bg-gray-200 rounded-lg"}),s.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded-lg"})]})}):g.length>0?g.map(P=>{if(!P.active)return null;const J=K(P.menuName),ne=re(P.menuName,P.category);if(P.subMenu&&P.category&&P.category.length>0){const C=ee(P.menuName)||ne;return s.jsxs("div",{className:"relative group",onMouseEnter:()=>oe(`menu-${P.menuId}`),onMouseLeave:Q,children:[s.jsxs("button",{className:`flex items-center px-4 py-2.5 rounded-lg text-sm font-semibold transition-all duration-200 group-hover:bg-green-50 ${C?"text-green-700 bg-green-100 shadow-sm":"text-gray-700 hover:text-green-700 hover:shadow-sm"}`,children:[s.jsx("span",{className:"truncate max-w-28 xl:max-w-none",children:P.menuName}),s.jsx("svg",{className:`ml-2 h-4 w-4 flex-shrink-0 transition-transform duration-200 ${y===`menu-${P.menuId}`?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),y===`menu-${P.menuId}`&&s.jsx("div",{className:"absolute top-full left-0 mt-2 w-64 bg-white rounded-xl shadow-xl ring-1 ring-gray-200 z-50 overflow-hidden",onMouseEnter:()=>oe(`menu-${P.menuId}`),onMouseLeave:Q,children:s.jsxs("div",{className:"py-2",children:[s.jsx("div",{className:"px-4 py-2 bg-gray-50 border-b border-gray-100",children:s.jsxs("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:[P.menuName," Categories"]})}),s.jsx("div",{className:"max-h-80 overflow-y-auto",children:P.category.filter(W=>W.active).sort((W,T)=>W.orderBy-T.orderBy).map(W=>s.jsx("button",{onClick:()=>D(W.categoryId,W.category),className:"w-full px-4 py-2.5 text-left text-sm font-medium text-gray-900 transition-all duration-150 hover:bg-green-50 hover:text-green-700",children:W.category},W.categoryId))})]})})]},P.menuId)}else if(P.menuName.toLowerCase()==="all"){const C=ee(P.menuName);return s.jsx("button",{onClick:q,className:`px-4 py-2.5 rounded-lg text-sm font-semibold transition-all duration-200 hover:bg-green-50 hover:shadow-sm ${C?"text-green-700 bg-green-100 shadow-sm":"text-gray-700 hover:text-green-700"}`,children:s.jsx("span",{className:"truncate max-w-28 xl:max-w-none",children:P.menuName})},P.menuId)}else{const C=ee(P.menuName);return s.jsx(Me,{to:J,className:`px-4 py-2.5 rounded-lg text-sm font-semibold transition-all duration-200 hover:bg-green-50 hover:shadow-sm ${C?"text-green-700 bg-green-100 shadow-sm":"text-gray-700 hover:text-green-700"}`,children:s.jsx("span",{className:"truncate max-w-28 xl:max-w-none",children:P.menuName})},P.menuId)}}):s.jsx("div",{className:"flex items-center space-x-2 text-gray-500 text-sm",children:s.jsx("span",{children:"No menu items available"})})}),s.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4 lg:space-x-5",children:[s.jsxs("div",{className:"hidden lg:flex items-center space-x-3 xl:space-x-4",children:[p&&s.jsx("div",{className:"relative nav-icon",children:s.jsxs("button",{onClick:()=>M(!0),className:"flex flex-col items-center cursor-pointer group","aria-label":"Shopping cart",children:[s.jsxs("div",{className:"relative flex items-center justify-center w-10 h-10 text-gray-900 group-hover:text-green-600 transition-colors",children:[s.jsx(Ql,{className:"w-6 h-6"}),h.totalItems>0&&s.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium shadow-sm",children:h.totalItems>99?"99+":h.totalItems})]}),s.jsx("span",{className:"text-xs text-gray-900 group-hover:text-green-600 transition-colors",children:"Cart"})]})}),p&&s.jsx("div",{className:"relative nav-icon",children:s.jsxs(Me,{to:"/wishlist",className:"flex flex-col items-center cursor-pointer group",children:[s.jsxs("div",{className:"relative flex items-center justify-center w-10 h-10 text-gray-900 group-hover:text-green-600 transition-colors",children:[s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),v>0&&s.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium shadow-sm",children:v>99?"99+":v})]}),s.jsx("span",{className:"text-xs text-gray-900 group-hover:text-green-600 transition-colors",children:"Wishlist"})]})}),s.jsx("div",{className:"relative nav-icon",children:p?s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>z("user-menu"),className:"flex flex-col items-center cursor-pointer group dropdown-trigger",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 text-gray-900 group-hover:text-green-600 transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),s.jsx("span",{className:"text-xs text-gray-900 group-hover:text-green-600 transition-colors",children:"Profile"})]}),s.jsx("div",{className:`absolute right-0 top-full mt-2 w-48 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 z-50 dropdown-menu ${y==="user-menu"?"show":""}`,children:s.jsxs("div",{className:"py-1",children:[s.jsxs("div",{className:"px-4 py-2 text-sm text-gray-900 border-b border-gray-100",children:[s.jsxs("div",{className:"font-medium",children:[t.firstName," ",t.lastName]}),s.jsx("div",{className:"text-gray-500 text-xs",children:t.email}),t.roles&&t.roles.length>0&&s.jsxs("div",{className:"text-gray-400 text-xs mt-1",children:["Role: ",t.roles[0].roleName||"Customer"]})]}),s.jsxs(Me,{to:"/profile",onClick:H,className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors dropdown-menu-item",children:[s.jsx("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"My Profile"]}),s.jsxs(Me,{to:"/orders",onClick:H,className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors dropdown-menu-item",children:[s.jsx("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),"My Orders"]}),s.jsxs(Me,{to:"/addresses",onClick:H,className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors dropdown-menu-item",children:[s.jsxs("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"My Addresses"]}),s.jsxs("button",{onClick:()=>{a(),H()},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:text-red-600 hover:bg-red-50 transition-colors dropdown-menu-item",children:[s.jsx("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})]})})]}):s.jsxs(Me,{to:"/login",onClick:H,className:"flex flex-col items-center cursor-pointer group",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 text-gray-900 group-hover:text-green-600 transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),s.jsx("span",{className:"text-xs text-gray-900 group-hover:text-green-600 transition-colors",children:"Login"})]})}),p&&i()&&s.jsxs("div",{className:"relative nav-icon",children:[s.jsxs("button",{onClick:()=>z("admin-menu"),className:"flex flex-col items-center cursor-pointer group dropdown-trigger",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 text-gray-900 group-hover:text-green-600 transition-colors",children:s.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),s.jsx("span",{className:"text-xs text-gray-900 group-hover:text-green-600 transition-colors",children:"Admin"})]}),s.jsx("div",{className:`absolute right-0 top-full mt-2 w-48 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 z-50 dropdown-menu ${y==="admin-menu"?"show":""}`,children:s.jsxs("div",{className:"py-1",children:[r("canManageProducts")&&s.jsxs(Me,{to:"/admin/products",onClick:H,className:`flex items-center px-4 py-2 text-sm transition-colors dropdown-menu-item ${A("/admin/products")?"text-green-600 bg-green-50":"text-gray-700 hover:text-green-600 hover:bg-green-50"}`,children:[s.jsx("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),"Products"]}),r("canManageCategories")&&s.jsxs(Me,{to:"/admin/categories",onClick:H,className:`flex items-center px-4 py-2 text-sm transition-colors dropdown-menu-item ${A("/admin/categories")?"text-green-600 bg-green-50":"text-gray-700 hover:text-green-600 hover:bg-green-50"}`,children:[s.jsx("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Categories"]}),r("canManageImages")&&s.jsxs(Me,{to:"/admin/images",onClick:H,className:`flex items-center px-4 py-2 text-sm transition-colors dropdown-menu-item ${A("/admin/images")?"text-green-600 bg-green-50":"text-gray-700 hover:text-green-600 hover:bg-green-50"}`,children:[s.jsx("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Images"]}),r("canManageUsers")&&s.jsxs(Me,{to:"/admin/users",onClick:H,className:`flex items-center px-4 py-2 text-sm transition-colors dropdown-menu-item ${A("/admin/users")?"text-green-600 bg-green-50":"text-gray-700 hover:text-green-600 hover:bg-green-50"}`,children:[s.jsx("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),"Users"]}),r("canManageOrders")&&s.jsxs(Me,{to:"/admin/orders",onClick:H,className:`flex items-center px-4 py-2 text-sm transition-colors dropdown-menu-item ${A("/admin/orders")?"text-green-600 bg-green-50":"text-gray-700 hover:text-green-600 hover:bg-green-50"}`,children:[s.jsx("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Orders"]}),r("canManageProducts")&&s.jsxs(Me,{to:"/admin/coupons",onClick:H,className:`flex items-center px-4 py-2 text-sm transition-colors dropdown-menu-item ${A("/admin/coupons")?"text-green-600 bg-green-50":"text-gray-700 hover:text-green-600 hover:bg-green-50"}`,children:[s.jsx("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),"Coupons"]}),r("canManageUsers")&&s.jsxs(Me,{to:"/admin/addresses",onClick:H,className:`flex items-center px-4 py-2 text-sm transition-colors dropdown-menu-item ${A("/admin/addresses")?"text-green-600 bg-green-50":"text-gray-700 hover:text-green-600 hover:bg-green-50"}`,children:[s.jsxs("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Customer Addresses"]}),r("canViewAnalytics")&&s.jsxs(Me,{to:"/admin/dashboard",onClick:H,className:`flex items-center px-4 py-2 text-sm transition-colors dropdown-menu-item ${A("/admin/dashboard")?"text-green-600 bg-green-50":"text-gray-700 hover:text-green-600 hover:bg-green-50"}`,children:[s.jsx("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Dashboard"]})]})})]})]}),s.jsx("div",{className:"lg:hidden",children:s.jsx("button",{onClick:()=>E(!j),className:"text-gray-700 hover:text-green-600 focus:outline-none focus:text-green-600 p-2 rounded-md hover:bg-gray-100 transition-colors","aria-label":"Toggle mobile menu",children:s.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:j?s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]})]}),j&&s.jsx("div",{className:"lg:hidden border-t border-gray-200 bg-white shadow-lg",children:s.jsxs("div",{className:"px-3 sm:px-4 py-3 space-y-1 max-h-96 overflow-y-auto",children:[p?s.jsxs("div",{className:"border-b border-gray-200 pb-3 mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 px-3 py-2 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-7 w-7 sm:h-8 sm:w-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900 truncate",children:[t.firstName," ",t.lastName]}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.email})]})]}),s.jsxs("div",{className:"mt-2 space-y-1",children:[s.jsxs("button",{onClick:()=>{I(),M(!0)},className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:text-green-600 hover:bg-green-50 rounded-md transition-colors",children:[s.jsx("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a1 1 0 01-1 1H9a1 1 0 01-1-1v-6m8 0V9a1 1 0 00-1-1H9a1 1 0 00-1 1v4.01"})}),"Cart",h.totalItems>0&&s.jsx("span",{className:"ml-auto bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium",children:h.totalItems>99?"99+":h.totalItems})]}),s.jsxs(Me,{to:"/wishlist",onClick:I,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:text-green-600 hover:bg-green-50 rounded-md transition-colors",children:[s.jsx("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),"Wishlist",v>0&&s.jsx("span",{className:"ml-auto bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium",children:v>99?"99+":v})]}),i()&&s.jsxs(s.Fragment,{children:[r("canManageProducts")&&s.jsxs(Me,{to:"/admin/products",onClick:I,className:`flex items-center px-3 py-2 text-sm transition-colors rounded-md ${A("/admin/products")?"text-green-600 bg-green-50":"text-gray-700 hover:text-green-600 hover:bg-green-50"}`,children:[s.jsx("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),"Products"]}),r("canManageCategories")&&s.jsxs(Me,{to:"/admin/categories",onClick:I,className:`flex items-center px-3 py-2 text-sm transition-colors rounded-md ${A("/admin/categories")?"text-green-600 bg-green-50":"text-gray-700 hover:text-green-600 hover:bg-green-50"}`,children:[s.jsx("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Categories"]}),r("canManageImages")&&s.jsxs(Me,{to:"/admin/images",onClick:I,className:`flex items-center px-3 py-2 text-sm transition-colors rounded-md ${A("/admin/images")?"text-green-600 bg-green-50":"text-gray-700 hover:text-green-600 hover:bg-green-50"}`,children:[s.jsx("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Images"]}),r("canManageUsers")&&s.jsxs(Me,{to:"/admin/users",onClick:I,className:`flex items-center px-3 py-2 text-sm transition-colors rounded-md ${A("/admin/users")?"text-green-600 bg-green-50":"text-gray-700 hover:text-green-600 hover:bg-green-50"}`,children:[s.jsx("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),"Users"]}),r("canManageOrders")&&s.jsxs(Me,{to:"/admin/orders",onClick:I,className:`flex items-center px-3 py-2 text-sm transition-colors rounded-md ${A("/admin/orders")?"text-green-600 bg-green-50":"text-gray-700 hover:text-green-600 hover:bg-green-50"}`,children:[s.jsx("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),"Orders"]}),r("canManageCoupons")&&s.jsxs(Me,{to:"/admin/coupons",onClick:I,className:`flex items-center px-3 py-2 text-sm transition-colors rounded-md ${A("/admin/coupons")?"text-green-600 bg-green-50":"text-gray-700 hover:text-green-600 hover:bg-green-50"}`,children:[s.jsx("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),"Coupons"]}),r("canViewAnalytics")&&s.jsxs(Me,{to:"/admin/dashboard",onClick:I,className:`flex items-center px-3 py-2 text-sm transition-colors rounded-md ${A("/admin/dashboard")?"text-green-600 bg-green-50":"text-gray-700 hover:text-green-600 hover:bg-green-50"}`,children:[s.jsx("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Dashboard"]})]}),s.jsxs("button",{onClick:a,className:"flex items-center w-full px-3 py-2 text-sm text-red-600 hover:text-red-700 hover:bg-red-50 rounded-md transition-colors",children:[s.jsx("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})]})]}):s.jsx("div",{className:"border-b border-gray-200 pb-3 mb-3",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[s.jsx(Me,{to:"/login",onClick:I,className:"flex-1 text-center px-3 sm:px-4 py-2 text-sm font-medium text-gray-700 hover:text-green-600 hover:bg-green-50 rounded-md transition-colors",children:"Login"}),s.jsx(Me,{to:"/register",onClick:I,className:"flex-1 text-center px-3 sm:px-4 py-2 text-sm font-medium text-green-600 hover:text-green-700 hover:bg-green-50 rounded-md transition-colors",children:"Register"})]})}),s.jsx("div",{className:"space-y-2",children:o.isLoading&&n.length===0?s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-12 w-full bg-gray-200 rounded-lg"}),s.jsx("div",{className:"h-12 w-full bg-gray-200 rounded-lg"}),s.jsx("div",{className:"h-12 w-full bg-gray-200 rounded-lg"})]})}):g.length>0?g.map(P=>{if(!P.active)return null;const J=K(P.menuName);if(P.subMenu&&P.category&&P.category.length>0){const ne=re(P.menuName,P.category),C=ee(P.menuName)||ne;return s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>z(`mobile-menu-${P.menuId}`),className:`w-full text-left px-4 py-3 text-sm font-semibold transition-all duration-200 flex items-center justify-between rounded-lg bg-white shadow-sm ring-1 ring-gray-200 ${C?"text-green-700 bg-green-100 ring-green-200 shadow-md":"text-gray-800 hover:text-green-700 hover:bg-green-50 hover:shadow-md"}`,children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx("span",{className:"font-medium",children:P.menuName}),s.jsxs("span",{className:"ml-2 text-xs text-gray-500 bg-gray-100 px-2 py-0.5 rounded-full",children:[P.category.filter(W=>W.active).length," items"]})]}),s.jsx("svg",{className:`h-5 w-5 transition-transform duration-200 ${y===`mobile-menu-${P.menuId}`?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),y===`mobile-menu-${P.menuId}`&&s.jsxs("div",{className:"mt-2 w-full bg-white rounded-lg shadow-lg ring-1 ring-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-4 py-2 bg-gray-50 border-b border-gray-100",children:s.jsxs("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:[P.menuName," Categories"]})}),s.jsx("div",{className:"max-h-60 overflow-y-auto",children:P.category.filter(W=>W.active).sort((W,T)=>W.orderBy-T.orderBy).map(W=>s.jsx("button",{onClick:()=>D(W.categoryId,W.category),className:"w-full px-4 py-2.5 text-left text-sm font-medium text-gray-900 transition-all duration-150 hover:bg-green-50 hover:text-green-700 border-b border-gray-100 last:border-b-0",children:W.category},W.categoryId))})]})]},P.menuId)}if(P.menuName.toLowerCase()==="all"){const ne=ee(P.menuName);return s.jsx("button",{onClick:()=>{I(),q()},className:`block w-full text-left px-4 py-3 text-sm font-semibold transition-all duration-200 rounded-lg bg-white shadow-sm ring-1 ring-gray-200 ${ne?"text-green-700 bg-green-100 ring-green-200 shadow-md":"text-gray-800 hover:text-green-700 hover:bg-green-50 hover:shadow-md"}`,children:P.menuName},P.menuId)}else{const ne=ee(P.menuName);return s.jsx(Me,{to:J,onClick:I,className:`block px-4 py-3 text-sm font-semibold transition-all duration-200 rounded-lg bg-white shadow-sm ring-1 ring-gray-200 ${ne?"text-green-700 bg-green-100 ring-green-200 shadow-md":"text-gray-800 hover:text-green-700 hover:bg-green-50 hover:shadow-md"}`,children:P.menuName},P.menuId)}}):s.jsx("div",{className:"text-center py-8",children:s.jsx("div",{className:"text-gray-500 text-sm",children:"No menu items available"})})})]})})]})}),s.jsx("main",{className:"flex-1",children:e}),s.jsx("footer",{className:"bg-gray-800 text-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-6 xl:px-8 py-6 sm:py-8",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8",children:[s.jsxs("div",{className:"col-span-1 sm:col-span-2",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3 sm:mb-4",children:"Himalaya Seeds"}),s.jsx("p",{className:"text-gray-300 mb-3 sm:mb-4 text-sm sm:text-base",children:"Premium quality seeds for your garden. We provide the best varieties of vegetables, fruits, and herbs to help you grow healthy and delicious produce."}),s.jsxs("div",{className:"flex space-x-3 sm:space-x-4",children:[s.jsx("button",{type:"button",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Follow us on Twitter",children:s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),s.jsx("button",{type:"button",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Follow us on Facebook",children:s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"})})}),s.jsx("button",{type:"button",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Follow us on Pinterest",children:s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.174-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.749.099.12.112.225.085.347-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.402.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.357-.629-2.751-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146C9.57 23.812 10.763 24.009 12.017 24.009c6.624 0 11.99-5.367 11.99-11.988C24.007 5.367 18.641.001 12.017.001z"})})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3 sm:mb-4",children:"Quick Links"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(Me,{to:"/about",className:"text-gray-300 hover:text-white transition-colors text-sm sm:text-base",children:"About Us"})}),s.jsx("li",{children:s.jsx(Me,{to:"/contact",className:"text-gray-300 hover:text-white transition-colors text-sm sm:text-base",children:"Contact"})}),s.jsx("li",{children:s.jsx(Me,{to:"/shipping",className:"text-gray-300 hover:text-white transition-colors text-sm sm:text-base",children:"Shipping Info"})}),s.jsx("li",{children:s.jsx(Me,{to:"/returns",className:"text-gray-300 hover:text-white transition-colors text-sm sm:text-base",children:"Returns"})}),s.jsx("li",{children:s.jsx(Me,{to:"/faq",className:"text-gray-300 hover:text-white transition-colors text-sm sm:text-base",children:"FAQ"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3 sm:mb-4",children:"Customer Service"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(Me,{to:"/help",className:"text-gray-300 hover:text-white transition-colors text-sm sm:text-base",children:"Help Center"})}),s.jsx("li",{children:s.jsx(Me,{to:"/track-order",className:"text-gray-300 hover:text-white transition-colors text-sm sm:text-base",children:"Track Order"})}),s.jsx("li",{children:s.jsx(Me,{to:"/privacy",className:"text-gray-300 hover:text-white transition-colors text-sm sm:text-base",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx(Me,{to:"/terms",className:"text-gray-300 hover:text-white transition-colors text-sm sm:text-base",children:"Terms of Service"})})]})]})]}),s.jsx("div",{className:"border-t border-gray-700 mt-6 sm:mt-8 pt-6 sm:pt-8 text-center",children:s.jsx("p",{className:"text-gray-300 text-sm sm:text-base",children:" 2024 Himalaya Seeds. All rights reserved."})})]})}),s.jsx(K2,{isOpen:N,onClose:()=>M(!1)})]})},Wl=[{id:1,title:"MID-SEASON",subtitle:"SALE",discount:"30%",off:"OFF",brand:"CHARLES & KEITH",description:"Discover the latest fashion trends",buttonText:"Shop Now",background:"from-gray-900 to-gray-800",image:"/placeholder-image.jpg"},{id:2,title:"NEW COLLECTION",subtitle:"2024",description:"Elegant styles for every occasion",buttonText:"Explore Now",background:"from-purple-600 to-pink-600",image:"/placeholder-image.jpg"},{id:3,title:"SUMMER ESSENTIALS",subtitle:"TRENDING",description:"Light and comfortable fashion",buttonText:"Discover More",background:"from-blue-600 to-indigo-600",image:"/placeholder-image.jpg"}],IA=()=>{var f,p;const{products:e,loading:t,menuItems:a}=Ze(),[n,r]=u.useState(0);u.useEffect(()=>{const x=setInterval(()=>{r(h=>(h+1)%Wl.length)},5e3);return()=>clearInterval(x)},[]);const i=()=>{r(x=>(x+1)%Wl.length)},l=()=>{r(x=>(x-1+Wl.length)%Wl.length)},o=x=>{r(x)},c=e.slice(0,4),d=a.find(x=>x.menuName.toLowerCase()==="seed"),m=a.find(x=>x.menuName.toLowerCase()==="plants");return t.isLoading?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(_t,{size:"lg"})}):s.jsxs(s.Fragment,{children:[s.jsx("style",{children:`
          @keyframes fadeIn {
            from {
              opacity: 0;
              transform: translateY(30px);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
          .animate-fade-in {
            animation: fadeIn 1s ease-out forwards;
          }
          .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            line-height: 1.5;
            max-height: 3em; /* 2 lines * 1.5 line-height */
          }
          .line-clamp-3 {
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
            line-height: 1.5;
            max-height: 4.5em; /* 3 lines * 1.5 line-height */
          }
          .featured-product-card {
            height: 100%;
            display: flex;
            flex-direction: column;
          }
          .featured-product-content {
            display: flex;
            flex-direction: column;
            flex: 1;
          }
          .featured-product-description {
            flex: 1;
            margin-bottom: 1.5rem;
          }
        `}),s.jsxs("div",{className:"space-y-8",children:[s.jsx("section",{className:"pt-4 pb-12 px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"relative h-64 md:h-80 lg:h-96 overflow-hidden rounded-2xl shadow-2xl",children:[s.jsx("div",{className:"relative w-full h-full",children:Wl.map((x,h)=>s.jsxs("div",{className:`absolute inset-0 transition-transform duration-700 ease-in-out ${h===n?"translate-x-0":h<n?"-translate-x-full":"translate-x-full"}`,children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:x.image,alt:x.title,className:"w-full h-full object-cover"}),s.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${x.background} opacity-75`})]}),s.jsx("div",{className:"relative z-10 flex items-center justify-center h-full text-white px-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsx("h1",{className:"text-2xl md:text-4xl lg:text-6xl font-bold mb-2 md:mb-3 animate-fade-in tracking-wide",children:x.title}),s.jsx("p",{className:"text-lg md:text-2xl lg:text-3xl mb-1 md:mb-2 max-w-2xl mx-auto animate-fade-in font-semibold",children:x.subtitle}),x.discount&&s.jsx("div",{className:"text-3xl md:text-5xl lg:text-7xl font-bold mb-2 animate-fade-in",children:x.discount}),x.off&&s.jsx("p",{className:"text-lg md:text-2xl lg:text-3xl mb-2 animate-fade-in font-semibold",children:x.off}),x.brand&&s.jsx("p",{className:"text-xs md:text-sm lg:text-base mb-4 max-w-xl mx-auto opacity-90 animate-fade-in tracking-widest",children:x.brand}),s.jsx("p",{className:"text-xs md:text-sm lg:text-base mb-4 max-w-xl mx-auto opacity-90 animate-fade-in",children:x.description}),s.jsx("div",{className:"flex justify-center animate-fade-in",children:s.jsx(Me,{to:"/products",className:"bg-white text-gray-900 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-all duration-300 transform hover:scale-105 shadow-lg text-sm",children:x.buttonText})})]})})]},x.id))}),s.jsx("button",{onClick:l,className:"absolute left-3 md:left-4 top-1/2 -translate-y-1/2 z-20 bg-white bg-opacity-20 hover:bg-opacity-30 text-white p-1.5 md:p-2 rounded-full transition-all duration-300 backdrop-blur-sm",children:s.jsx("svg",{className:"w-4 h-4 md:w-5 md:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),s.jsx("button",{onClick:i,className:"absolute right-3 md:right-4 top-1/2 -translate-y-1/2 z-20 bg-white bg-opacity-20 hover:bg-opacity-30 text-white p-1.5 md:p-2 rounded-full transition-all duration-300 backdrop-blur-sm",children:s.jsx("svg",{className:"w-4 h-4 md:w-5 md:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),s.jsx("div",{className:"absolute bottom-3 md:bottom-4 left-1/2 -translate-x-1/2 z-20 flex space-x-2",children:Wl.map((x,h)=>s.jsx("button",{onClick:()=>o(h),className:`w-2 h-2 md:w-2.5 md:h-2.5 rounded-full transition-all duration-300 ${h===n?"bg-white scale-125":"bg-white bg-opacity-50 hover:bg-opacity-75"}`},h))})]})})}),s.jsxs("section",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Featured Products"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Discover our premium selection of seeds and plants"})]}),c.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 items-stretch",children:c.map(x=>{var v;const h=x.images.find(g=>g.main&&g.active),w=(h==null?void 0:h.poster)||((v=x.images[0])==null?void 0:v.poster)||"/placeholder-image.jpg";return s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow featured-product-card",style:{minHeight:"520px"},children:[s.jsxs("div",{className:"relative bg-gray-200 flex-shrink-0",children:[s.jsx("img",{src:w,alt:x.productName,className:"w-full h-48 object-cover"}),s.jsxs("div",{className:"absolute top-2 left-2 flex flex-col gap-1",children:[x.best_seller&&s.jsx("span",{className:"bg-red-500 text-white px-2 py-1 rounded-full text-xs font-semibold",children:"Best Seller"}),x.offer&&s.jsxs("span",{className:"bg-green-500 text-white px-2 py-1 rounded-full text-xs font-semibold",children:[x.offer," OFF"]})]})]}),s.jsxs("div",{className:"p-6 featured-product-content",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3 line-clamp-2",style:{minHeight:"3em"},children:x.productName}),s.jsx("p",{className:"text-gray-600 text-sm line-clamp-3 featured-product-description",style:{minHeight:"4.5em"},children:x.overview.length>100?`${x.overview.substring(0,100)}...`:x.overview}),s.jsx("div",{className:"mt-auto pt-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xl md:text-2xl font-bold text-green-600",children:ye(x.price)}),s.jsx(Me,{to:`/product/${x.productId}`,className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors text-sm font-medium whitespace-nowrap",children:"View Details"})]})})]})]},x.productId)})}):s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-600 text-lg",children:"No featured products available at the moment."})})]}),s.jsx("section",{className:"bg-gray-50 mt-12",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Browse by Category"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Find the perfect seeds and plants for your garden"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[d&&s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[s.jsx("div",{className:"h-48 bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center",children:s.jsx("svg",{className:"w-24 h-24 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Premium Seeds"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"High-quality seeds for vegetables, fruits, and herbs. Start your garden journey here."}),s.jsx("div",{className:"space-y-2",children:(f=d.category)==null?void 0:f.filter(x=>x.active).slice(0,4).map(x=>s.jsxs(Me,{to:Ac(d.menuName,x.category),className:"block text-green-600 hover:text-green-700 font-medium",children:[" ",x.category]},x.categoryId))})]})]}),m&&s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[s.jsx("div",{className:"h-48 bg-gradient-to-br from-emerald-400 to-emerald-600 flex items-center justify-center",children:s.jsx("svg",{className:"w-24 h-24 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Healthy Plants"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Ready-to-plant healthy saplings and mature plants for your garden and home."}),s.jsx("div",{className:"space-y-2",children:(p=m.category)==null?void 0:p.filter(x=>x.active).slice(0,4).map(x=>s.jsxs(Me,{to:Ac(m.menuName,x.category),className:"block text-green-600 hover:text-green-700 font-medium",children:[" ",x.category]},x.categoryId))})]})]})]})]})}),s.jsxs("section",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12 mt-12",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Why Choose Himalaya?"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Your trusted partner for quality seeds and plants"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-600 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Premium Quality"}),s.jsx("p",{className:"text-gray-600",children:"We carefully select and test all our seeds and plants to ensure the highest quality and germination rates."})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-600 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Fast Delivery"}),s.jsx("p",{className:"text-gray-600",children:"Quick and safe delivery of your seeds and plants with proper packaging to ensure freshness."})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-600 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Expert Support"}),s.jsx("p",{className:"text-gray-600",children:"Our gardening experts are always ready to help you with planting tips and care instructions."})]})]})]}),s.jsx("section",{className:"bg-green-600 text-white mt-12",children:s.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to Start Your Garden?"}),s.jsx("p",{className:"text-xl mb-8",children:"Join thousands of happy gardeners who trust Himalaya for their seeds and plants."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(Me,{to:d?Ac(d.menuName):"/seed/all-seed",className:"bg-white text-green-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors inline-block",children:"Browse Seeds"}),s.jsx(Me,{to:m?Ac(m.menuName):"/plants/all-plants",className:"border-2 border-white text-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-green-600 transition-colors inline-block",children:"Browse Plants"})]})]})})})]})]})};function zA({page:e=1,limit:t=12,search:a="",category:n=null,minPrice:r=0,maxPrice:i=1e3,rating:l="",inStock:o="",bestSeller:c="",hasOffer:d="",sortBy:m="productName",sortOrder:f="asc",enabled:p=!0}){return bt({queryKey:["products","search",{page:e,limit:t,search:a,category:n,minPrice:r,maxPrice:i,rating:l,inStock:o,bestSeller:c,hasOffer:d,sortBy:m,sortOrder:f}],queryFn:async()=>{const x=m==="default"?"productName":m,h={page:e,limit:t,search:a||"",minPrice:r,maxPrice:i,sortBy:x,sortOrder:f};return n&&(h.category=n),l&&l.trim()!==""&&(h.rating=l),o&&o.trim()!==""&&(h.inStock=o),c&&c.trim()!==""&&(h.bestSeller=c),d&&d.trim()!==""&&(h.hasOffer=d),(await fe.searchProducts({...h,sortBy:x,sortOrder:f})).data},enabled:p,staleTime:3e4,gcTime:10*60*1e3,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,retry:0})}const W2=ke.memo(({onSearch:e,currentQuery:t="",className:a="",placeholder:n="Search products..."})=>{const[r,i]=u.useState(t),l=u.useRef(null),o=pa();u.useEffect(()=>{i(t)},[t]);const c=u.useCallback(p=>{i(p),e?e(p):o(`/search?q=${encodeURIComponent(p)}`)},[e,o]),d=u.useCallback(p=>{const x=p.target.value;i(x),!x.trim()&&e&&e("")},[e]),m=u.useCallback(p=>{p.preventDefault(),c(r.trim())},[r,c]),f=u.useCallback(()=>{i(""),e&&e(""),l.current&&l.current.focus()},[e]);return s.jsx("div",{className:`relative ${a}`,children:s.jsx("form",{onSubmit:m,className:"relative",children:s.jsxs("div",{className:"relative",children:[s.jsx("input",{ref:l,type:"text",value:r,onChange:d,placeholder:n,className:"w-full px-4 py-2 pr-20 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none"}),r&&s.jsx("button",{type:"button",onClick:f,className:"absolute right-10 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-red-600 transition-colors p-1","aria-label":"Clear search",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-green-600 transition-colors p-1","aria-label":"Search",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})})})},(e,t)=>{const a=e.onSearch!==t.onSearch,n=e.currentQuery===t.currentQuery&&e.className===t.className&&e.placeholder===t.placeholder;return!a&&n});W2.displayName="SearchBar";const X2=ke.memo(({onFilterChange:e,currentFilters:t,className:a=""})=>{const[n,r]=u.useState(!1),[i,l]=u.useState(t.priceRange),o=u.useRef(null),c=u.useMemo(()=>({min:0,max:1e3}),[]);u.useEffect(()=>{l(t.priceRange)},[t.priceRange]),u.useEffect(()=>(o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{(i.min!==t.priceRange.min||i.max!==t.priceRange.max)&&m("priceRange",i)},800),()=>{o.current&&clearTimeout(o.current)}),[i,t.priceRange]);const d=u.useMemo(()=>[{rating:5,label:"5 Stars & up"},{rating:4,label:"4 Stars & up"},{rating:3,label:"3 Stars & up"},{rating:2,label:"2 Stars & up"},{rating:1,label:"1 Star & up"}],[]),m=(v,g)=>{if(v==="priceRange"){const y={min:typeof g.min=="string"?Number(g.min)||c.min:g.min,max:typeof g.max=="string"?Number(g.max)||c.max:g.max},b={...t,[v]:y};e(b)}else{const y={...t,[v]:g};e(y)}},f=(v,g)=>{const y=g===""?g:parseInt(g);l(b=>({...b,[v]:y===""?"":isNaN(y)?b[v]:y}))},p=()=>{o.current&&clearTimeout(o.current);const v={min:i.min===""?c.min:Number(i.min),max:i.max===""?c.max:Number(i.max)};(v.min!==t.priceRange.min||v.max!==t.priceRange.max)&&m("priceRange",v)},x=v=>{const g=t.ratings.includes(v)?[]:[v];m("ratings",g)},h=u.useCallback(()=>{const v={priceRange:{min:c.min,max:c.max},categories:[],ratings:[],inStock:!1,bestSeller:!1,hasOffer:!1};l(v.priceRange),e(v)},[c,e]),w=v=>Array.from({length:5},(g,y)=>s.jsx("span",{className:`text-sm ${y<v?"text-yellow-400":"text-gray-300"}`,children:""},y));return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"lg:hidden mb-3 sm:mb-4",children:s.jsxs("button",{onClick:()=>r(!n),className:"flex items-center justify-between w-full px-3 sm:px-4 py-2 sm:py-3 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:[s.jsx("span",{children:"Filters"}),s.jsx("svg",{className:`w-4 h-4 sm:w-5 sm:h-5 transform transition-transform ${n?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),s.jsx("div",{className:`${a} ${n?"block":"hidden"} lg:block`,children:s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 sm:p-6 space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Filters"}),s.jsx("button",{onClick:h,className:"text-xs sm:text-sm text-green-600 hover:text-green-700 font-medium",children:"Clear All"})]}),s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsx("h4",{className:"text-xs sm:text-sm font-medium text-gray-900",children:"Price Range"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"number",value:i.min,onChange:v=>f("min",v.target.value),onBlur:p,className:"w-16 sm:w-20 px-2 py-1.5 sm:py-1 border border-gray-300 rounded text-xs sm:text-sm focus:ring-2 focus:ring-green-500 focus:border-green-500",min:"0",placeholder:"Min"}),s.jsx("span",{className:"text-gray-500 text-xs sm:text-sm",children:"-"}),s.jsx("input",{type:"number",value:i.max,onChange:v=>f("max",v.target.value),onBlur:p,className:"w-16 sm:w-20 px-2 py-1.5 sm:py-1 border border-gray-300 rounded text-xs sm:text-sm focus:ring-2 focus:ring-green-500 focus:border-green-500",min:"0",placeholder:"Max"})]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Default range: ",c.min," - ",c.max]})]})]}),s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsx("h4",{className:"text-xs sm:text-sm font-medium text-gray-900",children:"Rating"}),s.jsx("div",{className:"space-y-2",children:d.map(({rating:v,label:g})=>s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:t.ratings.includes(v),onChange:()=>x(v),className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),s.jsxs("div",{className:"flex items-center space-x-1",children:[w(v),s.jsx("span",{className:"text-xs sm:text-sm text-gray-700",children:g})]})]},v))})]}),s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsx("h4",{className:"text-xs sm:text-sm font-medium text-gray-900",children:"Availability"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:t.inStock,onChange:v=>m("inStock",v.target.checked),className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),s.jsx("span",{className:"text-xs sm:text-sm text-gray-700",children:"In Stock Only"})]}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:t.bestSeller,onChange:v=>m("bestSeller",v.target.checked),className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),s.jsx("span",{className:"text-xs sm:text-sm text-gray-700",children:"Best Sellers"})]}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:t.hasOffer,onChange:v=>m("hasOffer",v.target.checked),className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),s.jsx("span",{className:"text-xs sm:text-sm text-gray-700",children:"On Sale"})]})]})]})]})})]})},(e,t)=>e.className===t.className&&e.onFilterChange===t.onFilterChange&&JSON.stringify(e.currentFilters)===JSON.stringify(t.currentFilters));X2.displayName="FilterSidebar";const Z2=ke.memo(({onSortChange:e,className:t="",currentSort:a="default"})=>{const[n,r]=u.useState(!1),[i,l]=u.useState(a),o=u.useRef(null);u.useEffect(()=>{l(a)},[a]);const c=u.useMemo(()=>[{value:"default",label:"Default",order:"asc"},{value:"name-asc",label:"Name: A to Z",order:"asc"},{value:"name-desc",label:"Name: Z to A",order:"desc"},{value:"price-asc",label:"Price: Low to High",order:"asc"},{value:"price-desc",label:"Price: High to Low",order:"desc"},{value:"rating-desc",label:"Rating: High to Low",order:"desc"},{value:"rating-asc",label:"Rating: Low to High",order:"asc"},{value:"popularity-desc",label:"Most Popular",order:"desc"},{value:"newest",label:"Newest First",order:"desc"},{value:"best-seller",label:"Best Sellers",order:"desc"}],[]),d=u.useCallback(()=>{const p=c.find(x=>x.value===i);return p?p.label:"Default"},[c,i]),m=u.useCallback(p=>{l(p.value),r(!1);let x="default";p.value!=="default"&&(p.value.includes("name")?x="productName":p.value.includes("price")?x="price":p.value.includes("rating")?x="rating":p.value.includes("popularity")?x="userBuyCount":p.value==="newest"?x="created":p.value==="best-seller"&&(x="bestSeller")),e(x,p.order)},[e]),f=u.useCallback(p=>{p.key==="Escape"&&r(!1)},[]);return u.useEffect(()=>{const p=x=>{o.current&&!o.current.contains(x.target)&&r(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]),s.jsxs("div",{className:`relative ${t}`,ref:o,children:[s.jsxs("button",{onClick:()=>r(!n),onKeyDown:f,className:"flex items-center justify-between w-full px-3 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 min-w-0",children:[s.jsxs("span",{className:"flex items-center min-w-0 flex-1",children:[s.jsx("svg",{className:"w-4 h-4 mr-2 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2V7zm0 0V5a2 2 0 012-2h6l2 2h6a2 2 0 012 2v2M7 13h10M7 17h4"})}),s.jsxs("span",{className:"truncate",children:["Sort by: ",d()]})]}),s.jsx("svg",{className:`w-4 h-4 ml-2 flex-shrink-0 transition-transform ${n?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&s.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto left-0",children:s.jsx("div",{className:"py-1",children:c.map(p=>s.jsx("button",{onClick:()=>m(p),className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 focus:outline-none focus:bg-gray-100 ${i===p.value?"bg-green-50 text-green-700 font-medium":"text-gray-700"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:p.label}),i===p.value&&s.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]})},p.value))})})]})},(e,t)=>e.currentSort===t.currentSort&&e.className===t.className);Z2.displayName="SortingDropdown";const Rn=ke.memo(({src:e,alt:t,className:a="",fallbackSrc:n="/placeholder-image.jpg",placeholder:r,onError:i,onLoad:l,onClick:o,lazy:c=!0,priority:d=!1,sizes:m,quality:f=75,blurDataURL:p})=>{const[x,h]=u.useState(""),[w,v]=u.useState(!0),[g,y]=u.useState(!1),[b,j]=u.useState(d||!c),E=u.useRef(null),k=u.useRef(null),S=u.useCallback(A=>{if(A.startsWith("http")&&!A.includes("localhost:5002"))return A;const z=ns;let H=A;return A.startsWith("http")||(H=A.startsWith("/")?`${z}${A}`:`${z}/${A}`),H},[]);u.useEffect(()=>{if(!c||d)return;const A=new IntersectionObserver(z=>{z.forEach(H=>{H.isIntersecting&&(j(!0),A.disconnect())})},{rootMargin:"50px",threshold:.1});return E.current&&(A.observe(E.current),k.current=A),()=>{k.current&&k.current.disconnect()}},[c,d]),u.useEffect(()=>{if(d||!c){const A=S(e);h(A),v(!0),y(!1)}else if(b){const A=S(e);h(A),v(!0),y(!1)}},[b,e,S,c,d]);const N=u.useCallback(()=>{v(!1),l==null||l()},[l]),M=u.useCallback(()=>{v(!1),y(!0),h(n),i==null||i()},[n,i]),R=()=>{if(p)return p;const A=document.createElement("canvas");A.width=400,A.height=400;const z=A.getContext("2d");if(z){const H=z.createLinearGradient(0,0,400,400);H.addColorStop(0,"#f3f4f6"),H.addColorStop(1,"#e5e7eb"),z.fillStyle=H,z.fillRect(0,0,400,400)}return A.toDataURL("image/jpeg",.1)};return s.jsxs("div",{className:`relative overflow-hidden ${a}`,children:[w&&!g&&s.jsxs("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:[s.jsx("img",{src:R(),alt:"",className:"w-full h-full object-cover filter blur-sm scale-110",style:{opacity:.5}}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-400"})})]}),x&&s.jsx("img",{ref:E,src:x,alt:t,className:`w-full h-full object-cover transition-all duration-300 ${w?"opacity-0":"opacity-100"} ${g?"filter grayscale":""} ${o?"cursor-pointer":""}`,onLoad:N,onError:M,onClick:o,loading:c&&!d?"lazy":"eager",decoding:"async",sizes:m}),g&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),s.jsx("p",{className:"text-xs",children:"Image unavailable"})]})}),w&&!g&&s.jsx("div",{className:"absolute top-2 right-2 bg-black bg-opacity-60 text-white text-xs px-2 py-1 rounded",children:"Loading..."})]})},(e,t)=>e.src===t.src&&e.alt===t.alt&&e.className===t.className&&e.fallbackSrc===t.fallbackSrc);Rn.displayName="ImageLoader";const ex=ke.memo(({product_id:e,size:t="md",variant:a="icon",showText:n=!1,className:r="",onToggle:i})=>{const{requireAuthWithMessage:l}=Jf(),{inWishlist:o,loading:c,toggleWishlist:d}=DA(e),m=u.useCallback(x=>{x.preventDefault(),x.stopPropagation(),l("Please log in to save items to your wishlist.",async()=>{try{await d(),i==null||i(o)}catch{}})},[l,d,o,i]),f=u.useMemo(()=>({sm:"w-6 h-6 p-1",md:"w-8 h-8 p-1.5",lg:"w-10 h-10 p-2"}),[]),p=u.useMemo(()=>({sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"}),[]);return a==="button"?s.jsxs("button",{onClick:m,disabled:c,className:`
          inline-flex items-center justify-center px-3 py-2 rounded-lg font-medium transition-all duration-200
          ${o?"bg-red-50 text-red-600 border border-red-200 hover:bg-red-100":"bg-gray-50 text-gray-600 border border-gray-200 hover:bg-gray-100"}
          ${c?"opacity-50 cursor-not-allowed":"hover:scale-105"}
          ${r}
        `,children:[c?s.jsx(Vu,{className:`${p[t]} animate-spin`}):s.jsx(Vl,{className:`${p[t]} ${o?"fill-current":""}`}),n&&s.jsx("span",{className:"ml-2 text-sm",children:o?"Saved":"Save"})]}):a==="compact"?s.jsxs("button",{onClick:m,disabled:c,className:`
          inline-flex items-center justify-center px-2 py-1 rounded-md text-sm font-medium transition-all duration-200
          ${o?"bg-red-50 text-red-600 hover:bg-red-100":"bg-gray-50 text-gray-600 hover:bg-gray-100"}
          ${c?"opacity-50 cursor-not-allowed":"hover:scale-105"}
          ${r}
        `,children:[c?s.jsx(Vu,{className:"w-3 h-3 animate-spin"}):s.jsx(Vl,{className:`w-3 h-3 ${o?"fill-current":""}`}),n&&s.jsx("span",{className:"ml-1",children:o?"Saved":"Save"})]}):s.jsx("button",{onClick:m,disabled:c,className:`
        ${f[t]} rounded-full transition-all duration-200 flex items-center justify-center
        ${o?"bg-red-50 text-red-600 hover:bg-red-100":"bg-white/80 text-gray-600 hover:bg-white hover:text-red-500"}
        ${c?"opacity-50 cursor-not-allowed":"hover:scale-110 active:scale-95"}
        backdrop-blur-sm border border-white/20 shadow-sm
        ${r}
      `,title:o?"Remove from wishlist":"Add to wishlist",children:c?s.jsx(Vu,{className:`${p[t]} animate-spin`}):s.jsx(Vl,{className:`${p[t]} transition-all duration-200 ${o?"fill-current scale-110":""}`})})},(e,t)=>e.product_id===t.product_id&&e.size===t.size&&e.variant===t.variant&&e.showText===t.showText&&e.className===t.className&&e.onToggle===t.onToggle);ex.displayName="WishlistButton";const J2=ke.memo(({product:e,viewMode:t,onAddToCart:a,onViewDetails:n,onQuantityChange:r,className:i="",showWishlist:l=!0,showQuickActions:o=!0,showQuantityControls:c=!1,currentQuantity:d=0,isInCart:m=!1})=>{const f=u.useCallback(v=>{v.stopPropagation(),a(1)},[a]),p=u.useCallback(v=>{v.stopPropagation(),n()},[n]),x=u.useCallback(v=>{v.stopPropagation(),r?r(d+1):a(1)},[r,a,d]),h=u.useCallback(v=>{v.stopPropagation(),r&&r(Math.max(0,d-1))},[r,d]),w=u.useMemo(()=>{if(!e.images||e.images.length===0)return"/placeholder-image.jpg";const v=e.images.find(b=>b.main&&b.active)||e.images.find(b=>b.active)||e.images[0];if(!v)return"/placeholder-image.jpg";const g=ns,y=v.thumbnailUrl||v.poster;return y&&y.trim()!==""?y.startsWith("http")?y:y.startsWith("/")?`${g}${y}`:`${g}/${y}`:v.imageId&&e.productId?`${g}/api/1.0/products/${e.productId}/thumbnail`:"/placeholder-image.jpg"},[e.images,e.productId]);return t==="list"?s.jsx("div",{className:`bg-white border border-gray-200 rounded-lg hover:shadow-md transition-shadow cursor-pointer group ${i}`,children:s.jsxs("div",{className:"flex gap-4 p-4",children:[s.jsx("div",{className:"w-24 h-24 flex-shrink-0 cursor-pointer",onClick:n,children:s.jsx(Rn,{src:w,alt:e.productName,className:"w-full h-full rounded-lg group-hover:scale-105 transition-transform duration-300",fallbackSrc:"/placeholder-image.jpg",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 25vw",quality:85,lazy:!1,priority:!0})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1 truncate",children:e.productName}),s.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:e.productDescription}),s.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[s.jsx("div",{className:"flex items-center",children:[...Array(5)].map((v,g)=>s.jsx(On,{className:`w-4 h-4 ${g<e.rating?"text-yellow-400 fill-current":"text-gray-300"}`},g))}),s.jsxs("span",{className:"text-sm text-gray-600",children:["(",e.rating,")"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xl font-bold text-gray-900",children:ye(e.price)}),e.originalPrice&&e.originalPrice>e.price&&s.jsx("span",{className:"text-sm text-gray-500 line-through",children:ye(e.originalPrice)})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[l&&s.jsx(ex,{product_id:e.productId,size:"sm",variant:"compact"}),o&&s.jsx("button",{onClick:p,className:"p-3 text-gray-400 hover:text-green-600 transition-colors",title:"View Details",children:s.jsx(Is,{className:"w-5 h-5"})}),c&&m?s.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md overflow-hidden",children:[s.jsx("button",{onClick:h,disabled:d<=0,className:"px-4 py-3 border-r border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 transition-colors bg-white text-gray-700",children:""}),s.jsx("span",{className:"px-4 py-3 min-w-[50px] text-center bg-white font-medium",children:d}),s.jsx("button",{onClick:x,disabled:d>=e.quantity,className:"px-4 py-3 border-l border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 transition-colors bg-white text-gray-700",children:"+"})]}):s.jsxs("button",{onClick:f,disabled:!e.inStock,className:"flex items-center gap-1 px-3 py-1.5 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[s.jsx(Ql,{className:"w-4 h-4"}),"Add"]})]})]})]})]})}):s.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg hover:shadow-md transition-shadow cursor-pointer group ${i}`,children:[s.jsxs("div",{className:"relative aspect-square bg-gray-100 rounded-t-lg overflow-hidden cursor-pointer",onClick:n,children:[s.jsx(Rn,{src:w,alt:e.productName,className:"w-full h-full group-hover:scale-105 transition-transform duration-300",fallbackSrc:"/placeholder-image.jpg",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 25vw",quality:85,lazy:!1,priority:!0}),l&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx(ex,{product_id:e.productId,size:"md",variant:"icon"})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-1 line-clamp-2",children:e.productName}),s.jsxs("div",{className:"flex items-center gap-1 mb-3",children:[s.jsx("div",{className:"flex items-center",children:[...Array(5)].map((v,g)=>s.jsx(On,{className:`w-4 h-4 ${g<e.rating?"text-yellow-400 fill-current":"text-gray-300"}`},g))}),s.jsxs("span",{className:"text-sm text-gray-600",children:["(",e.rating,")"]})]}),s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-lg font-bold text-gray-900",children:ye(e.price)}),e.originalPrice&&e.originalPrice>e.price&&s.jsx("span",{className:"text-sm text-gray-500 line-through",children:ye(e.originalPrice)})]})}),c&&m?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("button",{onClick:h,disabled:d<=0,className:"px-4 py-3 border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 transition-colors bg-white text-gray-700",children:""}),s.jsx("span",{className:"px-4 py-3 min-w-[50px] text-center bg-gray-50 border border-gray-300 rounded-md font-medium",children:d}),s.jsx("button",{onClick:x,disabled:d>=e.quantity,className:"px-4 py-3 border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 transition-colors bg-white text-gray-700",children:"+"})]}):s.jsxs("button",{onClick:f,disabled:!e.inStock,className:"w-full flex items-center justify-center gap-2 py-2 px-4 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[s.jsx(Ql,{className:"w-4 h-4"}),e.inStock?"Add to Cart":"Out of Stock"]})]})]})},(e,t)=>e.product.productId===t.product.productId&&e.product.price===t.product.price&&e.product.quantity===t.product.quantity&&e.product.inStock===t.product.inStock&&e.viewMode===t.viewMode&&e.currentQuantity===t.currentQuantity&&e.isInCart===t.isInCart&&e.className===t.className);J2.displayName="ProductCard";const $A=({count:e=1})=>s.jsx(s.Fragment,{children:Array.from({length:e}).map((t,a)=>s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg animate-pulse",children:[s.jsx("div",{className:"relative aspect-square bg-gray-200 rounded-t-lg overflow-hidden",children:s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-200 via-gray-300 to-gray-200"})}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"mb-2",children:[s.jsx("div",{className:"h-5 bg-gray-200 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/2"})]}),s.jsxs("div",{className:"flex items-center gap-1 mb-3",children:[s.jsx("div",{className:"flex items-center gap-0.5",children:[...Array(5)].map((n,r)=>s.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"},r))}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-8 ml-1"})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-20"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})]}),s.jsx("div",{className:"w-full h-10 bg-gray-200 rounded-md"})]})]},a))}),tx=({categoryId:e,categoryName:t})=>{const{menuItems:a,user:n}=Ze(),{addToCart:r,cart:i}=vi(),{menuName:l,categorySlug:o}=ij(),c=pa(),d=ta(),m=()=>({priceRange:{min:0,max:1e3},categories:[],ratings:[],inStock:!1,bestSeller:!1,hasOffer:!1}),[f,p]=u.useState(e||null),[x,h]=u.useState(t||""),[w,v]=u.useState(""),[g,y]=u.useState("default"),[b,j]=u.useState("asc"),[E,k]=u.useState(m()),[S,N]=u.useState(1),[M,R]=u.useState(!1),[A,z]=u.useState([]),[H,oe]=u.useState(0),[Q,I]=u.useState(!1),D=ke.useRef(0),q=ke.useRef(""),K=ke.useRef(""),ae=g==="default"?"productName":g,ee=ke.useMemo(()=>({search:w,category:f,minPrice:E.priceRange.min,maxPrice:E.priceRange.max,rating:E.ratings.length>0?E.ratings[0].toString():"",inStock:E.inStock?"true":"",bestSeller:E.bestSeller?"true":"",hasOffer:E.hasOffer?"true":"",sortBy:ae,sortOrder:b}),[w,f,E,ae,b]),[re,P]=u.useState(ee);u.useEffect(()=>{const $=JSON.stringify(ee);if($!==K.current){const be=setTimeout(()=>{K.current=$,P(ee)},50);return()=>clearTimeout(be)}},[ee]);const{data:J,isLoading:ne,isError:C,error:W}=zA({page:S,limit:12,...re,enabled:!0});u.useEffect(()=>{z([]),N(1),oe(0),I(!1),D.current=0,R(!1)},[re]),u.useEffect(()=>{if(J&&S!==D.current){const $=J.products||[],be=J.pagination||{};if(!Array.isArray($)){R(!1);return}oe(be.total||0),I(be.hasNext||!1),S===1?(z($),D.current=1):(z(Pe=>{const U=new Set(Pe.map(B=>B.productId)),ce=$.filter(B=>!U.has(B.productId));return ce.length===0?Pe:[...Pe,...ce]}),D.current=S),R(!1)}else if(!J&&ne)return},[J,S,ne]);const T=A,G=C?W instanceof Error?W.message:"Failed to fetch products":null;u.useEffect(()=>{if(d.state&&typeof d.state=="object"){const $=d.state;if($.categoryId&&$.categoryName){const be=`${$.categoryId}-${$.categoryName}`;q.current!==be&&(q.current=be,u.startTransition(()=>{p($.categoryId??null),h($.categoryName||""),v("")}),setTimeout(()=>{c(d.pathname,{replace:!0,state:{}})},0));return}}if(l&&a.length>0){const $=a.find(be=>be.menuName.toLowerCase().replace(/\s+/g,"-")===l);if($&&$.category&&o){const be=$.category.find(Pe=>Pe.category.toLowerCase().replace(/\s+/g,"-")===o);if(be){const Pe=`${be.categoryId}-${be.category}`;q.current!==Pe&&(q.current=Pe,p(be.categoryId),h(be.category))}}else if($&&!o){const be=`menu-${$.menuName}`;q.current!==be&&(q.current=be,h($.menuName),p(null))}}},[d.state,d.pathname,c,l,o,a]);const te=u.useCallback(()=>{Q&&!M&&!ne&&T.length<H&&(R(!0),N($=>$+1))},[Q,M,ne,T.length,H]),ve=u.useCallback($=>i.some(be=>be.product.productId===$),[i]),xe=u.useCallback($=>{const be=i.find(Pe=>Pe.product.productId===$);return be?be.quantity:0},[i]),At=u.useCallback($=>{if(!n){const be=window.location.pathname+window.location.search,Pe=encodeURIComponent(be);c(`/login?returnUrl=${Pe}`);return}r({productId:$.productId,quantity:1})},[n,c,r]),Lt=u.useCallback(($,be)=>{if(!n){const ce=window.location.pathname+window.location.search,B=encodeURIComponent(ce);c(`/login?returnUrl=${B}`);return}const Pe=xe($.productId),U=be-Pe;U!==0&&r({productId:$.productId,quantity:U})},[n,c,r,xe]),ls=u.useCallback($=>{c(`/product/${$}`)},[c]),ga=u.useCallback($=>{v($),k({priceRange:{min:0,max:1e3},categories:[],ratings:[],inStock:!1,bestSeller:!1,hasOffer:!1}),p(null),$.trim()?(h(`Search results for "${$}"`),sessionStorage.removeItem("activeCategoryId"),sessionStorage.removeItem("activeCategoryName")):h("All Products")},[]),L=u.useCallback($=>{const be=$.priceRange.min===0&&$.priceRange.max===1e3&&$.categories.length===0&&$.ratings.length===0&&!$.inStock&&!$.bestSeller&&!$.hasOffer;k($),be&&(v(""),p(null),h("All Products"),sessionStorage.removeItem("activeCategoryId"),sessionStorage.removeItem("activeCategoryName")),z([]),N(1),D.current=0,R(!1)},[]),Ee=u.useCallback(($,be)=>{y($),j(be),z([]),N(1),D.current=0,R(!1)},[]);return G?s.jsx("div",{className:"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:s.jsx("div",{className:"bg-white rounded-lg border border-red-200 text-center py-12 sm:py-16 px-4",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 sm:h-16 sm:w-16 text-red-400 mb-3 sm:mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-2",children:"Something went wrong"}),s.jsxs("p",{className:"text-sm sm:text-base text-red-600 mb-4 sm:mb-6",children:["Error: ",G]}),s.jsx("button",{onClick:()=>window.location.reload(),className:"bg-green-600 text-white px-6 py-2.5 sm:py-3 rounded-lg hover:bg-green-700 transition-colors font-medium text-sm sm:text-base",children:"Try Again"})]})})}):s.jsxs("div",{className:"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:[s.jsxs("div",{className:"mb-4 sm:mb-6",children:[s.jsx("div",{className:"mb-4 sm:mb-6",children:s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:x||"All Products"})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 sm:p-4",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-3 lg:gap-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 lg:min-w-fit",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[T.length," ",T.length===1?"product":"products"," found"]}),H>T.length&&s.jsxs("span",{className:"text-xs text-gray-500",children:["(",H," total)"]}),T.length>0&&s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[Math.round(T.length/H*100),"% loaded"]})]}),s.jsx("div",{className:"flex-1 max-w-md lg:max-w-lg xl:max-w-xl",children:s.jsx(W2,{onSearch:ga,currentQuery:w})}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:min-w-fit",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:"Sort by:"}),s.jsx("div",{className:"w-48 sm:w-56",children:s.jsx(Z2,{onSortChange:Ee,currentSort:g==="default"?"default":g==="productName"?`name-${b}`:g==="price"?`price-${b}`:g==="rating"?`rating-${b}`:g==="userBuyCount"?`popularity-${b}`:g==="created"?"newest":g==="bestSeller"?"best-seller":"default"})})]})]})})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 sm:gap-6",children:[s.jsx("div",{className:"w-full lg:w-64 lg:flex-shrink-0",children:s.jsx(X2,{onFilterChange:L,currentFilters:E})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("div",{className:"relative min-h-[400px]",children:ne&&T.length===0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:s.jsx($A,{count:12})}):s.jsxs(s.Fragment,{children:[ne&&T.length>0&&s.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-90 flex items-center justify-center z-10 rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 bg-white px-4 sm:px-6 py-3 sm:py-4 rounded-lg shadow-lg border border-gray-200",children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 sm:h-6 sm:w-6 border-b-2 border-green-600"}),s.jsx("span",{className:"text-sm sm:text-base text-gray-700 font-medium",children:"Updating products..."})]})}),T.length===0&&!ne?s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 text-center py-12 sm:py-16 px-4",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 sm:h-16 sm:w-16 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2M4 13h2m13-8V4a1 1 0 00-1-1H7a1 1 0 00-1 1v1m8 0V4H9v1m4 0V4h1v1"})}),s.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-2",children:"No products found"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-500 mb-6",children:"Try adjusting your search or filter criteria to find what you're looking for."}),s.jsx("button",{onClick:()=>c("/"),className:"bg-green-600 text-white px-6 py-2.5 sm:py-3 rounded-lg hover:bg-green-700 transition-colors font-medium text-sm sm:text-base",children:"Browse All Products"})]})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:T.map($=>{const be={productId:$.productId,tenantId:$.tenantId,productName:$.productName,productDescription:$.productDescription,productCode:$.productCode,fullDescription:$.fullDescription,specification:$.specification,story:$.story,packQuantity:$.packQuantity,quantity:$.quantity,total:$.total,price:$.price,category:$.category,rating:$.rating,active:$.active,trending:$.trending,userBuyCount:$.userBuyCount,return:$.return,created:$.created,modified:$.modified,inStock:$.inStock,bestSeller:$.bestSeller,deliveryDate:$.deliveryDate,offer:$.offer,orderBy:$.orderBy,userId:$.userId,overview:$.overview,longDescription:$.longDescription,images:$.images.map(Pe=>({imageId:Pe.imageId,thumbnailUrl:Pe.thumbnailUrl,imageUrl:Pe.imageUrl,poster:Pe.poster,main:Pe.main,active:Pe.active,orderBy:Pe.orderBy}))};return s.jsx(J2,{product:be,viewMode:"grid",onAddToCart:()=>At($),onViewDetails:()=>ls($.productId),onQuantityChange:Pe=>Lt($,Pe),showQuantityControls:!0,currentQuantity:xe($.productId),isInCart:ve($.productId),showWishlist:!0,showQuickActions:!0},$.productId)})}),Q&&s.jsx("div",{className:"flex justify-center mt-6 sm:mt-8",children:s.jsx("button",{onClick:te,disabled:M,className:"bg-green-600 text-white px-6 sm:px-8 py-2.5 sm:py-3 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium text-sm sm:text-base w-full sm:w-auto",children:M?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Loading..."})]}):"Load More Products"})}),!Q&&T.length>0&&s.jsx("div",{className:"text-center py-6 sm:py-8 px-4",children:s.jsxs("div",{className:"inline-flex items-center gap-2 text-sm sm:text-base text-gray-500 bg-gray-50 px-3 sm:px-4 py-2 rounded-lg border border-gray-200",children:[s.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),s.jsx("span",{children:"You've reached the end of the product list"})]})})]})]})})})]})]})},UA=e=>bt({queryKey:["product-reviews",e],queryFn:async()=>{var n;const t=await fe.getProductReviews(e);return(((n=t.data)==null?void 0:n.data)||t.data||[]).map(r=>({reviewId:r.reviewId||r.ReviewId,productId:r.productId||r.ProductId,userId:r.userId||r.UserId,userName:r.userName||r.UserName||"Anonymous",userEmail:r.userEmail||r.UserEmail||"",rating:r.rating||r.Rating,title:r.title||r.Title||r.reviewTitle||r.ReviewTitle||"",comment:r.comment||r.Comment||r.reviewText||r.ReviewText||"",helpful:r.helpful||r.Helpful||r.helpfulCount||r.HelpfulCount||0,verified:r.verified||r.Verified||r.isVerifiedPurchase||r.IsVerifiedPurchase||!1,createdAt:r.createdAt||r.CreatedAt||new Date().toISOString(),updatedAt:r.updatedAt||r.UpdatedAt||new Date().toISOString()}))},enabled:!!e,staleTime:5*60*1e3}),FA=e=>bt({queryKey:["product-review-stats",e],queryFn:async()=>{var r;const t=await fe.getProductReviewStats(e),a=((r=t.data)==null?void 0:r.data)||t.data;if(!a)return{totalReviews:0,averageRating:0,ratingDistribution:{1:0,2:0,3:0,4:0,5:0}};const n={1:0,2:0,3:0,4:0,5:0};return a.ratingDistribution&&typeof a.ratingDistribution=="object"&&Object.keys(a.ratingDistribution).forEach(i=>{const l=parseInt(i);l>=1&&l<=5&&(n[l]=a.ratingDistribution[i])}),{totalReviews:a.totalReviews||a.TotalReviews||0,averageRating:parseFloat(a.averageRating||a.AverageRating||0),ratingDistribution:n}},enabled:!!e,staleTime:5*60*1e3});function qA(e){const t=e?typeof e=="string"?parseInt(e,10):e:null,a=t!==null&&!isNaN(t)&&t>0;return bt({queryKey:["product",t],queryFn:async()=>{if(!a||!t)return null;const n=await fe.getProductById(t);if(!n||!n.data)return null;const r=n.data,i=(r.images||[]).map(o=>({imageId:o.imageId||0,poster:o.poster||"",main:o.main||!1,active:o.active!==void 0?o.active:!0,orderBy:o.orderBy||0,thumbnailUrl:o.thumbnailUrl||null}));return{productId:r.productId,tenantId:r.tenantId,productName:r.productName,productDescription:r.productDescription,productCode:r.productCode,fullDescription:r.fullDescription,specification:r.specification,story:r.story,packQuantity:r.packQuantity,quantity:r.quantity,total:r.total,price:r.price,categrory:r.category||r.categrory,rating:r.rating,active:r.active,trending:r.trending,userBuyCount:r.userBuyCount,return:r.return,created:r.created,modified:r.modified,in_stock:r.inStock,best_seller:r.bestSeller,deleveryDate:r.deliveryDate,offer:r.offer,orderBy:r.orderBy,userId:r.userId,overview:r.overview,long_description:r.longDescription,images:i,reviews:[]}},enabled:a,staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,retry:1})}const e1=ke.memo(({images:e,productName:t,productId:a,className:n=""})=>{const[r,i]=u.useState(0),[l,o]=u.useState(!1),c=u.useMemo(()=>e.filter(h=>h.active!==!1).sort((h,w)=>(h.orderBy||0)-(w.orderBy||0)),[e]);u.useEffect(()=>{r>=c.length&&i(0)},[r,c.length]);const d=c[r]||null,m=u.useCallback(h=>{i(h)},[]),f=u.useCallback(()=>{i(h=>h>0?h-1:c.length-1)},[c.length]),p=u.useCallback(()=>{i(h=>h<c.length-1?h+1:0)},[c.length]);u.useEffect(()=>{const h=w=>{l&&(w.key==="ArrowLeft"&&f(),w.key==="ArrowRight"&&p(),w.key==="Escape"&&o(!1))};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[l,f,p]);const x=u.useCallback(h=>{const w=h.thumbnailUrl||h.poster;if(w&&w.trim()!==""){if(w.startsWith("http"))return w;const v=ns;return w.startsWith("/")?`${v}${w}`:`${v}/${w}`}return"/placeholder-image.jpg"},[]);return c.length?s.jsxs("div",{className:`${n} space-y-4`,children:[s.jsx("div",{className:"relative",children:s.jsxs("div",{className:"relative bg-gray-100 rounded-xl overflow-hidden group shadow-lg",style:{aspectRatio:"1/1",maxHeight:"600px"},children:[d?s.jsx(Rn,{src:x(d),alt:`${t} ${r+1}`,className:"w-full h-full cursor-pointer transition-opacity duration-300",onClick:()=>o(!0),sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 40vw",quality:90,lazy:!1,priority:!0}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx("svg",{className:"w-12 h-12 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),s.jsx("p",{className:"text-xs",children:"No image available"})]})}),c.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:f,className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-80 hover:bg-opacity-100 text-gray-800 p-2 rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200","aria-label":"Previous image",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),s.jsx("button",{onClick:p,className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-80 hover:bg-opacity-100 text-gray-800 p-2 rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200","aria-label":"Next image",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),c.length>1&&s.jsxs("div",{className:"absolute top-4 right-4 bg-black bg-opacity-60 text-white text-sm px-2 py-1 rounded",children:[r+1," / ",c.length]}),s.jsx("button",{onClick:()=>o(!0),className:"absolute top-4 left-4 bg-black bg-opacity-60 text-white p-2 rounded-lg hover:bg-opacity-80 transition-opacity","aria-label":"View fullscreen",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})})]})}),c.length>1&&s.jsx("div",{className:"relative",children:s.jsx("div",{className:"flex space-x-3 overflow-x-auto pb-2 scrollbar-hide",children:c.map((h,w)=>s.jsx("button",{onClick:()=>m(w),className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all duration-200 relative ${w===r?"border-green-600 ring-2 ring-green-200":"border-gray-200 hover:border-gray-400"}`,children:s.jsx(Rn,{src:x(h),alt:`${t} thumbnail ${w+1}`,className:"w-full h-full object-cover",sizes:"80px",quality:75,lazy:!1,priority:w<3})},`${h.imageId}-${w}`))})}),c.length>1&&s.jsx("div",{className:"flex justify-center space-x-2",children:c.map((h,w)=>s.jsx("button",{onClick:()=>m(w),className:`w-2 h-2 rounded-full transition-all duration-200 ${w===r?"bg-green-600 w-6":"bg-gray-300 hover:bg-gray-400"}`,"aria-label":`Go to image ${w+1}`},w))}),l&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-95 flex items-center justify-center p-4",children:s.jsxs("div",{className:"relative max-w-5xl max-h-full",children:[d?s.jsx(Rn,{src:x(d),alt:`${t} - Fullscreen`,className:"max-w-full max-h-full",sizes:"100vw",quality:95,lazy:!1,priority:!0}):s.jsx("div",{className:"text-white text-center",children:s.jsx("p",{children:"No image available"})}),s.jsx("button",{onClick:()=>o(!1),className:"absolute top-4 right-4 text-white bg-black bg-opacity-60 p-3 rounded-lg hover:bg-opacity-80 transition-opacity","aria-label":"Close fullscreen",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),c.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:f,className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white bg-black bg-opacity-60 p-3 rounded-lg hover:bg-opacity-80 transition-opacity","aria-label":"Previous image",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),s.jsx("button",{onClick:p,className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white bg-black bg-opacity-60 p-3 rounded-lg hover:bg-opacity-80 transition-opacity","aria-label":"Next image",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),s.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 text-white bg-black bg-opacity-60 px-4 py-2 rounded-lg",children:[r+1," / ",c.length]})]})})]}):s.jsx("div",{className:`${n} aspect-square bg-gray-100 rounded-lg flex items-center justify-center`,children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx("svg",{className:"w-12 h-12 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),s.jsx("p",{children:"No images available"})]})})},(e,t)=>e.productId===t.productId&&e.productName===t.productName&&e.images.length===t.images.length&&e.className===t.className);e1.displayName="ProductImageGallery";const t1=ke.memo(({productId:e,reviews:t,reviewStats:a,className:n=""})=>{const{user:r}=Ze(),i=Qt(),{showToast:l}=qa(),[o,c]=u.useState(1),[d,m]=u.useState(null),[f,p]=u.useState("newest"),[x,h]=u.useState(!1),[w,v]=u.useState(!1),[g,y]=u.useState({rating:0,title:"",comment:""}),b=5,j=u.useMemo(()=>{let A=t;return d!==null&&(A=A.filter(H=>H.rating===d)),[...A].sort((H,oe)=>{switch(f){case"newest":return new Date(oe.createdAt).getTime()-new Date(H.createdAt).getTime();case"oldest":return new Date(H.createdAt).getTime()-new Date(oe.createdAt).getTime();case"highest":return oe.rating-H.rating;case"lowest":return H.rating-oe.rating;case"helpful":return oe.helpful-H.helpful;default:return 0}})},[t,d,f]),E=u.useMemo(()=>{const A=(o-1)*b;return j.slice(A,A+b)},[j,o]),k=Math.ceil(j.length/b),S=u.useCallback((A,z="md")=>{const H=z==="sm"?"text-sm":z==="lg"?"text-xl":"text-base";return s.jsx("div",{className:"flex items-center",children:Array.from({length:5},(oe,Q)=>s.jsx("span",{className:`${H} ${Q<A?"text-yellow-400":"text-gray-300"}`,children:""},Q))})},[]),N=u.useCallback((A,z)=>s.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:5},(H,oe)=>s.jsx("button",{type:"button",onClick:()=>z(oe+1),className:`text-2xl transition-colors ${oe<A?"text-yellow-400":"text-gray-300 hover:text-yellow-200"}`,children:""},oe))}),[]),M=u.useCallback(async A=>{if(A.preventDefault(),!r){l("Please login to write a review","error");return}if(g.rating===0){l("Please select a rating","error");return}v(!0);try{await fe.createProductReview(e,{rating:g.rating,reviewTitle:g.title.trim()||void 0,reviewText:g.comment.trim()||void 0,userId:r.userId,tenantId:r.tenantId}),y({rating:0,title:"",comment:""}),h(!1),i.invalidateQueries({queryKey:["product-reviews",e]}),i.invalidateQueries({queryKey:["product-review-stats",e]}),l("Review submitted successfully!","success")}catch(z){l((z==null?void 0:z.message)||"Failed to submit review","error")}finally{v(!1)}},[r,g,e,i,l]),R=u.useCallback(async A=>{if(!r){l("Please login to mark reviews as helpful","error");return}try{await fe.markReviewHelpful(e,A),i.invalidateQueries({queryKey:["product-reviews",e]}),l("Thank you for your feedback!","success")}catch(z){l((z==null?void 0:z.message)||"Failed to mark review as helpful","error")}},[r,e,i,l]);return s.jsxs("div",{className:`${n} space-y-6`,children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Customer Reviews"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold text-green-600",children:a.averageRating.toFixed(1)}),s.jsx("div",{className:"flex justify-center mb-2",children:S(Math.round(a.averageRating),"lg")}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Based on ",a.totalReviews," reviews"]})]})}),s.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(A=>{const z=a.ratingDistribution[A]||0,H=a.totalReviews>0?z/a.totalReviews*100:0;return s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:()=>m(d===A?null:A),className:`flex items-center space-x-1 text-sm hover:text-green-600 transition-colors ${d===A?"text-green-600 font-medium":"text-gray-600"}`,children:[s.jsx("span",{children:A}),s.jsx("span",{className:"text-yellow-400",children:""})]}),s.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${H}%`}})}),s.jsx("span",{className:"text-sm text-gray-500 w-8",children:z})]},A)})})]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("select",{value:f,onChange:A=>p(A.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[s.jsx("option",{value:"newest",children:"Newest First"}),s.jsx("option",{value:"oldest",children:"Oldest First"}),s.jsx("option",{value:"highest",children:"Highest Rating"}),s.jsx("option",{value:"lowest",children:"Lowest Rating"}),s.jsx("option",{value:"helpful",children:"Most Helpful"})]}),d&&s.jsx("button",{onClick:()=>m(null),className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm hover:bg-gray-200 transition-colors",children:"Clear Filter"})]}),s.jsx("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Write Review"})]}),x&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Write a Review"}),s.jsxs("form",{onSubmit:M,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating"}),N(g.rating,A=>y(z=>({...z,rating:A})))]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Review Title"}),s.jsx("input",{type:"text",value:g.title,onChange:A=>y(z=>({...z,title:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Summarize your experience"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Review"}),s.jsx("textarea",{value:g.comment,onChange:A=>y(z=>({...z,comment:A.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Tell others about your experience with this product"})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:w,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Submitting...":"Submit Review"})]})]})]}),s.jsx("div",{className:"space-y-4",children:E.length>0?E.map(A=>s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsx("div",{className:"flex items-start justify-between mb-3",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-green-600 font-semibold",children:A.userName.charAt(0).toUpperCase()})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"font-medium text-gray-900",children:A.userName}),A.verified&&s.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"Verified Purchase"})]}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[S(A.rating,"sm"),s.jsx("span",{className:"text-sm text-gray-500",children:LA(A.createdAt)})]})]})]})}),s.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:A.title}),s.jsx("p",{className:"text-gray-700 mb-4",children:A.comment}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("button",{onClick:()=>R(A.reviewId),className:"flex items-center space-x-1 text-sm text-gray-500 hover:text-green-600 transition-colors",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"})}),s.jsxs("span",{children:["Helpful (",A.helpful,")"]})]})})]},A.reviewId)):s.jsx("div",{className:"text-center py-8 text-gray-500",children:d?`No reviews with ${d} stars found.`:"No reviews yet. Be the first to review this product!"})}),k>1&&s.jsxs("div",{className:"flex justify-center space-x-2",children:[s.jsx("button",{onClick:()=>c(A=>Math.max(1,A-1)),disabled:o===1,className:"px-3 py-2 border border-gray-300 rounded-lg text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),Array.from({length:k},(A,z)=>z+1).map(A=>s.jsx("button",{onClick:()=>c(A),className:`px-3 py-2 border rounded-lg text-sm ${A===o?"bg-green-600 text-white border-green-600":"border-gray-300 hover:bg-gray-50"}`,children:A},A)),s.jsx("button",{onClick:()=>c(A=>Math.min(k,A+1)),disabled:o===k,className:"px-3 py-2 border border-gray-300 rounded-lg text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})},(e,t)=>e.productId===t.productId&&e.reviews.length===t.reviews.length&&e.reviewStats.totalReviews===t.reviewStats.totalReviews&&e.reviewStats.averageRating===t.reviewStats.averageRating&&e.className===t.className);t1.displayName="ProductReviews";const PA=()=>{const{productId:e}=ij(),t=pa(),[a]=jf(),{user:n,loading:r}=Ze(),{addToCart:i,cart:l}=vi(),{requireAuthForCart:o}=Jf(),[c,d]=u.useState(1),[m,f]=u.useState(!1),{data:p,isLoading:x,isError:h,error:w}=qA(e);u.useEffect(()=>{window.scrollTo({top:0,behavior:"auto"})},[e]);const{data:v=[]}=UA((p==null?void 0:p.productId)||0),{data:g}=FA((p==null?void 0:p.productId)||0),y=l.find(z=>z.product.productId===(p==null?void 0:p.productId)),b=(y==null?void 0:y.quantity)||0,j=y?b:c,E=h?w instanceof Error?w.message:"Failed to load product":null;u.useEffect(()=>{if(m){const z=setTimeout(()=>{f(!1)},1e3);return()=>clearTimeout(z)}},[m]);const k=()=>{p&&o(()=>{i({productId:p.productId,quantity:c})})},S=async z=>{if(p){if(y&&!n){const H=window.location.pathname+window.location.search;t(`/login?returnUrl=${encodeURIComponent(H)}`);return}if(z>=0&&z<=p.quantity){if(y){const H=z-y.quantity;i({productId:p.productId,quantity:H})}else z>=1&&d(z);f(!0)}}},N=async z=>{z.preventDefault(),z.stopPropagation(),y?await S(b+1):S(c+1)},M=async z=>{z.preventDefault(),z.stopPropagation(),y?await S(b-1):S(c-1)},R=()=>{const z=a.get("returnUrl");if(z)try{const H=decodeURIComponent(z);t(H)}catch{t(-1)}else t(-1)},A=z=>Array.from({length:5},(H,oe)=>s.jsx("span",{className:`text-lg ${oe<z?"text-yellow-400":"text-gray-300"}`,children:""},oe));return x?s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})})}):E||!p?s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-red-600 mb-4",children:["Error: ",E||"Product not found"]}),s.jsx("button",{onClick:R,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition-colors",children:"Go Back"})]})}):s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:[s.jsx("div",{className:"mb-4 sm:mb-6",children:s.jsxs("button",{onClick:R,className:"flex items-center gap-2 px-4 py-2.5 text-gray-700 hover:text-green-700 hover:bg-green-50 rounded-lg transition-all duration-200 border border-gray-200 hover:border-green-300 font-medium shadow-sm hover:shadow",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),s.jsx("span",{className:"text-sm",children:"Back to Products"})]})}),s.jsxs("nav",{className:"mb-3 sm:mb-4 text-xs sm:text-sm text-gray-600",children:[s.jsx("button",{onClick:()=>t("/"),className:"hover:text-green-600",children:"Home"}),s.jsx("span",{className:"mx-1 sm:mx-2",children:""}),s.jsx("button",{onClick:R,className:"hover:text-green-600",children:"Products"}),s.jsx("span",{className:"mx-1 sm:mx-2",children:""}),s.jsx("span",{className:"text-gray-900 truncate",children:p.productName})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 lg:gap-8",children:[s.jsx("div",{className:"lg:max-w-lg mx-auto lg:mx-0",children:s.jsx(e1,{images:p.images,productName:p.productName,productId:p.productId})}),s.jsxs("div",{className:"space-y-4 sm:space-y-5",children:[s.jsxs("div",{className:"border-b border-gray-200 pb-3",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-1.5",children:p.productName}),s.jsxs("p",{className:"text-sm text-gray-500 mb-2.5",children:["Product Code: ",s.jsx("span",{className:"font-medium text-gray-700",children:p.productCode})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2.5",children:[s.jsx("span",{className:`px-3 py-1.5 rounded-full text-xs font-semibold ${p.in_stock?"bg-green-100 text-green-700 border border-green-200":"bg-red-100 text-red-700 border border-red-200"}`,children:p.in_stock?" In Stock":"Out of Stock"}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"flex items-center",children:A(p.rating)}),s.jsxs("span",{className:"text-sm text-gray-600",children:["(",p.userBuyCount||0," reviews)"]})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-4 border border-green-100",children:[s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsx("span",{className:"text-3xl sm:text-4xl font-bold text-green-600",children:ye(p.price)}),p.offer&&s.jsx("span",{className:"text-sm text-gray-500 line-through",children:ye(parseFloat(p.offer))})]}),p.best_seller&&s.jsx("span",{className:"inline-block mt-2 px-2 py-1 bg-green-600 text-white text-xs font-semibold rounded",children:"Best Seller"})]}),p.overview&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3.5",children:[s.jsxs("h3",{className:"text-base font-semibold text-gray-900 mb-1.5 flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Overview"]}),s.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:p.overview})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2.5 p-3.5 bg-gradient-to-br from-gray-50 to-green-50 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-gray-500 mb-1",children:"Pack Quantity"}),s.jsxs("div",{className:"text-base font-semibold text-gray-900",children:[p.packQuantity," units"]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-gray-500 mb-1",children:"Available"}),s.jsxs("div",{className:"text-base font-semibold text-green-700",children:[p.quantity," units"]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-gray-500 mb-1",children:"Delivery"}),s.jsxs("div",{className:"text-base font-semibold text-gray-900",children:[p.deleveryDate||0," days"]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-gray-500 mb-1",children:"Return Policy"}),s.jsxs("div",{className:"text-base font-semibold text-gray-900",children:[p.return||0," days"]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3.5",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2.5",children:"Quantity"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center border-2 border-green-200 rounded-lg overflow-hidden bg-white",children:[s.jsx("button",{type:"button",onClick:M,disabled:y?j<=0:j<=1,className:"px-4 py-3 border-r-2 border-green-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-green-50 focus:outline-none focus:bg-green-50 transition-colors duration-200 text-gray-700 font-semibold text-lg",children:""}),s.jsx("span",{className:`px-6 py-3 min-w-[70px] text-center bg-white font-bold text-lg transition-all duration-300 ${m?"bg-green-50 text-green-700":"text-gray-900"}`,children:j}),s.jsx("button",{type:"button",onClick:N,disabled:j>=p.quantity,className:"px-4 py-3 border-l-2 border-green-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-green-50 focus:outline-none focus:bg-green-50 transition-colors duration-200 text-gray-700 font-semibold text-lg",children:"+"})]}),s.jsx("span",{className:"text-sm text-gray-600 flex-1",children:y?`${j} in cart  ${p.quantity} available`:n?`${p.quantity} available`:`${p.quantity} available  Login to add to cart`})]})]}),!n&&!y&&s.jsxs("div",{className:"bg-green-50 border-l-4 border-green-400 rounded-lg p-3 flex items-start gap-2.5",children:[s.jsx("svg",{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsxs("p",{className:"text-xs text-green-800",children:[s.jsx("span",{className:"font-semibold",children:"Login required"})," to add items to cart and manage quantities."]})]}),y?s.jsxs("div",{className:"w-full py-3.5 px-6 rounded-lg font-semibold bg-green-100 text-green-700 border-2 border-green-300 text-center text-base flex items-center justify-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"In Cart (",b," ",b===1?"item":"items",")"]}):s.jsx("button",{onClick:k,disabled:!p.in_stock||r.isLoading,className:`w-full py-3.5 px-6 rounded-lg font-semibold transition-all duration-200 text-base shadow-lg ${!p.in_stock||r.isLoading?"bg-gray-300 text-gray-500 cursor-not-allowed shadow-none":"bg-green-600 text-white hover:bg-green-700 hover:shadow-xl active:scale-98"}`,title:!n&&p.in_stock?"Login required to add to cart":"",children:r.isLoading?"Adding...":p.in_stock?n?"Add to Cart":"Login to Add to Cart":"Out of Stock"})]})]}),s.jsxs("div",{className:"mt-6 sm:mt-8 bg-white border border-gray-200 rounded-xl p-5 sm:p-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Description"]}),s.jsx("div",{className:"prose max-w-none",children:s.jsx("p",{className:"text-base text-gray-700 leading-relaxed",children:p.long_description||p.productDescription||"No description available."})})]}),p.specification&&s.jsxs("div",{className:"mt-4 sm:mt-5 bg-white border border-gray-200 rounded-xl p-5 sm:p-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Specifications"]}),s.jsx("div",{className:"prose max-w-none",children:s.jsx("p",{className:"text-base text-gray-700 leading-relaxed",children:p.specification})})]}),p.story&&s.jsxs("div",{className:"mt-4 sm:mt-5 bg-white border border-gray-200 rounded-xl p-5 sm:p-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S5.832 5.477 4.5 6.253v13C5.832 18.477 7.246 18 9 18s3.168.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"Product Story"]}),s.jsx("div",{className:"prose max-w-none",children:s.jsx("p",{className:"text-base text-gray-700 leading-relaxed",children:p.story})})]}),s.jsx("div",{className:"mt-6 sm:mt-8",children:s.jsx(t1,{productId:p.productId,reviews:v,reviewStats:g||{totalReviews:0,averageRating:0,ratingDistribution:{1:0,2:0,3:0,4:0,5:0}}})})]})},a1=e=>{const t=e.replace(/\D/g,"");return/^[6-9]\d{9}$/.test(t)?{isValid:!0,formatted:`${t.substring(0,5)} ${t.substring(5)}`,countryCode:"+91",nationalNumber:t}:{isValid:!1,formatted:e,countryCode:"",nationalNumber:""}},s1=e=>{const t=e.replace(/\D/g,"");if(!t)return"";const a=t.substring(0,10);return a.length<=5?a:a.substring(0,5)+" "+a.substring(5)},n1=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),BA=e=>{const t=[];let a=0;const n=e.length>=8,r=/[A-Z]/.test(e),i=/[a-z]/.test(e),l=/\d/.test(e),o=/[!@#$%^&*(),.?":{}|<>]/.test(e);return n?a++:t.push("At least 8 characters"),r?a++:t.push("One uppercase letter"),i?a++:t.push("One lowercase letter"),l?a++:t.push("One number"),o?a++:t.push("One special character"),{score:a,feedback:t,hasMinLength:n,hasUppercase:r,hasLowercase:i,hasNumber:l,hasSpecialChar:o}},r1=e=>({"User not found":"No account found with this email or phone number.","Invalid password":"The password you entered is incorrect.","Email already registered":"An account with this email already exists.","Phone number already registered":"An account with this phone number already exists.","Invalid verification code":"The verification code is incorrect. Please try again.","Verification code has expired":"The verification code has expired. Please request a new one.","Invalid or expired reset token":"The reset link is invalid or has expired.","Reset token has expired":"The reset link has expired. Please request a new one.","Passwords do not match":"The passwords you entered do not match.","Password is too weak":"Please choose a stronger password.","You must agree to the terms and conditions":"Please accept our terms and conditions to continue."})[e]||e,HA=()=>{const e=pa(),t=ta(),{login:a,loading:n,user:r}=Ze(),{showError:i}=qa(),[l,o]=u.useState(null);u.useEffect(()=>{var S;(S=t.state)!=null&&S.message&&(o(t.state.message),e(t.pathname,{replace:!0,state:{}}))},[t.state,e,t.pathname]),u.useEffect(()=>{var S,N;if(r){const A=new URLSearchParams(t.search).get("returnUrl")||((N=(S=t.state)==null?void 0:S.from)==null?void 0:N.pathname)||"/";e(A,{replace:!0})}},[r,e,t]);const[c,d]=u.useState({emailOrPhone:"",password:"",rememberMe:!1}),[m,f]=u.useState({}),[p,x]=u.useState({}),[h,w]=u.useState(!1),[v,g]=u.useState(!1),y=S=>{const{name:N,value:M,type:R,checked:A}=S.target,z=R==="checkbox"?A:M;d(H=>({...H,[N]:z})),m[N]&&f(H=>({...H,[N]:""}))},b=S=>{x(N=>({...N,[S]:!0})),j(S,c[S])},j=(S,N)=>{let M="";switch(S){case"emailOrPhone":N?N.includes("@")?n1(N)||(M="Please enter a valid email address"):a1(N).isValid||(M="Please enter a valid Indian phone number"):M="Email or phone number is required";break;case"password":N?N.length<6&&(M="Password must be at least 6 characters"):M="Password is required";break}return f(R=>({...R,[S]:M})),!M},E=()=>{const S=j("emailOrPhone",c.emailOrPhone),N=j("password",c.password);return x({emailOrPhone:!0,password:!0}),S&&N},k=async S=>{var N,M;if(S.preventDefault(),!!E()){g(!0);try{await a(c);const z=new URLSearchParams(t.search).get("returnUrl")||((M=(N=t.state)==null?void 0:N.from)==null?void 0:M.pathname)||"/";e(z,{replace:!0})}catch(R){const A=r1(R instanceof Error?R.message:"Login failed");i(A)}finally{g(!1)}}};return s.jsxs("div",{className:"bg-gray-50 flex flex-col justify-center py-8 sm:py-12 px-4 sm:px-6 lg:px-8 min-h-[80vh]",children:[s.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"mt-6 text-2xl sm:text-3xl font-bold text-gray-900",children:"Welcome back"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:new URLSearchParams(t.search).get("returnUrl")?"Sign in to add items to your cart and continue shopping":"Sign in to your account to continue shopping"}),l&&s.jsx("div",{className:"mt-4 bg-green-50 border border-green-200 rounded-lg p-3",children:s.jsx("p",{className:"text-sm text-green-600",children:l})})]})}),s.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:s.jsxs("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10 border border-gray-200",children:[s.jsxs("form",{className:"mt-6 space-y-6",onSubmit:k,children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"emailOrPhone",className:"block text-sm font-medium text-gray-700",children:"Email or Phone Number"}),s.jsxs("div",{className:"mt-1",children:[s.jsx("input",{id:"emailOrPhone",name:"emailOrPhone",type:"text",autoComplete:"username",required:!0,value:c.emailOrPhone,onChange:y,onBlur:()=>b("emailOrPhone"),placeholder:"Enter email or phone number",className:`appearance-none block w-full px-3 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 text-base ${m.emailOrPhone&&p.emailOrPhone?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300"}`}),m.emailOrPhone&&p.emailOrPhone&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.emailOrPhone})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{id:"password",name:"password",type:h?"text":"password",autoComplete:"current-password",required:!0,value:c.password,onChange:y,onBlur:()=>b("password"),placeholder:"Enter your password",className:`appearance-none block w-full px-3 py-3 pr-12 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 text-base ${m.password&&p.password?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300"}`}),s.jsx("button",{type:"button",className:"absolute top-0 bottom-0 right-0 flex items-center justify-center w-12 hover:text-gray-600 transition-colors z-10",onClick:S=>{S.preventDefault(),S.stopPropagation(),w(!h)},tabIndex:-1,"aria-label":h?"Hide password":"Show password",children:h?s.jsx("svg",{className:"h-5 w-5 text-gray-400 pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,preserveAspectRatio:"xMidYMid meet",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):s.jsxs("svg",{className:"h-5 w-5 text-gray-400 pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,preserveAspectRatio:"xMidYMid meet",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),m.password&&p.password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.password})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"rememberMe",name:"rememberMe",type:"checkbox",checked:c.rememberMe,onChange:y,className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"rememberMe",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),s.jsx(Me,{to:"/forgot-password",className:"text-sm text-green-600 hover:text-green-500 font-medium",children:"Forgot your password?"})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:v||n.isLoading,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-base font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:v||n.isLoading?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-gray-500",children:"New to Himalaya Seeds?"})})]}),s.jsx("div",{className:"mt-3",children:s.jsx(Me,{to:`/register${t.search}`,className:"w-full flex justify-center py-3 px-4 border border-green-600 rounded-lg shadow-sm text-base font-medium text-green-600 bg-white hover:bg-green-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors",children:"Create an account"})})]})]})})]})},VA=()=>{const e=pa(),t=ta(),{register:a,user:n}=Ze(),{showSuccess:r,showError:i}=qa();u.useEffect(()=>{var S,N;if(n){const A=new URLSearchParams(t.search).get("returnUrl")||((N=(S=t.state)==null?void 0:S.from)==null?void 0:N.pathname)||"/";e(A,{replace:!0})}},[n,e,t]);const[l,o]=u.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",agreeToTerms:!1}),[c,d]=u.useState({}),[m,f]=u.useState({}),[p,x]=u.useState(!1),[h,w]=u.useState(!1),[v,g]=u.useState(!1),y=S=>{const{name:N,value:M,type:R,checked:A}=S.target;let z=R==="checkbox"?A:M;N==="phone"&&(z=s1(M)),o(H=>({...H,[N]:z})),c[N]&&d(H=>({...H,[N]:""}))},b=S=>{f(N=>({...N,[S]:!0})),j(S,l[S])},j=(S,N)=>{let M="";switch(S){case"name":N?N.length<2?M="Name must be at least 2 characters":N.length>50&&(M="Name must be less than 50 characters"):M="Name is required";break;case"email":N?n1(N)||(M="Please enter a valid email address"):M="Email is required";break;case"phone":N?a1(N).isValid||(M="Please enter a valid 10-digit Indian mobile number (starting with 6, 7, 8, or 9)"):M="Phone number is required";break;case"password":N?BA(N).score<3&&(M="Password is too weak. Please follow the requirements below."):M="Password is required";break;case"confirmPassword":N?N!==l.password&&(M="Passwords do not match"):M="Please confirm your password";break;case"agreeToTerms":N||(M="You must agree to the terms and conditions");break}return d(R=>({...R,[S]:M})),!M},E=()=>{const S=j("name",l.name),N=j("email",l.email),M=j("phone",l.phone),R=j("password",l.password),A=j("confirmPassword",l.confirmPassword),z=j("agreeToTerms",l.agreeToTerms);return f({name:!0,email:!0,phone:!0,password:!0,confirmPassword:!0,agreeToTerms:!0}),S&&N&&M&&R&&A&&z},k=async S=>{if(S.preventDefault(),S.stopPropagation(),!(v||!E())){g(!0);try{await a(l),r("Registration successful! Please log in to continue."),e("/login",{state:{email:l.email}})}catch(M){const R=r1(M instanceof Error?M.message:"Registration failed");i(R)}finally{g(!1)}}};return s.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Create your account"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Join Himalaya Seeds and start your journey"})]}),s.jsx("div",{className:"bg-white py-8 px-6 shadow-xl sm:rounded-lg sm:px-10 border border-gray-200",children:s.jsxs("form",{className:"space-y-6",onSubmit:k,children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),s.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,value:l.name,onChange:y,onBlur:()=>b("name"),placeholder:"Enter your full name",className:`w-full px-4 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-base transition-colors ${c.name&&m.name?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 hover:border-gray-400"}`}),c.name&&m.name&&s.jsx("p",{className:"text-sm text-red-600",children:c.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),s.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:l.email,onChange:y,onBlur:()=>b("email"),placeholder:"Enter your email address",className:`w-full px-4 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-base transition-colors ${c.email&&m.email?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 hover:border-gray-400"}`}),c.email&&m.email&&s.jsx("p",{className:"text-sm text-red-600",children:c.email})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:s.jsx("span",{className:"text-gray-500 text-base font-medium",children:"+91"})}),s.jsx("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",required:!0,value:l.phone,onChange:y,onBlur:()=>b("phone"),placeholder:"98765 43210",className:`w-full pl-14 pr-4 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-base transition-colors ${c.phone&&m.phone?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 hover:border-gray-400"}`})]}),c.phone&&m.phone&&s.jsx("p",{className:"text-sm text-red-600",children:c.phone}),s.jsx("p",{className:"text-xs text-gray-500",children:"Enter your 10-digit mobile number without country code"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"password",name:"password",type:p?"text":"password",autoComplete:"new-password",required:!0,value:l.password,onChange:y,onBlur:()=>b("password"),placeholder:"Create a strong password",className:`w-full px-4 py-3 pr-12 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-base transition-colors ${c.password&&m.password?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 hover:border-gray-400"}`}),s.jsx("button",{type:"button",className:"absolute top-0 bottom-0 right-0 flex items-center justify-center w-12 hover:text-gray-600 transition-colors z-10",onClick:S=>{S.preventDefault(),S.stopPropagation(),x(!p)},tabIndex:-1,"aria-label":p?"Hide password":"Show password",children:p?s.jsx("svg",{className:"h-5 w-5 text-gray-400 pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,preserveAspectRatio:"xMidYMid meet",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):s.jsxs("svg",{className:"h-5 w-5 text-gray-400 pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,preserveAspectRatio:"xMidYMid meet",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),c.password&&m.password&&s.jsx("p",{className:"text-sm text-red-600",children:c.password})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:h?"text":"password",autoComplete:"new-password",required:!0,value:l.confirmPassword,onChange:y,onBlur:()=>b("confirmPassword"),placeholder:"Confirm your password",className:`w-full px-4 py-3 pr-12 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-base transition-colors ${c.confirmPassword&&m.confirmPassword?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 hover:border-gray-400"}`}),s.jsx("button",{type:"button",className:"absolute top-0 bottom-0 right-0 flex items-center justify-center w-12 hover:text-gray-600 transition-colors z-10",onClick:S=>{S.preventDefault(),S.stopPropagation(),w(!h)},tabIndex:-1,"aria-label":h?"Hide password":"Show password",children:h?s.jsx("svg",{className:"h-5 w-5 text-gray-400 pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,preserveAspectRatio:"xMidYMid meet",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):s.jsxs("svg",{className:"h-5 w-5 text-gray-400 pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,preserveAspectRatio:"xMidYMid meet",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),c.confirmPassword&&m.confirmPassword&&s.jsx("p",{className:"text-sm text-red-600",children:c.confirmPassword})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx("input",{id:"agreeToTerms",name:"agreeToTerms",type:"checkbox",checked:l.agreeToTerms,onChange:y,onBlur:()=>b("agreeToTerms"),className:"h-4 w-4 mt-1 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),s.jsxs("label",{htmlFor:"agreeToTerms",className:"ml-3 text-sm text-gray-700",children:["I agree to the"," ",s.jsx("button",{type:"button",className:"text-green-600 hover:text-green-500 underline font-medium",children:"Terms and Conditions"})," ","and"," ",s.jsx("button",{type:"button",className:"text-green-600 hover:text-green-500 underline font-medium",children:"Privacy Policy"})]})]}),c.agreeToTerms&&m.agreeToTerms&&s.jsx("p",{className:"text-sm text-red-600",children:c.agreeToTerms})]}),s.jsx("div",{className:"pt-4",children:s.jsx("button",{type:"submit",disabled:v,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent text-base font-medium rounded-lg text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:v?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Account..."]}):"Create Account"})}),s.jsx("div",{className:"text-center pt-4 border-t border-gray-200",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",s.jsx(Me,{to:"/login",className:"font-medium text-green-600 hover:text-green-500 transition-colors underline",children:"Sign in"})]})})]})})]})})},GA=e=>{const{showSuccess:t,showError:a}=qa(),n=Qt(),r=!!(e&&e>0),{data:i=[],isLoading:l,error:o,refetch:c}=bt({queryKey:["categories",e],queryFn:async()=>{var g;const v=localStorage.getItem("ApiToken")||"";v&&v.startsWith("session_");try{const y=await fe.getCategories(e);return y.data?y.data.map(b=>({...b,isEditing:!1})):[]}catch(y){throw(g=y==null?void 0:y.response)==null||g.status,y}},staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,enabled:r,retry:(v,g)=>{var y;return((y=g==null?void 0:g.response)==null?void 0:y.status)===401?!1:v<2},retryDelay:v=>Math.min(1e3*2**v,3e4)}),d=vt({mutationFn:async v=>await fe.addCategory(v),onSuccess:()=>{t("Category added successfully"),n.invalidateQueries({queryKey:["categories",e]}),n.invalidateQueries({queryKey:["categories-list",e]})},onError:v=>{a("Failed to add category")}}),m=vt({mutationFn:async v=>await fe.updateCategory(v),onSuccess:()=>{t("Category updated successfully"),n.invalidateQueries({queryKey:["categories",e]}),n.invalidateQueries({queryKey:["categories-list",e]})},onError:v=>{a("Failed to update category")}}),f=vt({mutationFn:async v=>await fe.deleteCategory(v,e),onSuccess:()=>{t("Category deleted successfully"),n.invalidateQueries({queryKey:["categories",e]}),n.invalidateQueries({queryKey:["categories-list",e]})},onError:v=>{a("Failed to delete category")}}),p=u.useCallback(async v=>await d.mutateAsync(v),[d]),x=u.useCallback(async v=>await m.mutateAsync(v),[m]),h=u.useCallback(async v=>await f.mutateAsync(v),[f]),w=u.useCallback(()=>{c()},[c]);return{categories:i,isLoading:l,error:o,addCategory:p,updateCategory:x,deleteCategory:h,refreshCategories:w,isAdding:d.isPending,isUpdating:m.isPending,isDeleting:f.isPending,isRefreshing:l}},QA=()=>{var C,W;const{user:e,menuItems:t}=Ze(),[a,n]=jf(),r=u.useMemo(()=>dt(e==null?void 0:e.tenantId),[e==null?void 0:e.tenantId]),{categories:i,isLoading:l,error:o,addCategory:c,updateCategory:d,deleteCategory:m,refreshCategories:f,isRefreshing:p}=GA(r),x=a.get("category"),h=a.get("menu"),[w,v]=u.useState(new Set),[g,y]=u.useState(new Map),[b,j]=u.useState(!1),[E,k]=u.useState({category:"",description:"",active:!0,orderBy:1,menuId:void 0}),[S,N]=u.useState(""),[M,R]=u.useState("category"),[A,z]=u.useState("asc"),H=u.useMemo(()=>{const T=[{menuId:0,name:"No Menu"}];if(t&&t.length>0){const G=t.filter(te=>te.active).sort((te,ve)=>(te.orderBy||0)-(ve.orderBy||0)).map(te=>({menuId:te.menuId,name:te.menuName}));T.push(...G)}return T},[t]),oe=u.useCallback(()=>{j(!0),k({category:"",description:"",active:!0,orderBy:i.length+1,menuId:void 0})},[i.length]),Q=async()=>{var G,te;if(!((G=E.category)!=null&&G.trim()))return;const T={categoryName:E.category.trim(),description:((te=E.description)==null?void 0:te.trim())||"",active:E.active||!0,menuId:E.menuId,orderBy:E.orderBy||i.length+1,hasSubMenu:!1,link:`/categories/${E.category.toLowerCase().replace(/\s+/g,"-")}`,icon:"",parentCategoryId:null};await c(T),j(!1),k({})},I=()=>{j(!1),k({})},D=T=>{v(G=>new Set(G).add(T.categoryId)),y(G=>new Map(G).set(T.categoryId,{...T}))},q=async T=>{var ve,xe;const G=g.get(T);if(!G||!((ve=G.category)!=null&&ve.trim()))return;const te={categoryId:T,categoryName:G.category.trim(),description:((xe=G.description)==null?void 0:xe.trim())||"",active:G.active||!1,menuId:G.menuId,orderBy:G.orderBy||1,hasSubMenu:G.subMenu||!1,link:`/categories/${G.category.toLowerCase().replace(/\s+/g,"-")}`,icon:G.icon||"",parentCategoryId:G.parentCategoryId};await d(te),v(At=>{const Lt=new Set(At);return Lt.delete(T),Lt}),y(At=>{const Lt=new Map(At);return Lt.delete(T),Lt})},K=T=>{v(G=>{const te=new Set(G);return te.delete(T),te}),y(G=>{const te=new Map(G);return te.delete(T),te})},ae=async T=>{window.confirm("Are you sure you want to delete this category? This action cannot be undone.")&&await m(T)},ee=(T,G,te)=>{y(ve=>{const xe=new Map(ve),At=xe.get(T)||{};return xe.set(T,{...At,[G]:te}),xe})},re=(T,G)=>{k(te=>({...te,[T]:G}))},P=u.useCallback(T=>{if(!T||T===0)return"No Menu";const G=H.find(te=>te.menuId===T);if(G&&G.menuId!==0)return G.name;if(t&&t.length>0){const te=t.find(ve=>ve.menuId===T);if(te)return te.menuName}return`Menu ${T}`},[H,t]),J=T=>{M===T?z(A==="asc"?"desc":"asc"):(R(T),z("asc"))},ne=i.filter(T=>{const G=S.toLowerCase(),te=!S||T.category.toLowerCase().includes(G)||T.description.toLowerCase().includes(G)||P(T.menuId).toLowerCase().includes(G),ve=!x||T.category.toLowerCase().includes(x.toLowerCase()),xe=!h||T.menuId===parseInt(h);return te&&ve&&xe}).sort((T,G)=>{let te=T[M],ve=G[M];return M==="menuId"&&(te=P(T.menuId),ve=P(G.menuId)),te=String(te||"").toLowerCase(),ve=String(ve||"").toLowerCase(),te<ve?A==="asc"?-1:1:te>ve?A==="asc"?1:-1:0});if(l)return s.jsx("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx(_t,{})})})});if(o){const T=((C=o==null?void 0:o.response)==null?void 0:C.status)===401||((W=o==null?void 0:o.response)==null?void 0:W.status)===403;return s.jsx("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-red-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(jr,{className:"w-8 h-8 text-red-500 mr-4"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-red-900",children:T?"Authentication Required":"Error Loading Categories"}),s.jsx("p",{className:"text-red-700 mt-2",children:T?"Please log in to access category management. Your session may have expired.":`Failed to load categories: ${(o==null?void 0:o.message)||"Unknown error"}`}),T&&s.jsx("button",{onClick:()=>window.location.href="/login",className:"mt-4 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Go to Login"})]})]})})})})}return s.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 sm:pt-24 px-4 sm:px-6 pb-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Category Management"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage product categories with full CRUD operations"}),(x||h)&&s.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[x&&s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Category: ",x]}),h&&s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Menu: ",P(parseInt(h))]}),s.jsx("button",{onClick:()=>{n({}),N("")},className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 hover:bg-gray-200",children:"Clear Filters"})]})]}),s.jsxs("div",{className:"flex gap-3 flex-shrink-0",children:[s.jsxs("button",{onClick:f,disabled:p,className:"inline-flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[s.jsx(Gu,{className:`w-4 h-4 ${p?"animate-spin":""}`}),"Refresh"]}),s.jsxs("button",{type:"button",onClick:oe,className:"inline-flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 active:bg-green-800 transition-colors cursor-pointer focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 whitespace-nowrap","aria-label":"Add new category",children:[s.jsx(bi,{className:"w-4 h-4"}),"Add Category"]})]})]})}),s.jsx("div",{className:"mb-6",children:s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Categories"}),s.jsx("input",{type:"text",placeholder:"Search by category name, description, or menu...",value:S,onChange:T=>N(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[ne.length," of ",i.length," categories"]})]})})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-blue-600 font-semibold text-sm",children:"T"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Categories"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:i.length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-green-600 font-semibold text-sm",children:"A"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Active"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:i.filter(T=>T.active).length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-red-600 font-semibold text-sm",children:"I"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Inactive"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:i.filter(T=>!T.active).length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-purple-600 font-semibold text-sm",children:"M"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"With Menu"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:i.filter(T=>T.menuId).length})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 select-none",onClick:()=>J("category"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Category",M==="category"&&(A==="asc"?s.jsx(yi,{className:"w-4 h-4"}):s.jsx(Tn,{className:"w-4 h-4"}))]})}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 select-none",onClick:()=>J("description"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Description",M==="description"&&(A==="asc"?s.jsx(yi,{className:"w-4 h-4"}):s.jsx(Tn,{className:"w-4 h-4"}))]})}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 select-none",onClick:()=>J("menuId"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Menu",M==="menuId"&&(A==="asc"?s.jsx(yi,{className:"w-4 h-4"}):s.jsx(Tn,{className:"w-4 h-4"}))]})}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 select-none",onClick:()=>J("orderBy"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Order",M==="orderBy"&&(A==="asc"?s.jsx(yi,{className:"w-4 h-4"}):s.jsx(Tn,{className:"w-4 h-4"}))]})}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 select-none",onClick:()=>J("active"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Status",M==="active"&&(A==="asc"?s.jsx(yi,{className:"w-4 h-4"}):s.jsx(Tn,{className:"w-4 h-4"}))]})}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[b&&s.jsxs("tr",{className:"bg-green-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("input",{type:"text",value:E.category||"",onChange:T=>re("category",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Category name"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("input",{type:"text",value:E.description||"",onChange:T=>re("description",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Description"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("select",{value:E.menuId||"",onChange:T=>re("menuId",parseInt(T.target.value)||void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select Menu"}),H.map(T=>s.jsx("option",{value:T.menuId,children:T.menuId===0?T.name:`${T.menuId} - ${T.name}`},T.menuId))]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("input",{type:"number",value:E.orderBy||1,onChange:T=>re("orderBy",parseInt(T.target.value)||1),className:"w-20 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",min:"1"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:E.active||!1,onChange:T=>re("active",T.target.checked),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),s.jsx("span",{className:"ml-2 text-sm text-gray-900",children:E.active?"Active":"Inactive"})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:Q,className:"inline-flex items-center gap-1 px-3 py-1 text-xs font-medium text-green-600 bg-green-50 rounded-md hover:bg-green-100 transition-colors",title:"Save new category",children:[s.jsx(kc,{className:"w-3 h-3"}),"Save"]}),s.jsxs("button",{onClick:I,className:"inline-flex items-center gap-1 px-3 py-1 text-xs font-medium text-gray-600 bg-gray-50 rounded-md hover:bg-gray-100 transition-colors",title:"Cancel adding",children:[s.jsx(ma,{className:"w-3 h-3"}),"Cancel"]})]})})]}),ne.map(T=>{const G=w.has(T.categoryId),te=G?g.get(T.categoryId):null,ve=G&&te?{...T,...te}:T;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:G?s.jsx("input",{type:"text",value:ve.category||"",onChange:xe=>ee(T.categoryId,"category",xe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):s.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.category})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:G?s.jsx("input",{type:"text",value:ve.description||"",onChange:xe=>ee(T.categoryId,"description",xe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):s.jsx("div",{className:"text-sm text-gray-500",children:T.description})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:G?s.jsxs("select",{value:ve.menuId||"",onChange:xe=>ee(T.categoryId,"menuId",parseInt(xe.target.value)||void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select Menu"}),H.map(xe=>s.jsx("option",{value:xe.menuId,children:xe.menuId===0?xe.name:`${xe.menuId} - ${xe.name}`},xe.menuId))]}):s.jsx("div",{className:"text-sm text-gray-900",children:P(T.menuId)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:G?s.jsx("input",{type:"number",value:ve.orderBy||1,onChange:xe=>ee(T.categoryId,"orderBy",parseInt(xe.target.value)||1),className:"w-20 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1"}):s.jsx("div",{className:"text-sm text-gray-900",children:T.orderBy})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:G?s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:ve.active||!1,onChange:xe=>ee(T.categoryId,"active",xe.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"ml-2 text-sm text-gray-900",children:ve.active?"Active":"Inactive"})]}):s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${T.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:T.active?"Active":"Inactive"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsx("div",{className:"flex items-center gap-2",children:G?s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>q(T.categoryId),className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-green-600 bg-green-50 rounded-md hover:bg-green-100 transition-colors",title:"Save changes",children:[s.jsx(kc,{className:"w-3 h-3"}),"Save"]}),s.jsxs("button",{onClick:()=>K(T.categoryId),className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-gray-600 bg-gray-50 rounded-md hover:bg-gray-100 transition-colors",title:"Cancel editing",children:[s.jsx(ma,{className:"w-3 h-3"}),"Cancel"]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>D(T),className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-blue-600 bg-blue-50 rounded-md hover:bg-blue-100 transition-colors",title:"Edit category",children:[s.jsx(wr,{className:"w-3 h-3"}),"Edit"]}),s.jsxs("button",{onClick:()=>ae(T.categoryId),className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-red-600 bg-red-50 rounded-md hover:bg-red-100 transition-colors",title:"Delete category",children:[s.jsx(Nr,{className:"w-3 h-3"}),"Delete"]})]})})})]},T.categoryId)})]})]})}),ne.length===0&&!b&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(jr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:S?"No categories match your search":"No categories found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:S?`No categories match "${S}". Try a different search term.`:"Get started by creating your first category"}),!S&&s.jsxs("button",{onClick:oe,className:"inline-flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(bi,{className:"w-4 h-4"}),"Add Category"]})]})]})]})})};var YA=function(t){return KA(t)&&!WA(t)};function KA(e){return!!e&&typeof e=="object"}function WA(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||JA(e)}var XA=typeof Symbol=="function"&&Symbol.for,ZA=XA?Symbol.for("react.element"):60103;function JA(e){return e.$$typeof===ZA}function eT(e){return Array.isArray(e)?[]:{}}function Ku(e,t){return t.clone!==!1&&t.isMergeableObject(e)?Oc(eT(e),e,t):e}function tT(e,t,a){return e.concat(t).map(function(n){return Ku(n,a)})}function aT(e,t,a){var n={};return a.isMergeableObject(e)&&Object.keys(e).forEach(function(r){n[r]=Ku(e[r],a)}),Object.keys(t).forEach(function(r){!a.isMergeableObject(t[r])||!e[r]?n[r]=Ku(t[r],a):n[r]=Oc(e[r],t[r],a)}),n}function Oc(e,t,a){a=a||{},a.arrayMerge=a.arrayMerge||tT,a.isMergeableObject=a.isMergeableObject||YA;var n=Array.isArray(t),r=Array.isArray(e),i=n===r;return i?n?a.arrayMerge(e,t,a):aT(e,t,a):Ku(t,a)}Oc.all=function(t,a){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(n,r){return Oc(n,r,a)},{})};var ax=Oc,i1=typeof global=="object"&&global&&global.Object===Object&&global,sT=typeof self=="object"&&self&&self.Object===Object&&self,Xs=i1||sT||Function("return this")(),Cr=Xs.Symbol,l1=Object.prototype,nT=l1.hasOwnProperty,rT=l1.toString,_c=Cr?Cr.toStringTag:void 0;function iT(e){var t=nT.call(e,_c),a=e[_c];try{e[_c]=void 0;var n=!0}catch{}var r=rT.call(e);return n&&(t?e[_c]=a:delete e[_c]),r}var lT=Object.prototype,oT=lT.toString;function cT(e){return oT.call(e)}var dT="[object Null]",uT="[object Undefined]",o1=Cr?Cr.toStringTag:void 0;function ji(e){return e==null?e===void 0?uT:dT:o1&&o1 in Object(e)?iT(e):cT(e)}function c1(e,t){return function(a){return e(t(a))}}var sx=c1(Object.getPrototypeOf,Object);function wi(e){return e!=null&&typeof e=="object"}var mT="[object Object]",pT=Function.prototype,hT=Object.prototype,d1=pT.toString,fT=hT.hasOwnProperty,xT=d1.call(Object);function u1(e){if(!wi(e)||ji(e)!=mT)return!1;var t=sx(e);if(t===null)return!0;var a=fT.call(t,"constructor")&&t.constructor;return typeof a=="function"&&a instanceof a&&d1.call(a)==xT}function gT(){this.__data__=[],this.size=0}function m1(e,t){return e===t||e!==e&&t!==t}function Wu(e,t){for(var a=e.length;a--;)if(m1(e[a][0],t))return a;return-1}var yT=Array.prototype,bT=yT.splice;function vT(e){var t=this.__data__,a=Wu(t,e);if(a<0)return!1;var n=t.length-1;return a==n?t.pop():bT.call(t,a,1),--this.size,!0}function jT(e){var t=this.__data__,a=Wu(t,e);return a<0?void 0:t[a][1]}function wT(e){return Wu(this.__data__,e)>-1}function NT(e,t){var a=this.__data__,n=Wu(a,e);return n<0?(++this.size,a.push([e,t])):a[n][1]=t,this}function Dn(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}Dn.prototype.clear=gT,Dn.prototype.delete=vT,Dn.prototype.get=jT,Dn.prototype.has=wT,Dn.prototype.set=NT;function ST(){this.__data__=new Dn,this.size=0}function CT(e){var t=this.__data__,a=t.delete(e);return this.size=t.size,a}function ET(e){return this.__data__.get(e)}function kT(e){return this.__data__.has(e)}function Rc(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var AT="[object AsyncFunction]",TT="[object Function]",MT="[object GeneratorFunction]",OT="[object Proxy]";function p1(e){if(!Rc(e))return!1;var t=ji(e);return t==TT||t==MT||t==AT||t==OT}var nx=Xs["__core-js_shared__"],h1=function(){var e=/[^.]+$/.exec(nx&&nx.keys&&nx.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function _T(e){return!!h1&&h1 in e}var RT=Function.prototype,DT=RT.toString;function Ni(e){if(e!=null){try{return DT.call(e)}catch{}try{return e+""}catch{}}return""}var LT=/[\\^$.*+?()[\]{}|]/g,IT=/^\[object .+?Constructor\]$/,zT=Function.prototype,$T=Object.prototype,UT=zT.toString,FT=$T.hasOwnProperty,qT=RegExp("^"+UT.call(FT).replace(LT,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function PT(e){if(!Rc(e)||_T(e))return!1;var t=p1(e)?qT:IT;return t.test(Ni(e))}function BT(e,t){return e==null?void 0:e[t]}function Si(e,t){var a=BT(e,t);return PT(a)?a:void 0}var Dc=Si(Xs,"Map"),Lc=Si(Object,"create");function HT(){this.__data__=Lc?Lc(null):{},this.size=0}function VT(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var GT="__lodash_hash_undefined__",QT=Object.prototype,YT=QT.hasOwnProperty;function KT(e){var t=this.__data__;if(Lc){var a=t[e];return a===GT?void 0:a}return YT.call(t,e)?t[e]:void 0}var WT=Object.prototype,XT=WT.hasOwnProperty;function ZT(e){var t=this.__data__;return Lc?t[e]!==void 0:XT.call(t,e)}var JT="__lodash_hash_undefined__";function eM(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=Lc&&t===void 0?JT:t,this}function Ci(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}Ci.prototype.clear=HT,Ci.prototype.delete=VT,Ci.prototype.get=KT,Ci.prototype.has=ZT,Ci.prototype.set=eM;function tM(){this.size=0,this.__data__={hash:new Ci,map:new(Dc||Dn),string:new Ci}}function aM(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Xu(e,t){var a=e.__data__;return aM(t)?a[typeof t=="string"?"string":"hash"]:a.map}function sM(e){var t=Xu(this,e).delete(e);return this.size-=t?1:0,t}function nM(e){return Xu(this,e).get(e)}function rM(e){return Xu(this,e).has(e)}function iM(e,t){var a=Xu(this,e),n=a.size;return a.set(e,t),this.size+=a.size==n?0:1,this}function Er(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}Er.prototype.clear=tM,Er.prototype.delete=sM,Er.prototype.get=nM,Er.prototype.has=rM,Er.prototype.set=iM;var lM=200;function oM(e,t){var a=this.__data__;if(a instanceof Dn){var n=a.__data__;if(!Dc||n.length<lM-1)return n.push([e,t]),this.size=++a.size,this;a=this.__data__=new Er(n)}return a.set(e,t),this.size=a.size,this}function Xl(e){var t=this.__data__=new Dn(e);this.size=t.size}Xl.prototype.clear=ST,Xl.prototype.delete=CT,Xl.prototype.get=ET,Xl.prototype.has=kT,Xl.prototype.set=oM;function cM(e,t){for(var a=-1,n=e==null?0:e.length;++a<n&&t(e[a],a,e)!==!1;);return e}var f1=function(){try{var e=Si(Object,"defineProperty");return e({},"",{}),e}catch{}}();function x1(e,t,a){t=="__proto__"&&f1?f1(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}var dM=Object.prototype,uM=dM.hasOwnProperty;function g1(e,t,a){var n=e[t];(!(uM.call(e,t)&&m1(n,a))||a===void 0&&!(t in e))&&x1(e,t,a)}function Zu(e,t,a,n){var r=!a;a||(a={});for(var i=-1,l=t.length;++i<l;){var o=t[i],c=void 0;c===void 0&&(c=e[o]),r?x1(a,o,c):g1(a,o,c)}return a}function mM(e,t){for(var a=-1,n=Array(e);++a<e;)n[a]=t(a);return n}var pM="[object Arguments]";function y1(e){return wi(e)&&ji(e)==pM}var b1=Object.prototype,hM=b1.hasOwnProperty,fM=b1.propertyIsEnumerable,xM=y1(function(){return arguments}())?y1:function(e){return wi(e)&&hM.call(e,"callee")&&!fM.call(e,"callee")},Ic=Array.isArray;function gM(){return!1}var v1=typeof $e=="object"&&$e&&!$e.nodeType&&$e,j1=v1&&typeof qe=="object"&&qe&&!qe.nodeType&&qe,yM=j1&&j1.exports===v1,w1=yM?Xs.Buffer:void 0,bM=w1?w1.isBuffer:void 0,N1=bM||gM,vM=9007199254740991,jM=/^(?:0|[1-9]\d*)$/;function wM(e,t){var a=typeof e;return t=t??vM,!!t&&(a=="number"||a!="symbol"&&jM.test(e))&&e>-1&&e%1==0&&e<t}var NM=9007199254740991;function S1(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=NM}var SM="[object Arguments]",CM="[object Array]",EM="[object Boolean]",kM="[object Date]",AM="[object Error]",TM="[object Function]",MM="[object Map]",OM="[object Number]",_M="[object Object]",RM="[object RegExp]",DM="[object Set]",LM="[object String]",IM="[object WeakMap]",zM="[object ArrayBuffer]",$M="[object DataView]",UM="[object Float32Array]",FM="[object Float64Array]",qM="[object Int8Array]",PM="[object Int16Array]",BM="[object Int32Array]",HM="[object Uint8Array]",VM="[object Uint8ClampedArray]",GM="[object Uint16Array]",QM="[object Uint32Array]",Et={};Et[UM]=Et[FM]=Et[qM]=Et[PM]=Et[BM]=Et[HM]=Et[VM]=Et[GM]=Et[QM]=!0,Et[SM]=Et[CM]=Et[zM]=Et[EM]=Et[$M]=Et[kM]=Et[AM]=Et[TM]=Et[MM]=Et[OM]=Et[_M]=Et[RM]=Et[DM]=Et[LM]=Et[IM]=!1;function YM(e){return wi(e)&&S1(e.length)&&!!Et[ji(e)]}function rx(e){return function(t){return e(t)}}var C1=typeof $e=="object"&&$e&&!$e.nodeType&&$e,zc=C1&&typeof qe=="object"&&qe&&!qe.nodeType&&qe,KM=zc&&zc.exports===C1,ix=KM&&i1.process,Zl=function(){try{var e=zc&&zc.require&&zc.require("util").types;return e||ix&&ix.binding&&ix.binding("util")}catch{}}(),E1=Zl&&Zl.isTypedArray,WM=E1?rx(E1):YM,XM=Object.prototype,ZM=XM.hasOwnProperty;function k1(e,t){var a=Ic(e),n=!a&&xM(e),r=!a&&!n&&N1(e),i=!a&&!n&&!r&&WM(e),l=a||n||r||i,o=l?mM(e.length,String):[],c=o.length;for(var d in e)(t||ZM.call(e,d))&&!(l&&(d=="length"||r&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||wM(d,c)))&&o.push(d);return o}var JM=Object.prototype;function lx(e){var t=e&&e.constructor,a=typeof t=="function"&&t.prototype||JM;return e===a}var eO=c1(Object.keys,Object),tO=Object.prototype,aO=tO.hasOwnProperty;function sO(e){if(!lx(e))return eO(e);var t=[];for(var a in Object(e))aO.call(e,a)&&a!="constructor"&&t.push(a);return t}function A1(e){return e!=null&&S1(e.length)&&!p1(e)}function ox(e){return A1(e)?k1(e):sO(e)}function nO(e,t){return e&&Zu(t,ox(t),e)}function rO(e){var t=[];if(e!=null)for(var a in Object(e))t.push(a);return t}var iO=Object.prototype,lO=iO.hasOwnProperty;function oO(e){if(!Rc(e))return rO(e);var t=lx(e),a=[];for(var n in e)n=="constructor"&&(t||!lO.call(e,n))||a.push(n);return a}function cx(e){return A1(e)?k1(e,!0):oO(e)}function cO(e,t){return e&&Zu(t,cx(t),e)}var T1=typeof $e=="object"&&$e&&!$e.nodeType&&$e,M1=T1&&typeof qe=="object"&&qe&&!qe.nodeType&&qe,dO=M1&&M1.exports===T1,O1=dO?Xs.Buffer:void 0,_1=O1?O1.allocUnsafe:void 0;function uO(e,t){if(t)return e.slice();var a=e.length,n=_1?_1(a):new e.constructor(a);return e.copy(n),n}function R1(e,t){var a=-1,n=e.length;for(t||(t=Array(n));++a<n;)t[a]=e[a];return t}function mO(e,t){for(var a=-1,n=e==null?0:e.length,r=0,i=[];++a<n;){var l=e[a];t(l,a,e)&&(i[r++]=l)}return i}function D1(){return[]}var pO=Object.prototype,hO=pO.propertyIsEnumerable,L1=Object.getOwnPropertySymbols,dx=L1?function(e){return e==null?[]:(e=Object(e),mO(L1(e),function(t){return hO.call(e,t)}))}:D1;function fO(e,t){return Zu(e,dx(e),t)}function I1(e,t){for(var a=-1,n=t.length,r=e.length;++a<n;)e[r+a]=t[a];return e}var xO=Object.getOwnPropertySymbols,z1=xO?function(e){for(var t=[];e;)I1(t,dx(e)),e=sx(e);return t}:D1;function gO(e,t){return Zu(e,z1(e),t)}function $1(e,t,a){var n=t(e);return Ic(e)?n:I1(n,a(e))}function yO(e){return $1(e,ox,dx)}function bO(e){return $1(e,cx,z1)}var ux=Si(Xs,"DataView"),mx=Si(Xs,"Promise"),px=Si(Xs,"Set"),hx=Si(Xs,"WeakMap"),U1="[object Map]",vO="[object Object]",F1="[object Promise]",q1="[object Set]",P1="[object WeakMap]",B1="[object DataView]",jO=Ni(ux),wO=Ni(Dc),NO=Ni(mx),SO=Ni(px),CO=Ni(hx),Ln=ji;(ux&&Ln(new ux(new ArrayBuffer(1)))!=B1||Dc&&Ln(new Dc)!=U1||mx&&Ln(mx.resolve())!=F1||px&&Ln(new px)!=q1||hx&&Ln(new hx)!=P1)&&(Ln=function(e){var t=ji(e),a=t==vO?e.constructor:void 0,n=a?Ni(a):"";if(n)switch(n){case jO:return B1;case wO:return U1;case NO:return F1;case SO:return q1;case CO:return P1}return t});var EO=Object.prototype,kO=EO.hasOwnProperty;function AO(e){var t=e.length,a=new e.constructor(t);return t&&typeof e[0]=="string"&&kO.call(e,"index")&&(a.index=e.index,a.input=e.input),a}var H1=Xs.Uint8Array;function fx(e){var t=new e.constructor(e.byteLength);return new H1(t).set(new H1(e)),t}function TO(e,t){var a=t?fx(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}var MO=/\w*$/;function OO(e){var t=new e.constructor(e.source,MO.exec(e));return t.lastIndex=e.lastIndex,t}var V1=Cr?Cr.prototype:void 0,G1=V1?V1.valueOf:void 0;function _O(e){return G1?Object(G1.call(e)):{}}function RO(e,t){var a=t?fx(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}var DO="[object Boolean]",LO="[object Date]",IO="[object Map]",zO="[object Number]",$O="[object RegExp]",UO="[object Set]",FO="[object String]",qO="[object Symbol]",PO="[object ArrayBuffer]",BO="[object DataView]",HO="[object Float32Array]",VO="[object Float64Array]",GO="[object Int8Array]",QO="[object Int16Array]",YO="[object Int32Array]",KO="[object Uint8Array]",WO="[object Uint8ClampedArray]",XO="[object Uint16Array]",ZO="[object Uint32Array]";function JO(e,t,a){var n=e.constructor;switch(t){case PO:return fx(e);case DO:case LO:return new n(+e);case BO:return TO(e,a);case HO:case VO:case GO:case QO:case YO:case KO:case WO:case XO:case ZO:return RO(e,a);case IO:return new n;case zO:case FO:return new n(e);case $O:return OO(e);case UO:return new n;case qO:return _O(e)}}var Q1=Object.create,e_=function(){function e(){}return function(t){if(!Rc(t))return{};if(Q1)return Q1(t);e.prototype=t;var a=new e;return e.prototype=void 0,a}}();function t_(e){return typeof e.constructor=="function"&&!lx(e)?e_(sx(e)):{}}var a_="[object Map]";function s_(e){return wi(e)&&Ln(e)==a_}var Y1=Zl&&Zl.isMap,n_=Y1?rx(Y1):s_,r_="[object Set]";function i_(e){return wi(e)&&Ln(e)==r_}var K1=Zl&&Zl.isSet,l_=K1?rx(K1):i_,o_=1,c_=2,d_=4,W1="[object Arguments]",u_="[object Array]",m_="[object Boolean]",p_="[object Date]",h_="[object Error]",X1="[object Function]",f_="[object GeneratorFunction]",x_="[object Map]",g_="[object Number]",Z1="[object Object]",y_="[object RegExp]",b_="[object Set]",v_="[object String]",j_="[object Symbol]",w_="[object WeakMap]",N_="[object ArrayBuffer]",S_="[object DataView]",C_="[object Float32Array]",E_="[object Float64Array]",k_="[object Int8Array]",A_="[object Int16Array]",T_="[object Int32Array]",M_="[object Uint8Array]",O_="[object Uint8ClampedArray]",__="[object Uint16Array]",R_="[object Uint32Array]",jt={};jt[W1]=jt[u_]=jt[N_]=jt[S_]=jt[m_]=jt[p_]=jt[C_]=jt[E_]=jt[k_]=jt[A_]=jt[T_]=jt[x_]=jt[g_]=jt[Z1]=jt[y_]=jt[b_]=jt[v_]=jt[j_]=jt[M_]=jt[O_]=jt[__]=jt[R_]=!0,jt[h_]=jt[X1]=jt[w_]=!1;function $c(e,t,a,n,r,i){var l,o=t&o_,c=t&c_,d=t&d_;if(l!==void 0)return l;if(!Rc(e))return e;var m=Ic(e);if(m){if(l=AO(e),!o)return R1(e,l)}else{var f=Ln(e),p=f==X1||f==f_;if(N1(e))return uO(e,o);if(f==Z1||f==W1||p&&!r){if(l=c||p?{}:t_(e),!o)return c?gO(e,cO(l,e)):fO(e,nO(l,e))}else{if(!jt[f])return r?e:{};l=JO(e,f,o)}}i||(i=new Xl);var x=i.get(e);if(x)return x;i.set(e,l),l_(e)?e.forEach(function(v){l.add($c(v,t,a,v,e,i))}):n_(e)&&e.forEach(function(v,g){l.set(g,$c(v,t,a,g,e,i))});var h=d?c?bO:yO:c?cx:ox,w=m?void 0:h(e);return cM(w||e,function(v,g){w&&(g=v,v=e[g]),g1(l,g,$c(v,t,a,g,e,i))}),l}var D_=1,L_=4;function Uc(e){return $c(e,D_|L_)}var J1=Array.isArray,ew=Object.keys,I_=Object.prototype.hasOwnProperty,z_=typeof Element<"u";function xx(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var a=J1(e),n=J1(t),r,i,l;if(a&&n){if(i=e.length,i!=t.length)return!1;for(r=i;r--!==0;)if(!xx(e[r],t[r]))return!1;return!0}if(a!=n)return!1;var o=e instanceof Date,c=t instanceof Date;if(o!=c)return!1;if(o&&c)return e.getTime()==t.getTime();var d=e instanceof RegExp,m=t instanceof RegExp;if(d!=m)return!1;if(d&&m)return e.toString()==t.toString();var f=ew(e);if(i=f.length,i!==ew(t).length)return!1;for(r=i;r--!==0;)if(!I_.call(t,f[r]))return!1;if(z_&&e instanceof Element&&t instanceof Element)return e===t;for(r=i;r--!==0;)if(l=f[r],!(l==="_owner"&&e.$$typeof)&&!xx(e[l],t[l]))return!1;return!0}return e!==e&&t!==t}var $_=function(t,a){try{return xx(t,a)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||n.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}};const kr=xt($_);var U_=4;function tw(e){return $c(e,U_)}function aw(e,t){for(var a=-1,n=e==null?0:e.length,r=Array(n);++a<n;)r[a]=t(e[a],a,e);return r}var F_="[object Symbol]";function gx(e){return typeof e=="symbol"||wi(e)&&ji(e)==F_}var q_="Expected a function";function yx(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(q_);var a=function(){var n=arguments,r=t?t.apply(this,n):n[0],i=a.cache;if(i.has(r))return i.get(r);var l=e.apply(this,n);return a.cache=i.set(r,l)||i,l};return a.cache=new(yx.Cache||Er),a}yx.Cache=Er;var P_=500;function B_(e){var t=yx(e,function(n){return a.size===P_&&a.clear(),n}),a=t.cache;return t}var H_=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,V_=/\\(\\)?/g,G_=B_(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(H_,function(a,n,r,i){t.push(r?i.replace(V_,"$1"):n||a)}),t});function Q_(e){if(typeof e=="string"||gx(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var sw=Cr?Cr.prototype:void 0,nw=sw?sw.toString:void 0;function rw(e){if(typeof e=="string")return e;if(Ic(e))return aw(e,rw)+"";if(gx(e))return nw?nw.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Y_(e){return e==null?"":rw(e)}function iw(e){return Ic(e)?aw(e,Q_):gx(e)?[e]:R1(G_(Y_(e)))}var lw={exports:{}},rt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=typeof Symbol=="function"&&Symbol.for,bx=aa?Symbol.for("react.element"):60103,vx=aa?Symbol.for("react.portal"):60106,Ju=aa?Symbol.for("react.fragment"):60107,em=aa?Symbol.for("react.strict_mode"):60108,tm=aa?Symbol.for("react.profiler"):60114,am=aa?Symbol.for("react.provider"):60109,sm=aa?Symbol.for("react.context"):60110,jx=aa?Symbol.for("react.async_mode"):60111,nm=aa?Symbol.for("react.concurrent_mode"):60111,rm=aa?Symbol.for("react.forward_ref"):60112,im=aa?Symbol.for("react.suspense"):60113,K_=aa?Symbol.for("react.suspense_list"):60120,lm=aa?Symbol.for("react.memo"):60115,om=aa?Symbol.for("react.lazy"):60116,W_=aa?Symbol.for("react.block"):60121,X_=aa?Symbol.for("react.fundamental"):60117,Z_=aa?Symbol.for("react.responder"):60118,J_=aa?Symbol.for("react.scope"):60119;function rs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case bx:switch(e=e.type,e){case jx:case nm:case Ju:case tm:case em:case im:return e;default:switch(e=e&&e.$$typeof,e){case sm:case rm:case om:case lm:case am:return e;default:return t}}case vx:return t}}}function ow(e){return rs(e)===nm}rt.AsyncMode=jx,rt.ConcurrentMode=nm,rt.ContextConsumer=sm,rt.ContextProvider=am,rt.Element=bx,rt.ForwardRef=rm,rt.Fragment=Ju,rt.Lazy=om,rt.Memo=lm,rt.Portal=vx,rt.Profiler=tm,rt.StrictMode=em,rt.Suspense=im,rt.isAsyncMode=function(e){return ow(e)||rs(e)===jx},rt.isConcurrentMode=ow,rt.isContextConsumer=function(e){return rs(e)===sm},rt.isContextProvider=function(e){return rs(e)===am},rt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===bx},rt.isForwardRef=function(e){return rs(e)===rm},rt.isFragment=function(e){return rs(e)===Ju},rt.isLazy=function(e){return rs(e)===om},rt.isMemo=function(e){return rs(e)===lm},rt.isPortal=function(e){return rs(e)===vx},rt.isProfiler=function(e){return rs(e)===tm},rt.isStrictMode=function(e){return rs(e)===em},rt.isSuspense=function(e){return rs(e)===im},rt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ju||e===nm||e===tm||e===em||e===im||e===K_||typeof e=="object"&&e!==null&&(e.$$typeof===om||e.$$typeof===lm||e.$$typeof===am||e.$$typeof===sm||e.$$typeof===rm||e.$$typeof===X_||e.$$typeof===Z_||e.$$typeof===J_||e.$$typeof===W_)},rt.typeOf=rs,lw.exports=rt;var e7=lw.exports,wx=e7,t7={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a7={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s7={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},cw={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Nx={};Nx[wx.ForwardRef]=s7,Nx[wx.Memo]=cw;function dw(e){return wx.isMemo(e)?cw:Nx[e.$$typeof]||t7}var n7=Object.defineProperty,r7=Object.getOwnPropertyNames,uw=Object.getOwnPropertySymbols,i7=Object.getOwnPropertyDescriptor,l7=Object.getPrototypeOf,mw=Object.prototype;function pw(e,t,a){if(typeof t!="string"){if(mw){var n=l7(t);n&&n!==mw&&pw(e,n,a)}var r=r7(t);uw&&(r=r.concat(uw(t)));for(var i=dw(e),l=dw(t),o=0;o<r.length;++o){var c=r[o];if(!a7[c]&&!(a&&a[c])&&!(l&&l[c])&&!(i&&i[c])){var d=i7(t,c);try{n7(e,c,d)}catch{}}}}return e}var o7=pw;const c7=xt(o7);function it(){return it=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},it.apply(this,arguments)}function hw(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Ar(e,t){if(e==null)return{};var a={},n=Object.keys(e),r,i;for(i=0;i<n.length;i++)r=n[i],!(t.indexOf(r)>=0)&&(a[r]=e[r]);return a}function fw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var cm=u.createContext(void 0);cm.displayName="FormikContext";var d7=cm.Provider,u7=cm.Consumer;function xw(){var e=u.useContext(cm);return e}var gw=function(t){return Array.isArray(t)&&t.length===0},sa=function(t){return typeof t=="function"},Fc=function(t){return t!==null&&typeof t=="object"},m7=function(t){return String(Math.floor(Number(t)))===t},Sx=function(t){return Object.prototype.toString.call(t)==="[object String]"},yw=function(t){return u.Children.count(t)===0},Cx=function(t){return Fc(t)&&sa(t.then)};function kt(e,t,a,n){n===void 0&&(n=0);for(var r=iw(t);e&&n<r.length;)e=e[r[n++]];return n!==r.length&&!e||e===void 0?a:e}function Zs(e,t,a){for(var n=tw(e),r=n,i=0,l=iw(t);i<l.length-1;i++){var o=l[i],c=kt(e,l.slice(0,i+1));if(c&&(Fc(c)||Array.isArray(c)))r=r[o]=tw(c);else{var d=l[i+1];r=r[o]=m7(d)&&Number(d)>=0?[]:{}}}return(i===0?e:r)[l[i]]===a?e:(a===void 0?delete r[l[i]]:r[l[i]]=a,i===0&&a===void 0&&delete n[l[i]],n)}function bw(e,t,a,n){a===void 0&&(a=new WeakMap),n===void 0&&(n={});for(var r=0,i=Object.keys(e);r<i.length;r++){var l=i[r],o=e[l];Fc(o)?a.get(o)||(a.set(o,!0),n[l]=Array.isArray(o)?[]:{},bw(o,t,a,n[l])):n[l]=t}return n}function p7(e,t){switch(t.type){case"SET_VALUES":return it({},e,{values:t.payload});case"SET_TOUCHED":return it({},e,{touched:t.payload});case"SET_ERRORS":return kr(e.errors,t.payload)?e:it({},e,{errors:t.payload});case"SET_STATUS":return it({},e,{status:t.payload});case"SET_ISSUBMITTING":return it({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return it({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return it({},e,{values:Zs(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return it({},e,{touched:Zs(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return it({},e,{errors:Zs(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return it({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return it({},e,{touched:bw(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":return it({},e,{isSubmitting:!1});case"SUBMIT_SUCCESS":return it({},e,{isSubmitting:!1});default:return e}}var Ei={},dm={};function h7(e){var t=e.validateOnChange,a=t===void 0?!0:t,n=e.validateOnBlur,r=n===void 0?!0:n,i=e.validateOnMount,l=i===void 0?!1:i,o=e.isInitialValid,c=e.enableReinitialize,d=c===void 0?!1:c,m=e.onSubmit,f=Ar(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),p=it({validateOnChange:a,validateOnBlur:r,validateOnMount:l,onSubmit:m},f),x=u.useRef(p.initialValues),h=u.useRef(p.initialErrors||Ei),w=u.useRef(p.initialTouched||dm),v=u.useRef(p.initialStatus),g=u.useRef(!1),y=u.useRef({});u.useEffect(function(){return g.current=!0,function(){g.current=!1}},[]);var b=u.useState(0),j=b[1],E=u.useRef({values:Uc(p.initialValues),errors:Uc(p.initialErrors)||Ei,touched:Uc(p.initialTouched)||dm,status:Uc(p.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),k=E.current,S=u.useCallback(function(U){var ce=E.current;E.current=p7(ce,U),ce!==E.current&&j(function(B){return B+1})},[]),N=u.useCallback(function(U,ce){return new Promise(function(B,Z){var ge=p.validate(U,ce);ge==null?B(Ei):Cx(ge)?ge.then(function(we){B(we||Ei)},function(we){Z(we)}):B(ge)})},[p.validate]),M=u.useCallback(function(U,ce){var B=p.validationSchema,Z=sa(B)?B(ce):B,ge=ce&&Z.validateAt?Z.validateAt(ce,U):g7(U,Z);return new Promise(function(we,_){ge.then(function(){we(Ei)},function(le){le.name==="ValidationError"?we(x7(le)):_(le)})})},[p.validationSchema]),R=u.useCallback(function(U,ce){return new Promise(function(B){return B(y.current[U].validate(ce))})},[]),A=u.useCallback(function(U){var ce=Object.keys(y.current).filter(function(Z){return sa(y.current[Z].validate)}),B=ce.length>0?ce.map(function(Z){return R(Z,kt(U,Z))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(B).then(function(Z){return Z.reduce(function(ge,we,_){return we==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||we&&(ge=Zs(ge,ce[_],we)),ge},{})})},[R]),z=u.useCallback(function(U){return Promise.all([A(U),p.validationSchema?M(U):{},p.validate?N(U):{}]).then(function(ce){var B=ce[0],Z=ce[1],ge=ce[2],we=ax.all([B,Z,ge],{arrayMerge:y7});return we})},[p.validate,p.validationSchema,A,N,M]),H=Ss(function(U){return U===void 0&&(U=k.values),S({type:"SET_ISVALIDATING",payload:!0}),z(U).then(function(ce){return g.current&&(S({type:"SET_ISVALIDATING",payload:!1}),S({type:"SET_ERRORS",payload:ce})),ce})});u.useEffect(function(){l&&g.current===!0&&kr(x.current,p.initialValues)&&H(x.current)},[l,H]);var oe=u.useCallback(function(U){var ce=U&&U.values?U.values:x.current,B=U&&U.errors?U.errors:h.current?h.current:p.initialErrors||{},Z=U&&U.touched?U.touched:w.current?w.current:p.initialTouched||{},ge=U&&U.status?U.status:v.current?v.current:p.initialStatus;x.current=ce,h.current=B,w.current=Z,v.current=ge;var we=function(){S({type:"RESET_FORM",payload:{isSubmitting:!!U&&!!U.isSubmitting,errors:B,touched:Z,status:ge,values:ce,isValidating:!!U&&!!U.isValidating,submitCount:U&&U.submitCount&&typeof U.submitCount=="number"?U.submitCount:0}})};if(p.onReset){var _=p.onReset(k.values,At);Cx(_)?_.then(we):we()}else we()},[p.initialErrors,p.initialStatus,p.initialTouched,p.onReset]);u.useEffect(function(){g.current===!0&&!kr(x.current,p.initialValues)&&d&&(x.current=p.initialValues,oe(),l&&H(x.current))},[d,p.initialValues,oe,l,H]),u.useEffect(function(){d&&g.current===!0&&!kr(h.current,p.initialErrors)&&(h.current=p.initialErrors||Ei,S({type:"SET_ERRORS",payload:p.initialErrors||Ei}))},[d,p.initialErrors]),u.useEffect(function(){d&&g.current===!0&&!kr(w.current,p.initialTouched)&&(w.current=p.initialTouched||dm,S({type:"SET_TOUCHED",payload:p.initialTouched||dm}))},[d,p.initialTouched]),u.useEffect(function(){d&&g.current===!0&&!kr(v.current,p.initialStatus)&&(v.current=p.initialStatus,S({type:"SET_STATUS",payload:p.initialStatus}))},[d,p.initialStatus,p.initialTouched]);var Q=Ss(function(U){if(y.current[U]&&sa(y.current[U].validate)){var ce=kt(k.values,U),B=y.current[U].validate(ce);return Cx(B)?(S({type:"SET_ISVALIDATING",payload:!0}),B.then(function(Z){return Z}).then(function(Z){S({type:"SET_FIELD_ERROR",payload:{field:U,value:Z}}),S({type:"SET_ISVALIDATING",payload:!1})})):(S({type:"SET_FIELD_ERROR",payload:{field:U,value:B}}),Promise.resolve(B))}else if(p.validationSchema)return S({type:"SET_ISVALIDATING",payload:!0}),M(k.values,U).then(function(Z){return Z}).then(function(Z){S({type:"SET_FIELD_ERROR",payload:{field:U,value:kt(Z,U)}}),S({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),I=u.useCallback(function(U,ce){var B=ce.validate;y.current[U]={validate:B}},[]),D=u.useCallback(function(U){delete y.current[U]},[]),q=Ss(function(U,ce){S({type:"SET_TOUCHED",payload:U});var B=ce===void 0?r:ce;return B?H(k.values):Promise.resolve()}),K=u.useCallback(function(U){S({type:"SET_ERRORS",payload:U})},[]),ae=Ss(function(U,ce){var B=sa(U)?U(k.values):U;S({type:"SET_VALUES",payload:B});var Z=ce===void 0?a:ce;return Z?H(B):Promise.resolve()}),ee=u.useCallback(function(U,ce){S({type:"SET_FIELD_ERROR",payload:{field:U,value:ce}})},[]),re=Ss(function(U,ce,B){var Z=sa(ce)?ce(kt(k.values,U)):ce;S({type:"SET_FIELD_VALUE",payload:{field:U,value:Z}});var ge=B===void 0?a:B;return ge?H(Zs(k.values,U,Z)):Promise.resolve()}),P=u.useCallback(function(U,ce){var B=ce,Z=U,ge;if(!Sx(U)){U.persist&&U.persist();var we=U.target?U.target:U.currentTarget,_=we.type,le=we.name,se=we.id,De=we.value,Be=we.checked;we.outerHTML;var As=we.options,V=we.multiple;B=ce||le||se,Z=/number|range/.test(_)?(ge=parseFloat(De),isNaN(ge)?"":ge):/checkbox/.test(_)?v7(kt(k.values,B),Be,De):As&&V?b7(As):De}B&&re(B,Z)},[re,k.values]),J=Ss(function(U){if(Sx(U))return function(ce){return P(ce,U)};P(U)}),ne=Ss(function(U,ce,B){ce===void 0&&(ce=!0),S({type:"SET_FIELD_TOUCHED",payload:{field:U,value:ce}});var Z=B===void 0?r:B;return Z?H(k.values):Promise.resolve()}),C=u.useCallback(function(U,ce){U.persist&&U.persist();var B=U.target,Z=B.name,ge=B.id;B.outerHTML;var we=ce||Z||ge;ne(we,!0)},[ne]),W=Ss(function(U){if(Sx(U))return function(ce){return C(ce,U)};C(U)}),T=u.useCallback(function(U){sa(U)?S({type:"SET_FORMIK_STATE",payload:U}):S({type:"SET_FORMIK_STATE",payload:function(){return U}})},[]),G=u.useCallback(function(U){S({type:"SET_STATUS",payload:U})},[]),te=u.useCallback(function(U){S({type:"SET_ISSUBMITTING",payload:U})},[]),ve=Ss(function(){return S({type:"SUBMIT_ATTEMPT"}),H().then(function(U){var ce=U instanceof Error,B=!ce&&Object.keys(U).length===0;if(B){var Z;try{if(Z=Lt(),Z===void 0)return}catch(ge){throw ge}return Promise.resolve(Z).then(function(ge){return g.current&&S({type:"SUBMIT_SUCCESS"}),ge}).catch(function(ge){if(g.current)throw S({type:"SUBMIT_FAILURE"}),ge})}else if(g.current&&(S({type:"SUBMIT_FAILURE"}),ce))throw U})}),xe=Ss(function(U){U&&U.preventDefault&&sa(U.preventDefault)&&U.preventDefault(),U&&U.stopPropagation&&sa(U.stopPropagation)&&U.stopPropagation(),ve().catch(function(ce){console.warn("Warning: An unhandled error was caught from submitForm()",ce)})}),At={resetForm:oe,validateForm:H,validateField:Q,setErrors:K,setFieldError:ee,setFieldTouched:ne,setFieldValue:re,setStatus:G,setSubmitting:te,setTouched:q,setValues:ae,setFormikState:T,submitForm:ve},Lt=Ss(function(){return m(k.values,At)}),ls=Ss(function(U){U&&U.preventDefault&&sa(U.preventDefault)&&U.preventDefault(),U&&U.stopPropagation&&sa(U.stopPropagation)&&U.stopPropagation(),oe()}),ga=u.useCallback(function(U){return{value:kt(k.values,U),error:kt(k.errors,U),touched:!!kt(k.touched,U),initialValue:kt(x.current,U),initialTouched:!!kt(w.current,U),initialError:kt(h.current,U)}},[k.errors,k.touched,k.values]),L=u.useCallback(function(U){return{setValue:function(B,Z){return re(U,B,Z)},setTouched:function(B,Z){return ne(U,B,Z)},setError:function(B){return ee(U,B)}}},[re,ne,ee]),Ee=u.useCallback(function(U){var ce=Fc(U),B=ce?U.name:U,Z=kt(k.values,B),ge={name:B,value:Z,onChange:J,onBlur:W};if(ce){var we=U.type,_=U.value,le=U.as,se=U.multiple;we==="checkbox"?_===void 0?ge.checked=!!Z:(ge.checked=!!(Array.isArray(Z)&&~Z.indexOf(_)),ge.value=_):we==="radio"?(ge.checked=Z===_,ge.value=_):le==="select"&&se&&(ge.value=ge.value||[],ge.multiple=!0)}return ge},[W,J,k.values]),$=u.useMemo(function(){return!kr(x.current,k.values)},[x.current,k.values]),be=u.useMemo(function(){return typeof o<"u"?$?k.errors&&Object.keys(k.errors).length===0:o!==!1&&sa(o)?o(p):o:k.errors&&Object.keys(k.errors).length===0},[o,$,k.errors,p]),Pe=it({},k,{initialValues:x.current,initialErrors:h.current,initialTouched:w.current,initialStatus:v.current,handleBlur:W,handleChange:J,handleReset:ls,handleSubmit:xe,resetForm:oe,setErrors:K,setFormikState:T,setFieldTouched:ne,setFieldValue:re,setFieldError:ee,setStatus:G,setSubmitting:te,setTouched:q,setValues:ae,submitForm:ve,validateForm:H,validateField:Q,isValid:be,dirty:$,unregisterField:D,registerField:I,getFieldProps:Ee,getFieldMeta:ga,getFieldHelpers:L,validateOnBlur:r,validateOnChange:a,validateOnMount:l});return Pe}function f7(e){var t=h7(e),a=e.component,n=e.children,r=e.render,i=e.innerRef;return u.useImperativeHandle(i,function(){return t}),u.createElement(d7,{value:t},a?u.createElement(a,t):r?r(t):n?sa(n)?n(t):yw(n)?null:u.Children.only(n):null)}function x7(e){var t={};if(e.inner){if(e.inner.length===0)return Zs(t,e.path,e.message);for(var r=e.inner,a=Array.isArray(r),n=0,r=a?r:r[Symbol.iterator]();;){var i;if(a){if(n>=r.length)break;i=r[n++]}else{if(n=r.next(),n.done)break;i=n.value}var l=i;kt(t,l.path)||(t=Zs(t,l.path,l.message))}}return t}function g7(e,t,a,n){a===void 0&&(a=!1);var r=Ex(e);return t[a?"validateSync":"validate"](r,{abortEarly:!1,context:r})}function Ex(e){var t=Array.isArray(e)?[]:{};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var n=String(a);Array.isArray(e[n])===!0?t[n]=e[n].map(function(r){return Array.isArray(r)===!0||u1(r)?Ex(r):r!==""?r:void 0}):u1(e[n])?t[n]=Ex(e[n]):t[n]=e[n]!==""?e[n]:void 0}return t}function y7(e,t,a){var n=e.slice();return t.forEach(function(i,l){if(typeof n[l]>"u"){var o=a.clone!==!1,c=o&&a.isMergeableObject(i);n[l]=c?ax(Array.isArray(i)?[]:{},i,a):i}else a.isMergeableObject(i)?n[l]=ax(e[l],i,a):e.indexOf(i)===-1&&n.push(i)}),n}function b7(e){return Array.from(e).filter(function(t){return t.selected}).map(function(t){return t.value})}function v7(e,t,a){if(typeof e=="boolean")return!!t;var n=[],r=!1,i=-1;if(Array.isArray(e))n=e,i=e.indexOf(a),r=i>=0;else if(!a||a=="true"||a=="false")return!!t;return t&&a&&!r?n.concat(a):r?n.slice(0,i).concat(n.slice(i+1)):n}var j7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?u.useLayoutEffect:u.useEffect;function Ss(e){var t=u.useRef(e);return j7(function(){t.current=e}),u.useCallback(function(){for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t.current.apply(void 0,n)},[])}function Cs(e){var t=e.validate,a=e.name,n=e.render,r=e.children,i=e.as,l=e.component,o=e.className,c=Ar(e,["validate","name","render","children","as","component","className"]),d=xw(),m=Ar(d,["validate","validationSchema"]),f=m.registerField,p=m.unregisterField;u.useEffect(function(){return f(a,{validate:t}),function(){p(a)}},[f,p,a,t]);var x=m.getFieldProps(it({name:a},c)),h=m.getFieldMeta(a),w={field:x,form:m};if(n)return n(it({},w,{meta:h}));if(sa(r))return r(it({},w,{meta:h}));if(l){if(typeof l=="string"){var v=c.innerRef,g=Ar(c,["innerRef"]);return u.createElement(l,it({ref:v},x,g,{className:o}),r)}return u.createElement(l,it({field:x,form:m},c,{className:o}),r)}var y=i||"input";if(typeof y=="string"){var b=c.innerRef,j=Ar(c,["innerRef"]);return u.createElement(y,it({ref:b},x,j,{className:o}),r)}return u.createElement(y,it({},x,c,{className:o}),r)}var vw=u.forwardRef(function(e,t){var a=e.action,n=Ar(e,["action"]),r=a??"#",i=xw(),l=i.handleReset,o=i.handleSubmit;return u.createElement("form",it({onSubmit:o,ref:t,onReset:l,action:r},n))});vw.displayName="Form";function w7(e){var t=function(r){return u.createElement(u7,null,function(i){return u.createElement(e,it({},r,{formik:i}))})},a=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";return t.WrappedComponent=e,t.displayName="FormikConnect("+a+")",c7(t,e)}var N7=function(t,a,n){var r=ki(t),i=r[a];return r.splice(a,1),r.splice(n,0,i),r},S7=function(t,a,n){var r=ki(t),i=r[a];return r[a]=r[n],r[n]=i,r},kx=function(t,a,n){var r=ki(t);return r.splice(a,0,n),r},C7=function(t,a,n){var r=ki(t);return r[a]=n,r},ki=function(t){if(t){if(Array.isArray(t))return[].concat(t);var a=Object.keys(t).map(function(n){return parseInt(n)}).reduce(function(n,r){return r>n?r:n},0);return Array.from(it({},t,{length:a+1}))}else return[]},jw=function(t,a){var n=typeof t=="function"?t:a;return function(r){if(Array.isArray(r)||Fc(r)){var i=ki(r);return n(i)}return r}},E7=function(e){hw(t,e);function t(n){var r;return r=e.call(this,n)||this,r.updateArrayField=function(i,l,o){var c=r.props,d=c.name,m=c.formik.setFormikState;m(function(f){var p=jw(o,i),x=jw(l,i),h=Zs(f.values,d,i(kt(f.values,d))),w=o?p(kt(f.errors,d)):void 0,v=l?x(kt(f.touched,d)):void 0;return gw(w)&&(w=void 0),gw(v)&&(v=void 0),it({},f,{values:h,errors:o?Zs(f.errors,d,w):f.errors,touched:l?Zs(f.touched,d,v):f.touched})})},r.push=function(i){return r.updateArrayField(function(l){return[].concat(ki(l),[Uc(i)])},!1,!1)},r.handlePush=function(i){return function(){return r.push(i)}},r.swap=function(i,l){return r.updateArrayField(function(o){return S7(o,i,l)},!0,!0)},r.handleSwap=function(i,l){return function(){return r.swap(i,l)}},r.move=function(i,l){return r.updateArrayField(function(o){return N7(o,i,l)},!0,!0)},r.handleMove=function(i,l){return function(){return r.move(i,l)}},r.insert=function(i,l){return r.updateArrayField(function(o){return kx(o,i,l)},function(o){return kx(o,i,null)},function(o){return kx(o,i,null)})},r.handleInsert=function(i,l){return function(){return r.insert(i,l)}},r.replace=function(i,l){return r.updateArrayField(function(o){return C7(o,i,l)},!1,!1)},r.handleReplace=function(i,l){return function(){return r.replace(i,l)}},r.unshift=function(i){var l=-1;return r.updateArrayField(function(o){var c=o?[i].concat(o):[i];return l=c.length,c},function(o){return o?[null].concat(o):[null]},function(o){return o?[null].concat(o):[null]}),l},r.handleUnshift=function(i){return function(){return r.unshift(i)}},r.handleRemove=function(i){return function(){return r.remove(i)}},r.handlePop=function(){return function(){return r.pop()}},r.remove=r.remove.bind(fw(r)),r.pop=r.pop.bind(fw(r)),r}var a=t.prototype;return a.componentDidUpdate=function(r){this.props.validateOnChange&&this.props.formik.validateOnChange&&!kr(kt(r.formik.values,r.name),kt(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},a.remove=function(r){var i;return this.updateArrayField(function(l){var o=l?ki(l):[];return i||(i=o[r]),sa(o.splice)&&o.splice(r,1),sa(o.every)&&o.every(function(c){return c===void 0})?[]:o},!0,!0),i},a.pop=function(){var r;return this.updateArrayField(function(i){var l=i.slice();return r||(r=l&&l.pop&&l.pop()),l},!0,!0),r},a.render=function(){var r={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},i=this.props,l=i.component,o=i.render,c=i.children,d=i.name,m=i.formik,f=Ar(m,["validate","validationSchema"]),p=it({},r,{form:f,name:d});return l?u.createElement(l,p):o?o(p):c?typeof c=="function"?c(p):yw(c)?null:u.Children.only(c):null},t}(u.Component);E7.defaultProps={validateOnChange:!0};var k7=function(e){hw(t,e);function t(){return e.apply(this,arguments)||this}var a=t.prototype;return a.shouldComponentUpdate=function(r){return kt(this.props.formik.errors,this.props.name)!==kt(r.formik.errors,this.props.name)||kt(this.props.formik.touched,this.props.name)!==kt(r.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(r).length},a.render=function(){var r=this.props,i=r.component,l=r.formik,o=r.render,c=r.children,d=r.name,m=Ar(r,["component","formik","render","children","name"]),f=kt(l.touched,d),p=kt(l.errors,d);return f&&p?o?sa(o)?o(p):null:c?sa(c)?c(p):null:i?u.createElement(i,m,p):p:null},t}(u.Component),$s=w7(k7);function Ai(e){this._maxSize=e,this.clear()}Ai.prototype.clear=function(){this._size=0,this._values=Object.create(null)},Ai.prototype.get=function(e){return this._values[e]},Ai.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var A7=/[^.^\]^[]+|(?=\[\]|\.\.)/g,ww=/^\d+$/,T7=/^\d/,M7=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,O7=/^\s*(['"]?)(.*?)(\1)\s*$/,Ax=512,Nw=new Ai(Ax),Sw=new Ai(Ax),Cw=new Ai(Ax),Ti={Cache:Ai,split:Mx,normalizePath:Tx,setter:function(e){var t=Tx(e);return Sw.get(e)||Sw.set(e,function(n,r){for(var i=0,l=t.length,o=n;i<l-1;){var c=t[i];if(c==="__proto__"||c==="constructor"||c==="prototype")return n;o=o[t[i++]]}o[t[i]]=r})},getter:function(e,t){var a=Tx(e);return Cw.get(e)||Cw.set(e,function(r){for(var i=0,l=a.length;i<l;)if(r!=null||!t)r=r[a[i++]];else return;return r})},join:function(e){return e.reduce(function(t,a){return t+(Ox(a)||ww.test(a)?"["+a+"]":(t?".":"")+a)},"")},forEach:function(e,t,a){_7(Array.isArray(e)?e:Mx(e),t,a)}};function Tx(e){return Nw.get(e)||Nw.set(e,Mx(e).map(function(t){return t.replace(O7,"$2")}))}function Mx(e){return e.match(A7)||[""]}function _7(e,t,a){var n=e.length,r,i,l,o;for(i=0;i<n;i++)r=e[i],r&&(L7(r)&&(r='"'+r+'"'),o=Ox(r),l=!o&&/^\d+$/.test(r),t.call(a,r,o,l,i,e))}function Ox(e){return typeof e=="string"&&e&&["'",'"'].indexOf(e.charAt(0))!==-1}function R7(e){return e.match(T7)&&!e.match(ww)}function D7(e){return M7.test(e)}function L7(e){return!Ox(e)&&(R7(e)||D7(e))}const I7=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,um=e=>e.match(I7)||[],mm=e=>e[0].toUpperCase()+e.slice(1),_x=(e,t)=>um(e).join(t).toLowerCase(),Ew=e=>um(e).reduce((t,a)=>`${t}${t?a[0].toUpperCase()+a.slice(1).toLowerCase():a.toLowerCase()}`,"");var Rx={words:um,upperFirst:mm,camelCase:Ew,pascalCase:e=>mm(Ew(e)),snakeCase:e=>_x(e,"_"),kebabCase:e=>_x(e,"-"),sentenceCase:e=>mm(_x(e," ")),titleCase:e=>um(e).map(mm).join(" ")},Dx={exports:{}};Dx.exports=function(e){return kw(z7(e),e)},Dx.exports.array=kw;function kw(e,t){var a=e.length,n=new Array(a),r={},i=a,l=$7(t),o=U7(e);for(t.forEach(function(d){if(!o.has(d[0])||!o.has(d[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});i--;)r[i]||c(e[i],i,new Set);return n;function c(d,m,f){if(f.has(d)){var p;try{p=", node was:"+JSON.stringify(d)}catch{p=""}throw new Error("Cyclic dependency"+p)}if(!o.has(d))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(d));if(!r[m]){r[m]=!0;var x=l.get(d)||new Set;if(x=Array.from(x),m=x.length){f.add(d);do{var h=x[--m];c(h,o.get(h),f)}while(m);f.delete(d)}n[--a]=d}}}function z7(e){for(var t=new Set,a=0,n=e.length;a<n;a++){var r=e[a];t.add(r[0]),t.add(r[1])}return Array.from(t)}function $7(e){for(var t=new Map,a=0,n=e.length;a<n;a++){var r=e[a];t.has(r[0])||t.set(r[0],new Set),t.has(r[1])||t.set(r[1],new Set),t.get(r[0]).add(r[1])}return t}function U7(e){for(var t=new Map,a=0,n=e.length;a<n;a++)t.set(e[a],a);return t}var F7=Dx.exports;const q7=xt(F7),P7=Object.prototype.toString,B7=Error.prototype.toString,H7=RegExp.prototype.toString,V7=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",G7=/^Symbol\((.*)\)(.*)$/;function Q7(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function Aw(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const a=typeof e;if(a==="number")return Q7(e);if(a==="string")return t?`"${e}"`:e;if(a==="function")return"[Function "+(e.name||"anonymous")+"]";if(a==="symbol")return V7.call(e).replace(G7,"Symbol($1)");const n=P7.call(e).slice(8,-1);return n==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):n==="Error"||e instanceof Error?"["+B7.call(e)+"]":n==="RegExp"?H7.call(e):null}function Tr(e,t){let a=Aw(e,t);return a!==null?a:JSON.stringify(e,function(n,r){let i=Aw(this[n],t);return i!==null?i:r},2)}function Tw(e){return e==null?[]:[].concat(e)}let Mw,Ow,_w,Y7=/\$\{\s*(\w+)\s*\}/g;Mw=Symbol.toStringTag;class Rw{constructor(t,a,n,r){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[Mw]="Error",this.name="ValidationError",this.value=a,this.path=n,this.type=r,this.errors=[],this.inner=[],Tw(t).forEach(i=>{if(xa.isError(i)){this.errors.push(...i.errors);const l=i.inner.length?i.inner:[i];this.inner.push(...l)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}Ow=Symbol.hasInstance,_w=Symbol.toStringTag;class xa extends Error{static formatError(t,a){const n=a.label||a.path||"this";return a=Object.assign({},a,{path:n,originalPath:a.path}),typeof t=="string"?t.replace(Y7,(r,i)=>Tr(a[i])):typeof t=="function"?t(a):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,a,n,r,i){const l=new Rw(t,a,n,r);if(i)return l;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[_w]="Error",this.name=l.name,this.message=l.message,this.type=l.type,this.value=l.value,this.path=l.path,this.errors=l.errors,this.inner=l.inner,Error.captureStackTrace&&Error.captureStackTrace(this,xa)}static[Ow](t){return Rw[Symbol.hasInstance](t)||super[Symbol.hasInstance](t)}}let Js={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:a,originalValue:n})=>{const r=n!=null&&n!==a?` (cast from the value \`${Tr(n,!0)}\`).`:".";return t!=="mixed"?`${e} must be a \`${t}\` type, but the final value was: \`${Tr(a,!0)}\``+r:`${e} must match the configured type. The validated value was: \`${Tr(a,!0)}\``+r}},Ba={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Mr={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Lx={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Ix={isValue:"${path} field must be ${value}"},pm={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"};Object.assign(Object.create(null),{mixed:Js,string:Ba,number:Mr,date:Lx,object:pm,array:{min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},boolean:Ix,tuple:{notType:e=>{const{path:t,value:a,spec:n}=e,r=n.types.length;if(Array.isArray(a)){if(a.length<r)return`${t} tuple value has too few items, expected a length of ${r} but got ${a.length} for value: \`${Tr(a,!0)}\``;if(a.length>r)return`${t} tuple value has too many items, expected a length of ${r} but got ${a.length} for value: \`${Tr(a,!0)}\``}return xa.formatError(Js.notType,e)}}});const zx=e=>e&&e.__isYupSchema__;class hm{static fromOptions(t,a){if(!a.then&&!a.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:r,otherwise:i}=a,l=typeof n=="function"?n:(...o)=>o.every(c=>c===n);return new hm(t,(o,c)=>{var d;let m=l(...o)?r:i;return(d=m==null?void 0:m(c))!=null?d:c})}constructor(t,a){this.fn=void 0,this.refs=t,this.refs=t,this.fn=a}resolve(t,a){let n=this.refs.map(i=>i.getValue(a==null?void 0:a.value,a==null?void 0:a.parent,a==null?void 0:a.context)),r=this.fn(n,t,a);if(r===void 0||r===t)return t;if(!zx(r))throw new TypeError("conditions must return a schema object");return r.resolve(a)}}const fm={context:"$",value:"."};class Mi{constructor(t,a={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===fm.context,this.isValue=this.key[0]===fm.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?fm.context:this.isValue?fm.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&Ti.getter(this.path,!0),this.map=a.map}getValue(t,a,n){let r=this.isContext?n:this.isValue?t:a;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}cast(t,a){return this.getValue(t,a==null?void 0:a.parent,a==null?void 0:a.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}Mi.prototype.__isYupRef=!0;const Us=e=>e==null;function Jl(e){function t({value:a,path:n="",options:r,originalValue:i,schema:l},o,c){const{name:d,test:m,params:f,message:p,skipAbsent:x}=e;let{parent:h,context:w,abortEarly:v=l.spec.abortEarly,disableStackTrace:g=l.spec.disableStackTrace}=r;const y={value:a,parent:h,context:w};function b(A={}){const z=Dw(Object.assign({value:a,originalValue:i,label:l.spec.label,path:A.path||n,spec:l.spec,disableStackTrace:A.disableStackTrace||g},f,A.params),y),H=new xa(xa.formatError(A.message||p,z),a,z.path,A.type||d,z.disableStackTrace);return H.params=z,H}const j=v?o:c;let E={path:n,parent:h,type:d,from:r.from,createError:b,resolve(A){return Lw(A,y)},options:r,originalValue:i,schema:l};const k=A=>{xa.isError(A)?j(A):A?c(null):j(b())},S=A=>{xa.isError(A)?j(A):o(A)};if(x&&Us(a))return k(!0);let M;try{var R;if(M=m.call(E,a,E),typeof((R=M)==null?void 0:R.then)=="function"){if(r.sync)throw new Error(`Validation test of type: "${E.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(M).then(k,S)}}catch(A){S(A);return}k(M)}return t.OPTIONS=e,t}function Dw(e,t){if(!e)return e;for(const a of Object.keys(e))e[a]=Lw(e[a],t);return e}function Lw(e,t){return Mi.isRef(e)?e.getValue(t.value,t.parent,t.context):e}function K7(e,t,a,n=a){let r,i,l;return t?(Ti.forEach(t,(o,c,d)=>{let m=c?o.slice(1,o.length-1):o;e=e.resolve({context:n,parent:r,value:a});let f=e.type==="tuple",p=d?parseInt(m,10):0;if(e.innerType||f){if(f&&!d)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${l}" must contain an index to the tuple element, e.g. "${l}[0]"`);if(a&&p>=a.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${o}, in the path: ${t}. because there is no value at that index. `);r=a,a=a&&a[p],e=f?e.spec.types[p]:e.innerType}if(!d){if(!e.fields||!e.fields[m])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${l} which is a type: "${e.type}")`);r=a,a=a&&a[m],e=e.fields[m]}i=m,l=c?"["+o+"]":"."+o}),{schema:e,parent:r,parentPath:i}):{parent:r,parentPath:t,schema:e}}class xm extends Set{describe(){const t=[];for(const a of this.values())t.push(Mi.isRef(a)?a.describe():a);return t}resolveAll(t){let a=[];for(const n of this.values())a.push(t(n));return a}clone(){return new xm(this.values())}merge(t,a){const n=this.clone();return t.forEach(r=>n.add(r)),a.forEach(r=>n.delete(r)),n}}function eo(e,t=new Map){if(zx(e)||!e||typeof e!="object")return e;if(t.has(e))return t.get(e);let a;if(e instanceof Date)a=new Date(e.getTime()),t.set(e,a);else if(e instanceof RegExp)a=new RegExp(e),t.set(e,a);else if(Array.isArray(e)){a=new Array(e.length),t.set(e,a);for(let n=0;n<e.length;n++)a[n]=eo(e[n],t)}else if(e instanceof Map){a=new Map,t.set(e,a);for(const[n,r]of e.entries())a.set(n,eo(r,t))}else if(e instanceof Set){a=new Set,t.set(e,a);for(const n of e)a.add(eo(n,t))}else if(e instanceof Object){a={},t.set(e,a);for(const[n,r]of Object.entries(e))a[n]=eo(r,t)}else throw Error(`Unable to clone ${e}`);return a}function W7(e){if(!(e!=null&&e.length))return;const t=[];let a="",n=!1,r=!1;for(let i=0;i<e.length;i++){const l=e[i];if(l==="["&&!r){a&&(t.push(...a.split(".").filter(Boolean)),a=""),n=!0;continue}if(l==="]"&&!r){a&&(/^\d+$/.test(a)?t.push(a):t.push(a.replace(/^"|"$/g,"")),a=""),n=!1;continue}if(l==='"'){r=!r;continue}if(l==="."&&!n&&!r){a&&(t.push(a),a="");continue}a+=l}return a&&t.push(...a.split(".").filter(Boolean)),t}function X7(e,t){const a=t?`${t}.${e.path}`:e.path;return e.errors.map(n=>({message:n,path:W7(a)}))}function Iw(e,t){var a;if(!((a=e.inner)!=null&&a.length)&&e.errors.length)return X7(e,t);const n=t?`${t}.${e.path}`:e.path;return e.inner.flatMap(r=>Iw(r,n))}class Es{constructor(t){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new xm,this._blacklist=new xm,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Js.notType)}),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},t==null?void 0:t.spec),this.withMutation(a=>{a.nonNullable()})}get _type(){return this.type}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const a=Object.create(Object.getPrototypeOf(this));return a.type=this.type,a._typeCheck=this._typeCheck,a._whitelist=this._whitelist.clone(),a._blacklist=this._blacklist.clone(),a.internalTests=Object.assign({},this.internalTests),a.exclusiveTests=Object.assign({},this.exclusiveTests),a.deps=[...this.deps],a.conditions=[...this.conditions],a.tests=[...this.tests],a.transforms=[...this.transforms],a.spec=eo(Object.assign({},this.spec,t)),a}label(t){let a=this.clone();return a.spec.label=t,a}meta(...t){if(t.length===0)return this.spec.meta;let a=this.clone();return a.spec.meta=Object.assign(a.spec.meta||{},t[0]),a}withMutation(t){let a=this._mutate;this._mutate=!0;let n=t(this);return this._mutate=a,n}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let a=this,n=t.clone();const r=Object.assign({},a.spec,n.spec);return n.spec=r,n.internalTests=Object.assign({},a.internalTests,n.internalTests),n._whitelist=a._whitelist.merge(t._whitelist,t._blacklist),n._blacklist=a._blacklist.merge(t._blacklist,t._whitelist),n.tests=a.tests,n.exclusiveTests=a.exclusiveTests,n.withMutation(i=>{t.tests.forEach(l=>{i.test(l.OPTIONS)})}),n.transforms=[...a.transforms,...n.transforms],n}isType(t){return t==null?!!(this.spec.nullable&&t===null||this.spec.optional&&t===void 0):this._typeCheck(t)}resolve(t){let a=this;if(a.conditions.length){let n=a.conditions;a=a.clone(),a.conditions=[],a=n.reduce((r,i)=>i.resolve(r,t),a),a=a.resolve(t)}return a}resolveOptions(t){var a,n,r,i;return Object.assign({},t,{from:t.from||[],strict:(a=t.strict)!=null?a:this.spec.strict,abortEarly:(n=t.abortEarly)!=null?n:this.spec.abortEarly,recursive:(r=t.recursive)!=null?r:this.spec.recursive,disableStackTrace:(i=t.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(t,a={}){let n=this.resolve(Object.assign({},a,{value:t})),r=a.assert==="ignore-optionality",i=n._cast(t,a);if(a.assert!==!1&&!n.isType(i)){if(r&&Us(i))return i;let l=Tr(t),o=Tr(i);throw new TypeError(`The value of ${a.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${l} 
`+(o!==l?`result of cast: ${o}`:""))}return i}_cast(t,a){let n=t===void 0?t:this.transforms.reduce((r,i)=>i.call(this,r,t,this,a),t);return n===void 0&&(n=this.getDefault(a)),n}_validate(t,a={},n,r){let{path:i,originalValue:l=t,strict:o=this.spec.strict}=a,c=t;o||(c=this._cast(c,Object.assign({assert:!1},a)));let d=[];for(let m of Object.values(this.internalTests))m&&d.push(m);this.runTests({path:i,value:c,originalValue:l,options:a,tests:d},n,m=>{if(m.length)return r(m,c);this.runTests({path:i,value:c,originalValue:l,options:a,tests:this.tests},n,r)})}runTests(t,a,n){let r=!1,{tests:i,value:l,originalValue:o,path:c,options:d}=t,m=w=>{r||(r=!0,a(w,l))},f=w=>{r||(r=!0,n(w,l))},p=i.length,x=[];if(!p)return f([]);let h={value:l,originalValue:o,path:c,options:d,schema:this};for(let w=0;w<i.length;w++){const v=i[w];v(h,m,function(y){y&&(Array.isArray(y)?x.push(...y):x.push(y)),--p<=0&&f(x)})}}asNestedTest({key:t,index:a,parent:n,parentPath:r,originalParent:i,options:l}){const o=t??a;if(o==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof o=="number";let d=n[o];const m=Object.assign({},l,{strict:!0,parent:n,value:d,originalValue:i[o],key:void 0,[c?"index":"key"]:o,path:c||o.includes(".")?`${r||""}[${c?o:`"${o}"`}]`:(r?`${r}.`:"")+t});return(f,p,x)=>this.resolve(m)._validate(d,m,p,x)}validate(t,a){var n;let r=this.resolve(Object.assign({},a,{value:t})),i=(n=a==null?void 0:a.disableStackTrace)!=null?n:r.spec.disableStackTrace;return new Promise((l,o)=>r._validate(t,a,(c,d)=>{xa.isError(c)&&(c.value=d),o(c)},(c,d)=>{c.length?o(new xa(c,d,void 0,void 0,i)):l(d)}))}validateSync(t,a){var n;let r=this.resolve(Object.assign({},a,{value:t})),i,l=(n=a==null?void 0:a.disableStackTrace)!=null?n:r.spec.disableStackTrace;return r._validate(t,Object.assign({},a,{sync:!0}),(o,c)=>{throw xa.isError(o)&&(o.value=c),o},(o,c)=>{if(o.length)throw new xa(o,t,void 0,void 0,l);i=c}),i}isValid(t,a){return this.validate(t,a).then(()=>!0,n=>{if(xa.isError(n))return!1;throw n})}isValidSync(t,a){try{return this.validateSync(t,a),!0}catch(n){if(xa.isError(n))return!1;throw n}}_getDefault(t){let a=this.spec.default;return a==null?a:typeof a=="function"?a.call(this,t):eo(a)}getDefault(t){return this.resolve(t||{})._getDefault(t)}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){return this.clone({strict:t})}nullability(t,a){const n=this.clone({nullable:t});return n.internalTests.nullable=Jl({message:a,name:"nullable",test(r){return r===null?this.schema.spec.nullable:!0}}),n}optionality(t,a){const n=this.clone({optional:t});return n.internalTests.optionality=Jl({message:a,name:"optionality",test(r){return r===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(t=Js.defined){return this.optionality(!1,t)}nullable(){return this.nullability(!0)}nonNullable(t=Js.notNull){return this.nullability(!1,t)}required(t=Js.required){return this.clone().withMutation(a=>a.nonNullable(t).defined(t))}notRequired(){return this.clone().withMutation(t=>t.nullable().optional())}transform(t){let a=this.clone();return a.transforms.push(t),a}test(...t){let a;if(t.length===1?typeof t[0]=="function"?a={test:t[0]}:a=t[0]:t.length===2?a={name:t[0],test:t[1]}:a={name:t[0],message:t[1],test:t[2]},a.message===void 0&&(a.message=Js.default),typeof a.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),r=Jl(a),i=a.exclusive||a.name&&n.exclusiveTests[a.name]===!0;if(a.exclusive&&!a.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return a.name&&(n.exclusiveTests[a.name]=!!a.exclusive),n.tests=n.tests.filter(l=>!(l.OPTIONS.name===a.name&&(i||l.OPTIONS.test===r.OPTIONS.test))),n.tests.push(r),n}when(t,a){!Array.isArray(t)&&typeof t!="string"&&(a=t,t=".");let n=this.clone(),r=Tw(t).map(i=>new Mi(i));return r.forEach(i=>{i.isSibling&&n.deps.push(i.key)}),n.conditions.push(typeof a=="function"?new hm(r,a):hm.fromOptions(r,a)),n}typeError(t){let a=this.clone();return a.internalTests.typeError=Jl({message:t,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),a}oneOf(t,a=Js.oneOf){let n=this.clone();return t.forEach(r=>{n._whitelist.add(r),n._blacklist.delete(r)}),n.internalTests.whiteList=Jl({message:a,name:"oneOf",skipAbsent:!0,test(r){let i=this.schema._whitelist,l=i.resolveAll(this.resolve);return l.includes(r)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:l}})}}),n}notOneOf(t,a=Js.notOneOf){let n=this.clone();return t.forEach(r=>{n._blacklist.add(r),n._whitelist.delete(r)}),n.internalTests.blacklist=Jl({message:a,name:"notOneOf",test(r){let i=this.schema._blacklist,l=i.resolveAll(this.resolve);return l.includes(r)?this.createError({params:{values:Array.from(i).join(", "),resolved:l}}):!0}}),n}strip(t=!0){let a=this.clone();return a.spec.strip=t,a}describe(t){const a=(t?this.resolve(t):this).clone(),{label:n,meta:r,optional:i,nullable:l}=a.spec;return{meta:r,label:n,optional:i,nullable:l,default:a.getDefault(t),type:a.type,oneOf:a._whitelist.describe(),notOneOf:a._blacklist.describe(),tests:a.tests.filter((c,d,m)=>m.findIndex(f=>f.OPTIONS.name===c.OPTIONS.name)===d).map(c=>{const d=c.OPTIONS.params&&t?Dw(Object.assign({},c.OPTIONS.params),t):c.OPTIONS.params;return{name:c.OPTIONS.name,params:d}})}}get"~standard"(){const t=this;return{version:1,vendor:"yup",async validate(n){try{return{value:await t.validate(n,{abortEarly:!1})}}catch(r){if(r instanceof xa)return{issues:Iw(r)};throw r}}}}}Es.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])Es.prototype[`${e}At`]=function(t,a,n={}){const{parent:r,parentPath:i,schema:l}=K7(this,t,a,n.context);return l[e](r&&r[i],Object.assign({},n,{parent:r,path:t}))};for(const e of["equals","is"])Es.prototype[e]=Es.prototype.oneOf;for(const e of["not","nope"])Es.prototype[e]=Es.prototype.notOneOf;function zw(){return new $w}class $w extends Es{constructor(){super({type:"boolean",check(t){return t instanceof Boolean&&(t=t.valueOf()),typeof t=="boolean"}}),this.withMutation(()=>{this.transform((t,a)=>{if(this.spec.coerce&&!this.isType(t)){if(/^(true|1)$/i.test(String(t)))return!0;if(/^(false|0)$/i.test(String(t)))return!1}return t})})}isTrue(t=Ix.isValue){return this.test({message:t,name:"is-value",exclusive:!0,params:{value:"true"},test(a){return Us(a)||a===!0}})}isFalse(t=Ix.isValue){return this.test({message:t,name:"is-value",exclusive:!0,params:{value:"false"},test(a){return Us(a)||a===!1}})}default(t){return super.default(t)}defined(t){return super.defined(t)}optional(){return super.optional()}required(t){return super.required(t)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(t){return super.nonNullable(t)}strip(t){return super.strip(t)}}zw.prototype=$w.prototype;const Z7=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function J7(e){const t=$x(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(t.z===void 0&&t.plusMinus===void 0)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let a=0;return t.z!=="Z"&&t.plusMinus!==void 0&&(a=t.hourOffset*60+t.minuteOffset,t.plusMinus==="+"&&(a=0-a)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+a,t.second,t.millisecond)}function $x(e){var t,a;const n=Z7.exec(e);return n?{year:In(n[1]),month:In(n[2],1)-1,day:In(n[3],1),hour:In(n[4]),minute:In(n[5]),second:In(n[6]),millisecond:n[7]?In(n[7].substring(0,3)):0,precision:(t=(a=n[7])==null?void 0:a.length)!=null?t:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:In(n[10]),minuteOffset:In(n[11])}:null}function In(e,t=0){return Number(e)||t}let eR=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,tR=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,aR=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,sR="^\\d{4}-\\d{2}-\\d{2}",nR="\\d{2}:\\d{2}:\\d{2}",rR="(([+-]\\d{2}(:?\\d{2})?)|Z)",iR=new RegExp(`${sR}T${nR}(\\.\\d+)?${rR}$`),lR=e=>Us(e)||e===e.trim(),oR={}.toString();function na(){return new Uw}class Uw extends Es{constructor(){super({type:"string",check(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}}),this.withMutation(()=>{this.transform((t,a)=>{if(!this.spec.coerce||this.isType(t)||Array.isArray(t))return t;const n=t!=null&&t.toString?t.toString():t;return n===oR?t:n})})}required(t){return super.required(t).withMutation(a=>a.test({message:t||Js.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(a=>a.OPTIONS.name!=="required"),t))}length(t,a=Ba.length){return this.test({message:a,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(n){return n.length===this.resolve(t)}})}min(t,a=Ba.min){return this.test({message:a,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(n){return n.length>=this.resolve(t)}})}max(t,a=Ba.max){return this.test({name:"max",exclusive:!0,message:a,params:{max:t},skipAbsent:!0,test(n){return n.length<=this.resolve(t)}})}matches(t,a){let n=!1,r,i;return a&&(typeof a=="object"?{excludeEmptyString:n=!1,message:r,name:i}=a:r=a),this.test({name:i||"matches",message:r||Ba.matches,params:{regex:t},skipAbsent:!0,test:l=>l===""&&n||l.search(t)!==-1})}email(t=Ba.email){return this.matches(eR,{name:"email",message:t,excludeEmptyString:!0})}url(t=Ba.url){return this.matches(tR,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=Ba.uuid){return this.matches(aR,{name:"uuid",message:t,excludeEmptyString:!1})}datetime(t){let a="",n,r;return t&&(typeof t=="object"?{message:a="",allowOffset:n=!1,precision:r=void 0}=t:a=t),this.matches(iR,{name:"datetime",message:a||Ba.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:a||Ba.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:i=>{if(!i||n)return!0;const l=$x(i);return l?!!l.z:!1}}).test({name:"datetime_precision",message:a||Ba.datetime_precision,params:{precision:r},skipAbsent:!0,test:i=>{if(!i||r==null)return!0;const l=$x(i);return l?l.precision===r:!1}})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=Ba.trim){return this.transform(a=>a!=null?a.trim():a).test({message:t,name:"trim",test:lR})}lowercase(t=Ba.lowercase){return this.transform(a=>Us(a)?a:a.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:a=>Us(a)||a===a.toLowerCase()})}uppercase(t=Ba.uppercase){return this.transform(a=>Us(a)?a:a.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:a=>Us(a)||a===a.toUpperCase()})}}na.prototype=Uw.prototype;let cR=e=>e!=+e;function qc(){return new Fw}class Fw extends Es{constructor(){super({type:"number",check(t){return t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&!cR(t)}}),this.withMutation(()=>{this.transform((t,a)=>{if(!this.spec.coerce)return t;let n=t;if(typeof n=="string"){if(n=n.replace(/\s/g,""),n==="")return NaN;n=+n}return this.isType(n)||n===null?n:parseFloat(n)})})}min(t,a=Mr.min){return this.test({message:a,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(n){return n>=this.resolve(t)}})}max(t,a=Mr.max){return this.test({message:a,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(n){return n<=this.resolve(t)}})}lessThan(t,a=Mr.lessThan){return this.test({message:a,name:"max",exclusive:!0,params:{less:t},skipAbsent:!0,test(n){return n<this.resolve(t)}})}moreThan(t,a=Mr.moreThan){return this.test({message:a,name:"min",exclusive:!0,params:{more:t},skipAbsent:!0,test(n){return n>this.resolve(t)}})}positive(t=Mr.positive){return this.moreThan(0,t)}negative(t=Mr.negative){return this.lessThan(0,t)}integer(t=Mr.integer){return this.test({name:"integer",message:t,skipAbsent:!0,test:a=>Number.isInteger(a)})}truncate(){return this.transform(t=>Us(t)?t:t|0)}round(t){var a;let n=["ceil","floor","round","trunc"];if(t=((a=t)==null?void 0:a.toLowerCase())||"round",t==="trunc")return this.truncate();if(n.indexOf(t.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform(r=>Us(r)?r:Math[t](r))}}qc.prototype=Fw.prototype;let dR=new Date(""),uR=e=>Object.prototype.toString.call(e)==="[object Date]";class Ux extends Es{constructor(){super({type:"date",check(t){return uR(t)&&!isNaN(t.getTime())}}),this.withMutation(()=>{this.transform((t,a)=>!this.spec.coerce||this.isType(t)||t===null?t:(t=J7(t),isNaN(t)?Ux.INVALID_DATE:new Date(t)))})}prepareParam(t,a){let n;if(Mi.isRef(t))n=t;else{let r=this.cast(t);if(!this._typeCheck(r))throw new TypeError(`\`${a}\` must be a Date or a value that can be \`cast()\` to a Date`);n=r}return n}min(t,a=Lx.min){let n=this.prepareParam(t,"min");return this.test({message:a,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(r){return r>=this.resolve(n)}})}max(t,a=Lx.max){let n=this.prepareParam(t,"max");return this.test({message:a,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(r){return r<=this.resolve(n)}})}}Ux.INVALID_DATE=dR;function mR(e,t=[]){let a=[],n=new Set,r=new Set(t.map(([l,o])=>`${l}-${o}`));function i(l,o){let c=Ti.split(l)[0];n.add(c),r.has(`${o}-${c}`)||a.push([o,c])}for(const l of Object.keys(e)){let o=e[l];n.add(l),Mi.isRef(o)&&o.isSibling?i(o.path,l):zx(o)&&"deps"in o&&o.deps.forEach(c=>i(c,l))}return q7.array(Array.from(n),a).reverse()}function qw(e,t){let a=1/0;return e.some((n,r)=>{var i;if((i=t.path)!=null&&i.includes(n))return a=r,!0}),a}function Pw(e){return(t,a)=>qw(e,t)-qw(e,a)}const pR=(e,t,a)=>{if(typeof e!="string")return e;let n=e;try{n=JSON.parse(e)}catch{}return a.isType(n)?n:e};function gm(e){if("fields"in e){const t={};for(const[a,n]of Object.entries(e.fields))t[a]=gm(n);return e.setFields(t)}if(e.type==="array"){const t=e.optional();return t.innerType&&(t.innerType=gm(t.innerType)),t}return e.type==="tuple"?e.optional().clone({types:e.spec.types.map(gm)}):"optional"in e?e.optional():e}const hR=(e,t)=>{const a=[...Ti.normalizePath(t)];if(a.length===1)return a[0]in e;let n=a.pop(),r=Ti.getter(Ti.join(a),!0)(e);return!!(r&&n in r)};let Bw=e=>Object.prototype.toString.call(e)==="[object Object]";function Hw(e,t){let a=Object.keys(e.fields);return Object.keys(t).filter(n=>a.indexOf(n)===-1)}const fR=Pw([]);function Fx(e){return new Vw(e)}class Vw extends Es{constructor(t){super({type:"object",check(a){return Bw(a)||typeof a=="function"}}),this.fields=Object.create(null),this._sortErrors=fR,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,a={}){var n;let r=super._cast(t,a);if(r===void 0)return this.getDefault(a);if(!this._typeCheck(r))return r;let i=this.fields,l=(n=a.stripUnknown)!=null?n:this.spec.noUnknown,o=[].concat(this._nodes,Object.keys(r).filter(f=>!this._nodes.includes(f))),c={},d=Object.assign({},a,{parent:c,__validating:a.__validating||!1}),m=!1;for(const f of o){let p=i[f],x=f in r,h=r[f];if(p){let w;d.path=(a.path?`${a.path}.`:"")+f,p=p.resolve({value:h,context:a.context,parent:c});let v=p instanceof Es?p.spec:void 0,g=v==null?void 0:v.strict;if(v!=null&&v.strip){m=m||f in r;continue}w=!a.__validating||!g?p.cast(h,d):h,w!==void 0&&(c[f]=w)}else x&&!l&&(c[f]=h);(x!==f in c||c[f]!==h)&&(m=!0)}return m?c:r}_validate(t,a={},n,r){let{from:i=[],originalValue:l=t,recursive:o=this.spec.recursive}=a;a.from=[{schema:this,value:l},...i],a.__validating=!0,a.originalValue=l,super._validate(t,a,n,(c,d)=>{if(!o||!Bw(d)){r(c,d);return}l=l||d;let m=[];for(let f of this._nodes){let p=this.fields[f];!p||Mi.isRef(p)||m.push(p.asNestedTest({options:a,key:f,parent:d,parentPath:a.path,originalParent:l}))}this.runTests({tests:m,value:d,originalValue:l,options:a},n,f=>{r(f.sort(this._sortErrors).concat(c),d)})})}clone(t){const a=super.clone(t);return a.fields=Object.assign({},this.fields),a._nodes=this._nodes,a._excludedEdges=this._excludedEdges,a._sortErrors=this._sortErrors,a}concat(t){let a=super.concat(t),n=a.fields;for(let[r,i]of Object.entries(this.fields)){const l=n[r];n[r]=l===void 0?i:l}return a.withMutation(r=>r.setFields(n,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let a={};return this._nodes.forEach(n=>{var r;const i=this.fields[n];let l=t;(r=l)!=null&&r.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[n]})),a[n]=i&&"getDefault"in i?i.getDefault(l):void 0}),a}setFields(t,a){let n=this.clone();return n.fields=t,n._nodes=mR(t,a),n._sortErrors=Pw(Object.keys(t)),a&&(n._excludedEdges=a),n}shape(t,a=[]){return this.clone().withMutation(n=>{let r=n._excludedEdges;return a.length&&(Array.isArray(a[0])||(a=[a]),r=[...n._excludedEdges,...a]),n.setFields(Object.assign(n.fields,t),r)})}partial(){const t={};for(const[a,n]of Object.entries(this.fields))t[a]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(t)}deepPartial(){return gm(this)}pick(t){const a={};for(const n of t)this.fields[n]&&(a[n]=this.fields[n]);return this.setFields(a,this._excludedEdges.filter(([n,r])=>t.includes(n)&&t.includes(r)))}omit(t){const a=[];for(const n of Object.keys(this.fields))t.includes(n)||a.push(n);return this.pick(a)}from(t,a,n){let r=Ti.getter(t,!0);return this.transform(i=>{if(!i)return i;let l=i;return hR(i,t)&&(l=Object.assign({},i),n||delete l[t],l[a]=r(i)),l})}json(){return this.transform(pR)}exact(t){return this.test({name:"exact",exclusive:!0,message:t||pm.exact,test(a){if(a==null)return!0;const n=Hw(this.schema,a);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(t=!0,a=pm.noUnknown){typeof t!="boolean"&&(a=t,t=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:a,test(r){if(r==null)return!0;const i=Hw(this.schema,r);return!t||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return n.spec.noUnknown=t,n}unknown(t=!0,a=pm.noUnknown){return this.noUnknown(!t,a)}transformKeys(t){return this.transform(a=>{if(!a)return a;const n={};for(const r of Object.keys(a))n[t(r)]=a[r];return n})}camelCase(){return this.transformKeys(Rx.camelCase)}snakeCase(){return this.transformKeys(Rx.snakeCase)}constantCase(){return this.transformKeys(t=>Rx.snakeCase(t).toUpperCase())}describe(t){const a=(t?this.resolve(t):this).clone(),n=super.describe(t);n.fields={};for(const[i,l]of Object.entries(a.fields)){var r;let o=t;(r=o)!=null&&r.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[i]})),n.fields[i]=l.describe(o)}return n}}Fx.prototype=Vw.prototype;const qx={BASE_URL:ns,DEFAULT_HEADERS:{"Content-Type":"application/json"},TIMEOUT:1e4};class Oi extends Error{constructor(t,a,n){super(t),this.status=a,this.code=n,this.name="ApiError"}}const Gw=async(e,t={})=>{const{method:a="GET",body:n,headers:r={},timeout:i=qx.TIMEOUT}=t,l=localStorage.getItem("ApiToken"),o={...qx.DEFAULT_HEADERS,...r};l&&(o.Authorization=`Bearer ${l}`);const c=new AbortController,d=setTimeout(()=>c.abort(),i);try{const m=await fetch(`${qx.BASE_URL}${e}`,{method:a,headers:o,body:n?JSON.stringify(n):void 0,credentials:"include",signal:c.signal});if(clearTimeout(d),!m.ok)throw new Oi(`HTTP ${m.status}: ${m.statusText}`,m.status,m.statusText);return await m.json()}catch(m){throw clearTimeout(d),m instanceof Oi?m:m instanceof Error?m.name==="AbortError"?new Oi("Request timeout",408,"TIMEOUT"):new Oi(`Request failed: ${m.message}`,0,"NETWORK_ERROR"):new Oi("An unknown error occurred",0,"UNKNOWN_ERROR")}},Qw={PROFILE:"/api/user/auth/profile",UPDATE_PROFILE:"/api/user/auth/update-profile"},xR=e=>{const t=new URLSearchParams;Object.entries(e).forEach(([n,r])=>{r!=null&&r!==""&&t.append(n,String(r))});const a=t.toString();return a?`?${a}`:""},Yw=e=>{if(e.exception)throw new Oi(e.exception,400,"API_EXCEPTION");if(!e.data)throw new Oi("No data received from API",204,"NO_DATA");return e.data},Kw=e=>bt({queryKey:["categories-list",e],queryFn:async()=>{var a;const t=localStorage.getItem("ApiToken")||"";t&&t.startsWith("session_");try{return(await fe.getCategories(e)).data||[]}catch(n){throw((a=n==null?void 0:n.response)==null?void 0:a.status)===401||(n==null||n.status),n}},staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,enabled:!!e&&e>0,retry:(t,a)=>{var n;return((n=a==null?void 0:a.response)==null?void 0:n.status)===401||(a==null?void 0:a.status)===401?!1:t<2},retryDelay:t=>Math.min(1e3*2**t,3e4)}),gR=Fx().shape({productName:na().required("Product name is required").min(3,"Product name must be at least 3 characters").max(200,"Product name must not exceed 200 characters"),productCode:na().required("Product code (SKU) is required").min(3,"Product code must be at least 3 characters").max(50,"Product code must not exceed 50 characters"),productDescription:na().required("Product description is required").min(10,"Description must be at least 10 characters").max(500,"Description must not exceed 500 characters"),price:qc().required("Price is required").positive("Price must be positive").min(.01,"Price must be at least 0.01").max(999999,"Price is too high"),category:qc().required("Category is required").positive("Please select a valid category").integer("Category must be a valid number"),quantity:qc().required("Stock quantity is required").integer("Quantity must be a whole number").min(0,"Quantity cannot be negative").max(999999,"Quantity is too high"),total:qc().integer("Total must be a whole number").min(0,"Total cannot be negative"),active:zw(),overview:na().max(300,"Overview must not exceed 300 characters"),fullDescription:na().max(2e3,"Full description must not exceed 2000 characters"),specification:na().max(1e3,"Specification must not exceed 1000 characters"),story:na().max(1e3,"Story must not exceed 1000 characters")}),Ww=({isOpen:e,onClose:t,onSubmit:a,product:n,isLoading:r=!1,title:i})=>{const[l,o]=ke.useState("basic"),[c,d]=ke.useState(""),{user:m}=Ze(),f=u.useMemo(()=>dt(m==null?void 0:m.tenantId),[m==null?void 0:m.tenantId]),{data:p=[],isLoading:x}=Kw(f),h={productName:(n==null?void 0:n.productName)||"",productCode:(n==null?void 0:n.productCode)||"",productDescription:(n==null?void 0:n.productDescription)||"",price:(n==null?void 0:n.price)||0,category:(n==null?void 0:n.category)||(p.length>0?p[0].categoryId:0),quantity:(n==null?void 0:n.quantity)||0,total:(n==null?void 0:n.total)||0,active:(n==null?void 0:n.active)!==void 0?n.active:!0,overview:(n==null?void 0:n.overview)||"",fullDescription:(n==null?void 0:n.fullDescription)||"",specification:(n==null?void 0:n.specification)||"",story:(n==null?void 0:n.story)||""},w=y=>y.productName||y.productCode||y.productDescription||y.category?"basic":y.price?"pricing":y.quantity||y.total?"inventory":y.overview||y.fullDescription||y.specification||y.story?"details":null,v=(y,b,j)=>{switch(y){case"basic":return!!(b.productName&&j.productName)||!!(b.productCode&&j.productCode)||!!(b.productDescription&&j.productDescription)||!!(b.category&&j.category);case"pricing":return!!(b.price&&j.price);case"inventory":return!!(b.quantity&&j.quantity)||!!(b.total&&j.total);case"details":return!!(b.overview&&j.overview)||!!(b.fullDescription&&j.fullDescription)||!!(b.specification&&j.specification)||!!(b.story&&j.story);default:return!1}},g=y=>{switch(y){case"basic":return["Product Name","Product Code (SKU)","Short Description","Category"];case"pricing":return["Price"];case"inventory":return["Stock Quantity"];case"details":return[];default:return[]}};return e?s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:t,"aria-hidden":"true"}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:s.jsx(f7,{initialValues:h,validationSchema:gR,onSubmit:(y,{setSubmitting:b,validateForm:j,setTouched:E})=>{j().then(k=>{if(Object.keys(k).length>0){E({productName:!0,productCode:!0,productDescription:!0,price:!0,category:!0,quantity:!0,total:!0,overview:!0,fullDescription:!0,specification:!0,story:!0});const N=w(k);if(N){o(N);const M=g(N);d(`Please fill in all required fields in the "${{basic:"Basic Info",pricing:"Pricing",inventory:"Inventory",details:"Details"}[N]}" tab. Required fields: ${M.join(", ")}`),setTimeout(()=>d(""),5e3)}else d("Please fill in all required fields.");b(!1)}else d(""),a(y),b(!1)})},enableReinitialize:!0,children:({errors:y,touched:b,isSubmitting:j,values:E})=>s.jsxs(vw,{children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:i}),s.jsx("button",{type:"button",onClick:()=>{d(""),o("basic"),t()},className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(ma,{className:"w-6 h-6"})})]}),c&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("svg",{className:"w-5 h-5 text-red-400 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("p",{className:"text-sm text-red-800",children:c})]})}),s.jsx("div",{className:"border-b border-gray-200 mb-6",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"basic",name:"Basic Info",icon:Ea},{id:"pricing",name:"Pricing",icon:Cc},{id:"inventory",name:"Inventory",icon:Yf},{id:"details",name:"Details",icon:vA}].map(k=>{const S=v(k.id,y,b);return s.jsxs("button",{type:"button",onClick:()=>{o(k.id),d("")},className:`relative flex items-center py-2 px-1 border-b-2 font-medium text-sm transition-colors ${l===k.id?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(k.icon,{className:"w-4 h-4 mr-2"}),k.name,S&&s.jsx("span",{className:"ml-2 w-2 h-2 bg-red-500 rounded-full",title:"This tab has validation errors"})]},k.id)})})}),s.jsxs("div",{className:"space-y-6",children:[l==="basic"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"productName",className:"block text-sm font-medium text-gray-700 mb-2",children:["Product Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Cs,{id:"productName",name:"productName",type:"text",placeholder:"Enter product name",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 ${y.productName&&b.productName?"border-red-500":"border-gray-300"}`}),s.jsx($s,{name:"productName",component:"div",className:"text-red-500 text-sm mt-1"})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"productCode",className:"block text-sm font-medium text-gray-700 mb-2",children:["Product Code (SKU) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Cs,{id:"productCode",name:"productCode",type:"text",placeholder:"e.g. TOM-CHE-001",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 ${y.productCode&&b.productCode?"border-red-500":"border-gray-300"}`}),s.jsx($s,{name:"productCode",component:"div",className:"text-red-500 text-sm mt-1"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{htmlFor:"productDescription",className:"block text-sm font-medium text-gray-700 mb-2",children:["Short Description ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Cs,{as:"textarea",id:"productDescription",name:"productDescription",rows:3,placeholder:"Brief product description (10-500 characters)",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 ${y.productDescription&&b.productDescription?"border-red-500":"border-gray-300"}`}),s.jsx($s,{name:"productDescription",component:"div",className:"text-red-500 text-sm mt-1"})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:["Category ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs(Cs,{as:"select",id:"category",name:"category",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 ${y.category&&b.category?"border-red-500":"border-gray-300"}`,disabled:x,children:[s.jsx("option",{value:"",children:x?"Loading categories...":"Select category"}),p.filter(k=>k.active).map(k=>s.jsx("option",{value:k.categoryId,children:k.category},k.categoryId))]}),s.jsx($s,{name:"category",component:"div",className:"text-red-500 text-sm mt-1"}),x&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Loading categories..."})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"active",className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsxs(Cs,{as:"select",id:"active",name:"active",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[s.jsx("option",{value:"true",children:"Active"}),s.jsx("option",{value:"false",children:"Inactive"})]})]})]}),l==="pricing"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-2",children:["Price ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Cs,{id:"price",name:"price",type:"number",step:"0.01",placeholder:"0.00",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 ${y.price&&b.price?"border-red-500":"border-gray-300"}`}),s.jsx($s,{name:"price",component:"div",className:"text-red-500 text-sm mt-1"})]}),s.jsx("div",{className:"text-sm text-gray-500 flex items-center",children:s.jsxs("p",{children:["Current Price: ",E.price||0]})})]}),l==="inventory"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700 mb-2",children:["Stock Quantity ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Cs,{id:"quantity",name:"quantity",type:"number",placeholder:"0",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 ${y.quantity&&b.quantity?"border-red-500":"border-gray-300"}`}),s.jsx($s,{name:"quantity",component:"div",className:"text-red-500 text-sm mt-1"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"total",className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Available"}),s.jsx(Cs,{id:"total",name:"total",type:"number",placeholder:"0",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 ${y.total&&b.total?"border-red-500":"border-gray-300"}`}),s.jsx($s,{name:"total",component:"div",className:"text-red-500 text-sm mt-1"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Usually same as stock quantity"})]})]}),l==="details"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"overview",className:"block text-sm font-medium text-gray-700 mb-2",children:"Overview"}),s.jsx(Cs,{as:"textarea",id:"overview",name:"overview",rows:2,placeholder:"Short overview (max 300 characters)",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 ${y.overview&&b.overview?"border-red-500":"border-gray-300"}`}),s.jsx($s,{name:"overview",component:"div",className:"text-red-500 text-sm mt-1"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"fullDescription",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Description"}),s.jsx(Cs,{as:"textarea",id:"fullDescription",name:"fullDescription",rows:4,placeholder:"Detailed product description (max 2000 characters)",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 ${y.fullDescription&&b.fullDescription?"border-red-500":"border-gray-300"}`}),s.jsx($s,{name:"fullDescription",component:"div",className:"text-red-500 text-sm mt-1"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"specification",className:"block text-sm font-medium text-gray-700 mb-2",children:"Specification"}),s.jsx(Cs,{as:"textarea",id:"specification",name:"specification",rows:3,placeholder:"Product specifications (max 1000 characters)",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 ${y.specification&&b.specification?"border-red-500":"border-gray-300"}`}),s.jsx($s,{name:"specification",component:"div",className:"text-red-500 text-sm mt-1"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"story",className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Story"}),s.jsx(Cs,{as:"textarea",id:"story",name:"story",rows:3,placeholder:"Tell the story behind this product (max 1000 characters)",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 ${y.story&&b.story?"border-red-500":"border-gray-300"}`}),s.jsx($s,{name:"story",component:"div",className:"text-red-500 text-sm mt-1"})]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:j||r,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Saving...":n?"Update Product":"Create Product"}),s.jsx("button",{type:"button",onClick:()=>{d(""),o("basic"),t()},disabled:j||r,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})})})]})}):null},zn={all:["admin-products"],lists:()=>[...zn.all,"list"],list:e=>[...zn.lists(),e],detail:e=>[...zn.all,"detail",e]},yR=e=>bt({queryKey:zn.list(e),queryFn:async()=>{const t={page:e.page,limit:e.limit,sortBy:e.sortBy||"productName",sortOrder:e.sortOrder||"ASC"};t.categoryId=e.categoryId??"",e.active!==void 0&&(t.active=e.active);const a=await fe.getProductListFiltered(t);return{products:a.data.products,pagination:a.data.pagination}},staleTime:3e4,gcTime:5*60*1e3}),bR=()=>{const e=Qt();return vt({mutationFn:async t=>await fe.addProduct(t),onSuccess:()=>{e.invalidateQueries({queryKey:zn.lists()})},onError:t=>{}})},vR=()=>{const e=Qt();return vt({mutationFn:async t=>await fe.updateProduct(t),onSuccess:(t,a)=>{e.invalidateQueries({queryKey:zn.lists()}),a.productId&&e.invalidateQueries({queryKey:zn.detail(a.productId)})},onError:t=>{}})},jR=()=>{const e=Qt();return vt({mutationFn:async t=>await fe.deleteProduct(t),onSuccess:(t,a)=>{e.invalidateQueries({queryKey:zn.lists()}),e.removeQueries({queryKey:zn.detail(a)})},onError:t=>{}})},Xw=()=>{const{user:e}=Ze(),t=u.useMemo(()=>dt(e==null?void 0:e.tenantId),[e==null?void 0:e.tenantId]),[a,n]=u.useState(""),[r,i]=u.useState(void 0),[l,o]=u.useState(void 0),[c,d]=u.useState("productName"),[m,f]=u.useState("ASC"),[p,x]=u.useState(1),[h,w]=u.useState(10),[v,g]=u.useState("list"),[y,b]=u.useState(!1),[j,E]=u.useState(!1),[k,S]=u.useState(null),[N,M]=u.useState(!1),[R,A]=u.useState(null),[z,H]=u.useState([]),oe=bR(),Q=vR(),I=jR(),{data:D=[],isLoading:q,error:K}=Kw(t),{data:ae,isLoading:ee,error:re,refetch:P}=yR({page:1,limit:1e3,sortBy:"productName",sortOrder:"ASC",categoryId:r??"",active:l??!0}),J=u.useMemo(()=>(ae==null?void 0:ae.products)||[],[ae==null?void 0:ae.products]),ne=re?re.message:null,C=u.useMemo(()=>J.filter(L=>a===""||L.productName.toLowerCase().includes(a.toLowerCase())||L.productCode.toLowerCase().includes(a.toLowerCase())||L.productDescription.toLowerCase().includes(a.toLowerCase())),[J,a]),W=u.useMemo(()=>[...C].sort((L,Ee)=>{let $,be;switch(c){case"productName":$=L.productName.toLowerCase(),be=Ee.productName.toLowerCase();break;case"price":$=L.price,be=Ee.price;break;case"quantity":$=L.quantity,be=Ee.quantity;break;case"userBuyCount":$=L.userBuyCount,be=Ee.userBuyCount;break;case"created":$=new Date(L.created).getTime(),be=new Date(Ee.created).getTime();break;default:return 0}return m==="ASC"?$<be?-1:$>be?1:0:$>be?-1:$<be?1:0}),[C,c,m]),T=u.useMemo(()=>{const L=(p-1)*h,Ee=L+h;return W.slice(L,Ee)},[W,p,h]),G=u.useMemo(()=>({page:p,limit:h,total:W.length,totalPages:Math.ceil(W.length/h),hasNext:p<Math.ceil(W.length/h),hasPrevious:p>1}),[W.length,p,h]),te=u.useMemo(()=>({total:J.length,active:J.filter(L=>L.active).length,lowStock:J.filter(L=>L.quantity<=10).length,totalSales:J.reduce((L,Ee)=>L+Ee.userBuyCount,0)}),[J]),ve=T,xe=u.useCallback(async L=>{if(e!=null&&e.id)try{await oe.mutateAsync({productName:L.productName,productDescription:L.productDescription,productCode:L.productCode,price:L.price,category:L.category,quantity:L.quantity,total:L.total||L.quantity,userId:typeof e.id=="string"?parseInt(e.id):e.id,fullDescription:L.fullDescription||L.productDescription,tenantId:e.tenantId||ua,rating:0,active:L.active,InStock:L.quantity,originalPrice:L.price}),b(!1)}catch{}},[e,oe]),At=u.useCallback(async L=>{if(!(!k||!(e!=null&&e.id)))try{await Q.mutateAsync({productId:k.productId,productName:L.productName,productDescription:L.productDescription,productCode:L.productCode,price:L.price,category:L.category,quantity:L.quantity,total:L.total||L.quantity,userId:typeof e.id=="string"?parseInt(e.id):e.id,fullDescription:L.fullDescription||L.productDescription,tenantId:e.tenantId||ua,rating:k.rating||0,active:L.active,InStock:L.quantity,originalPrice:L.price}),E(!1),S(null)}catch{}},[k,e,Q]),Lt=u.useCallback(async L=>{try{await I.mutateAsync(L),M(!1),A(null),H([])}catch{}},[I]),ls=L=>L?"bg-green-100 text-green-800":"bg-red-100 text-red-800",ga=(L,Ee=10)=>L===0?{color:"text-red-600",label:"Out of Stock"}:L<=Ee?{color:"text-yellow-600",label:"Low Stock"}:{color:"text-green-600",label:"In Stock"};return e?s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Product Management"}),s.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Hybrid server/client-side filtering  ",J.length," products loaded"]})]}),s.jsxs("div",{className:"mt-4 sm:mt-0 flex space-x-3",children:[s.jsxs("button",{onClick:()=>P(),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",title:"Refresh products list",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]}),s.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[s.jsx(Qu,{className:"w-4 h-4 mr-2"}),"Import"]}),s.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[s.jsx(Hl,{className:"w-4 h-4 mr-2"}),"Export"]}),s.jsxs("button",{onClick:()=>b(!0),className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 transition-colors",children:[s.jsx(bi,{className:"w-4 h-4 mr-2"}),"Add Product"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Ea,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Products"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:te.total})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Pa,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Active Products"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:te.active})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:s.jsx(zs,{className:"w-6 h-6 text-yellow-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Low Stock"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:te.lowStock})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(Wf,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Sales"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:te.totalSales})]})]})})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4",children:[s.jsx("div",{className:"md:col-span-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search products... (Instant client-side search)",value:a,onChange:L=>{n(L.target.value),x(1)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"}),a&&s.jsxs("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-xs text-gray-600 bg-green-50 px-2 py-1 rounded",children:[C.length," found"]})]})}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("select",{value:r??"",onChange:L=>{const Ee=L.target.value;i(Ee===""?void 0:parseInt(Ee)),x(1)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",disabled:q,children:[s.jsx("option",{value:"",children:q?"Loading categories...":"All Categories"}),D.filter(L=>L.active).map(L=>s.jsx("option",{value:L.categoryId,children:L.category},L.categoryId))]}),K&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Failed to load categories"})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsxs("select",{value:l===void 0?"":l.toString(),onChange:L=>{o(L.target.value===""?void 0:L.target.value==="true"),x(1)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[s.jsx("option",{value:"",children:"All Status"}),s.jsx("option",{value:"true",children:"Active"}),s.jsx("option",{value:"false",children:"Inactive"})]})}),s.jsx("div",{className:"md:col-span-2",children:s.jsxs("select",{value:`${c}-${m}`,onChange:L=>{const[Ee,$]=L.target.value.split("-");d(Ee),f($),x(1)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[s.jsx("option",{value:"productName-ASC",children:"Name A-Z"}),s.jsx("option",{value:"productName-DESC",children:"Name Z-A"}),s.jsx("option",{value:"price-ASC",children:"Price Low-High"}),s.jsx("option",{value:"price-DESC",children:"Price High-Low"}),s.jsx("option",{value:"quantity-ASC",children:"Stock Low-High"}),s.jsx("option",{value:"quantity-DESC",children:"Stock High-Low"}),s.jsx("option",{value:"userBuyCount-DESC",children:"Best Selling"}),s.jsx("option",{value:"created-DESC",children:"Newest First"})]})}),s.jsxs("div",{className:"md:col-span-2 flex items-center justify-end space-x-2",children:[s.jsx("button",{onClick:()=>g("list"),className:`p-2 rounded-lg ${v==="list"?"bg-green-100 text-green-600":"text-gray-400 hover:text-gray-600"}`,children:s.jsx($2,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>g("grid"),className:`p-2 rounded-lg ${v==="grid"?"bg-green-100 text-green-600":"text-gray-400 hover:text-gray-600"}`,children:s.jsx(z2,{className:"w-4 h-4"})})]})]})})}),(ne||K)&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[s.jsx("p",{className:"text-red-800",children:ne?"Failed to load products. Please try again.":"Failed to load categories. Please try again."}),s.jsx("button",{onClick:()=>P(),className:"mt-2 text-red-600 hover:text-red-800 font-medium",children:"Retry"})]}),ee?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[s.jsx(_t,{size:"lg"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading products..."})]}):v==="list"?s.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-green-600 focus:ring-green-500",onChange:L=>{L.target.checked?H(ve.map(Ee=>Ee.productId)):H([])}})}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sales"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ve.map(L=>{const Ee=ga(L.quantity,10);return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-green-600 focus:ring-green-500",checked:z.includes(L.productId),onChange:$=>{$.target.checked?H([...z,L.productId]):H(z.filter(be=>be!==L.productId))}})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-12 w-12 bg-gray-100 rounded-lg flex items-center justify-center",children:s.jsx(Ea,{className:"w-6 h-6 text-gray-400"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 max-w-xs truncate",children:L.productName}),s.jsxs("div",{className:"text-sm text-gray-500 flex items-center mt-1",children:[s.jsx(On,{className:"w-3 h-3 text-yellow-400 mr-1"}),L.rating," (",L.userBuyCount,")"]})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:L.productCode}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:L.categoryName}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Cc,{className:"w-3 h-3 mr-1"}),"",L.price]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[s.jsx("span",{className:`font-medium ${Ee.color}`,children:L.quantity}),s.jsx("div",{className:`text-xs ${Ee.color}`,children:Ee.label})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ls(L.active)}`,children:L.active?"Active":"Inactive"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:L.userBuyCount}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:s.jsx(Is,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>{S(L),E(!0)},className:"text-green-600 hover:text-green-900",children:s.jsx(wr,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>{A(L.productId),M(!0)},className:"text-red-600 hover:text-red-900",children:s.jsx(Nr,{className:"w-4 h-4"})})]})})]},L.productId)})})]})})}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:ve.map(L=>{const Ee=ga(L.quantity,10);return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"relative h-48 bg-gray-100 flex items-center justify-center",children:[s.jsx(Ea,{className:"w-16 h-16 text-gray-400"}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-green-600 focus:ring-green-500",checked:z.includes(L.productId),onChange:$=>{$.target.checked?H([...z,L.productId]):H(z.filter(be=>be!==L.productId))}})})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate flex-1 mr-2",children:L.productName}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ls(L.active)}`,children:L.active?"Active":"Inactive"})]}),s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(On,{className:"w-3 h-3 text-yellow-400 mr-1"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[L.rating," (",L.userBuyCount,")"]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Cc,{className:"w-4 h-4 text-gray-400 mr-1"}),s.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["",L.price]})]}),s.jsxs("span",{className:"text-sm text-gray-500",children:["SKU: ",L.productCode]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Stock: "}),s.jsx("span",{className:`font-medium ${Ee.color}`,children:L.quantity})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Sales: ",L.userBuyCount]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{className:"flex-1 bg-blue-600 text-white py-2 px-3 rounded text-sm hover:bg-blue-700 transition-colors",children:[s.jsx(Is,{className:"w-3 h-3 inline mr-1"}),"View"]}),s.jsxs("button",{onClick:()=>{S(L),E(!0)},className:"flex-1 bg-green-600 text-white py-2 px-3 rounded text-sm hover:bg-green-700 transition-colors",children:[s.jsx(wr,{className:"w-3 h-3 inline mr-1"}),"Edit"]})]})]})]},L.productId)})}),G.totalPages>1&&s.jsxs("div",{className:"mt-6 flex items-center justify-between bg-white px-6 py-3 rounded-lg shadow-sm",children:[s.jsx("div",{className:"flex items-center",children:s.jsxs("span",{className:"text-sm text-gray-700",children:["Showing ",(p-1)*h+1," to ",Math.min(p*h,G.total)," of ",G.total," results"]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("select",{value:h,onChange:L=>{w(Number(L.target.value)),x(1)},className:"text-sm border border-gray-300 rounded px-2 py-1",children:[s.jsx("option",{value:10,children:"10 per page"}),s.jsx("option",{value:25,children:"25 per page"}),s.jsx("option",{value:50,children:"50 per page"})]}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("button",{onClick:()=>x(Math.max(1,p-1)),disabled:!G.hasPrevious,className:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),Array.from({length:Math.min(5,G.totalPages)},(L,Ee)=>{const $=Ee+1;return s.jsx("button",{onClick:()=>x($),className:`px-3 py-1 border border-gray-300 rounded text-sm ${p===$?"bg-green-600 text-white border-green-600":"hover:bg-gray-50"}`,children:$},$)}),s.jsx("button",{onClick:()=>x(Math.min(G.totalPages,p+1)),disabled:!G.hasNext,className:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]}),s.jsx(Ww,{isOpen:y,onClose:()=>b(!1),onSubmit:xe,isLoading:oe.isPending,title:"Create New Product"}),s.jsx(Ww,{isOpen:j,onClose:()=>{E(!1),S(null)},onSubmit:At,product:k,isLoading:Q.isPending,title:"Edit Product"}),N&&s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity",onClick:()=>M(!1),children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[s.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:s.jsxs("div",{className:"sm:flex sm:items-start",children:[s.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:s.jsx(zs,{className:"h-6 w-6 text-red-600"})}),s.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Delete Product"}),s.jsx("div",{className:"mt-2",children:s.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this product? This action cannot be undone."})})]})]})}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{onClick:()=>R&&Lt(R),disabled:I.isPending,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:I.isPending?"Deleting...":"Delete"}),s.jsx("button",{onClick:()=>{M(!1),A(null)},disabled:I.isPending,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})]})})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(_t,{size:"lg"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})};var Zw={exports:{}},wR="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",NR=wR,SR=NR;function Jw(){}function eN(){}eN.resetWarningCache=Jw;var CR=function(){function e(n,r,i,l,o,c){if(c!==SR){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:eN,resetWarningCache:Jw};return a.PropTypes=a,a};Zw.exports=CR();var ER=Zw.exports;const pt=xt(ER);function _i(e,t,a,n){function r(i){return i instanceof a?i:new a(function(l){l(i)})}return new(a||(a=Promise))(function(i,l){function o(m){try{d(n.next(m))}catch(f){l(f)}}function c(m){try{d(n.throw(m))}catch(f){l(f)}}function d(m){m.done?i(m.value):r(m.value).then(o,c)}d((n=n.apply(e,t||[])).next())})}typeof SuppressedError=="function"&&SuppressedError;const kR=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function to(e,t,a){const n=AR(e),{webkitRelativePath:r}=e,i=typeof t=="string"?t:typeof r=="string"&&r.length>0?r:`./${e.name}`;return typeof n.path!="string"&&tN(n,"path",i),tN(n,"relativePath",i),n}function AR(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const n=t.split(".").pop().toLowerCase(),r=kR.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}function tN(e,t,a){Object.defineProperty(e,t,{value:a,writable:!1,configurable:!1,enumerable:!0})}const TR=[".DS_Store","Thumbs.db"];function MR(e){return _i(this,void 0,void 0,function*(){return ym(e)&&OR(e.dataTransfer)?LR(e.dataTransfer,e.type):_R(e)?RR(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?DR(e):[]})}function OR(e){return ym(e)}function _R(e){return ym(e)&&ym(e.target)}function ym(e){return typeof e=="object"&&e!==null}function RR(e){return Px(e.target.files).map(t=>to(t))}function DR(e){return _i(this,void 0,void 0,function*(){return(yield Promise.all(e.map(a=>a.getFile()))).map(a=>to(a))})}function LR(e,t){return _i(this,void 0,void 0,function*(){if(e.items){const a=Px(e.items).filter(r=>r.kind==="file");if(t!=="drop")return a;const n=yield Promise.all(a.map(IR));return aN(sN(n))}return aN(Px(e.files).map(a=>to(a)))})}function aN(e){return e.filter(t=>TR.indexOf(t.name)===-1)}function Px(e){if(e===null)return[];const t=[];for(let a=0;a<e.length;a++){const n=e[a];t.push(n)}return t}function IR(e){if(typeof e.webkitGetAsEntry!="function")return nN(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?rN(t):nN(e,t)}function sN(e){return e.reduce((t,a)=>[...t,...Array.isArray(a)?sN(a):[a]],[])}function nN(e,t){return _i(this,void 0,void 0,function*(){var a;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const i=yield e.getAsFileSystemHandle();if(i===null)throw new Error(`${e} is not a File`);if(i!==void 0){const l=yield i.getFile();return l.handle=i,to(l)}}const n=e.getAsFile();if(!n)throw new Error(`${e} is not a File`);return to(n,(a=t==null?void 0:t.fullPath)!==null&&a!==void 0?a:void 0)})}function zR(e){return _i(this,void 0,void 0,function*(){return e.isDirectory?rN(e):$R(e)})}function rN(e){const t=e.createReader();return new Promise((a,n)=>{const r=[];function i(){t.readEntries(l=>_i(this,void 0,void 0,function*(){if(l.length){const o=Promise.all(l.map(zR));r.push(o),i()}else try{const o=yield Promise.all(r);a(o)}catch(o){n(o)}}),l=>{n(l)})}i()})}function $R(e){return _i(this,void 0,void 0,function*(){return new Promise((t,a)=>{e.file(n=>{const r=to(n,e.fullPath);t(r)},n=>{a(n)})})})}var Bx=function(e,t){if(e&&t){var a=Array.isArray(t)?t:t.split(",");if(a.length===0)return!0;var n=e.name||"",r=(e.type||"").toLowerCase(),i=r.replace(/\/.*$/,"");return a.some(function(l){var o=l.trim().toLowerCase();return o.charAt(0)==="."?n.toLowerCase().endsWith(o):o.endsWith("/*")?i===o.replace(/\/.*$/,""):r===o})}return!0};function iN(e){return qR(e)||FR(e)||dN(e)||UR()}function UR(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FR(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qR(e){if(Array.isArray(e))return Hx(e)}function lN(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),a.push.apply(a,n)}return a}function oN(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?lN(Object(a),!0).forEach(function(n){cN(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):lN(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function cN(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Pc(e,t){return HR(e)||BR(e,t)||dN(e,t)||PR()}function PR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dN(e,t){if(e){if(typeof e=="string")return Hx(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Hx(e,t)}}function Hx(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function BR(e,t){var a=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var n=[],r=!0,i=!1,l,o;try{for(a=a.call(e);!(r=(l=a.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){i=!0,o=c}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function HR(e){if(Array.isArray(e))return e}var VR=typeof Bx=="function"?Bx:Bx.default,GR="file-invalid-type",QR="file-too-large",YR="file-too-small",KR="too-many-files",WR=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=t.split(","),n=a.length>1?"one of ".concat(a.join(", ")):a[0];return{code:GR,message:"File type must be ".concat(n)}},uN=function(t){return{code:QR,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},mN=function(t){return{code:YR,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},XR={code:KR,message:"Too many files"};function pN(e,t){var a=e.type==="application/x-moz-file"||VR(e,t);return[a,a?null:WR(t)]}function hN(e,t,a){if(Ri(e.size))if(Ri(t)&&Ri(a)){if(e.size>a)return[!1,uN(a)];if(e.size<t)return[!1,mN(t)]}else{if(Ri(t)&&e.size<t)return[!1,mN(t)];if(Ri(a)&&e.size>a)return[!1,uN(a)]}return[!0,null]}function Ri(e){return e!=null}function ZR(e){var t=e.files,a=e.accept,n=e.minSize,r=e.maxSize,i=e.multiple,l=e.maxFiles,o=e.validator;return!i&&t.length>1||i&&l>=1&&t.length>l?!1:t.every(function(c){var d=pN(c,a),m=Pc(d,1),f=m[0],p=hN(c,n,r),x=Pc(p,1),h=x[0],w=o?o(c):null;return f&&h&&!w})}function bm(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function vm(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function fN(e){e.preventDefault()}function JR(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function e8(e){return e.indexOf("Edge/")!==-1}function t8(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return JR(e)||e8(e)}function en(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),l=1;l<r;l++)i[l-1]=arguments[l];return t.some(function(o){return!bm(n)&&o&&o.apply(void 0,[n].concat(i)),bm(n)})}}function a8(){return"showOpenFilePicker"in window}function s8(e){if(Ri(e)){var t=Object.entries(e).filter(function(a){var n=Pc(a,2),r=n[0],i=n[1],l=!0;return xN(r)||(console.warn('Skipped "'.concat(r,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),l=!1),(!Array.isArray(i)||!i.every(gN))&&(console.warn('Skipped "'.concat(r,'" because an invalid file extension was provided.')),l=!1),l}).reduce(function(a,n){var r=Pc(n,2),i=r[0],l=r[1];return oN(oN({},a),{},cN({},i,l))},{});return[{description:"Files",accept:t}]}return e}function n8(e){if(Ri(e))return Object.entries(e).reduce(function(t,a){var n=Pc(a,2),r=n[0],i=n[1];return[].concat(iN(t),[r],iN(i))},[]).filter(function(t){return xN(t)||gN(t)}).join(",")}function r8(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function i8(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function xN(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function gN(e){return/^.*\.[\w]+$/.test(e)}var l8=["children"],o8=["open"],c8=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],d8=["refKey","onChange","onClick"];function u8(e){return h8(e)||p8(e)||yN(e)||m8()}function m8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p8(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function h8(e){if(Array.isArray(e))return Gx(e)}function Vx(e,t){return g8(e)||x8(e,t)||yN(e,t)||f8()}function f8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yN(e,t){if(e){if(typeof e=="string")return Gx(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Gx(e,t)}}function Gx(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function x8(e,t){var a=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var n=[],r=!0,i=!1,l,o;try{for(a=a.call(e);!(r=(l=a.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){i=!0,o=c}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function g8(e){if(Array.isArray(e))return e}function bN(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),a.push.apply(a,n)}return a}function Dt(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(a),!0).forEach(function(n){Qx(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):bN(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Qx(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function jm(e,t){if(e==null)return{};var a=y8(e,t),n,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function y8(e,t){if(e==null)return{};var a={},n=Object.keys(e),r,i;for(i=0;i<n.length;i++)r=n[i],!(t.indexOf(r)>=0)&&(a[r]=e[r]);return a}var Yx=u.forwardRef(function(e,t){var a=e.children,n=jm(e,l8),r=jN(n),i=r.open,l=jm(r,o8);return u.useImperativeHandle(t,function(){return{open:i}},[i]),ke.createElement(u.Fragment,null,a(Dt(Dt({},l),{},{open:i})))});Yx.displayName="Dropzone";var vN={disabled:!1,getFilesFromEvent:MR,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Yx.defaultProps=vN,Yx.propTypes={children:pt.func,accept:pt.objectOf(pt.arrayOf(pt.string)),multiple:pt.bool,preventDropOnDocument:pt.bool,noClick:pt.bool,noKeyboard:pt.bool,noDrag:pt.bool,noDragEventsBubbling:pt.bool,minSize:pt.number,maxSize:pt.number,maxFiles:pt.number,disabled:pt.bool,getFilesFromEvent:pt.func,onFileDialogCancel:pt.func,onFileDialogOpen:pt.func,useFsAccessApi:pt.bool,autoFocus:pt.bool,onDragEnter:pt.func,onDragLeave:pt.func,onDragOver:pt.func,onDrop:pt.func,onDropAccepted:pt.func,onDropRejected:pt.func,onError:pt.func,validator:pt.func};var Kx={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function jN(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Dt(Dt({},vN),e),a=t.accept,n=t.disabled,r=t.getFilesFromEvent,i=t.maxSize,l=t.minSize,o=t.multiple,c=t.maxFiles,d=t.onDragEnter,m=t.onDragLeave,f=t.onDragOver,p=t.onDrop,x=t.onDropAccepted,h=t.onDropRejected,w=t.onFileDialogCancel,v=t.onFileDialogOpen,g=t.useFsAccessApi,y=t.autoFocus,b=t.preventDropOnDocument,j=t.noClick,E=t.noKeyboard,k=t.noDrag,S=t.noDragEventsBubbling,N=t.onError,M=t.validator,R=u.useMemo(function(){return n8(a)},[a]),A=u.useMemo(function(){return s8(a)},[a]),z=u.useMemo(function(){return typeof v=="function"?v:wN},[v]),H=u.useMemo(function(){return typeof w=="function"?w:wN},[w]),oe=u.useRef(null),Q=u.useRef(null),I=u.useReducer(b8,Kx),D=Vx(I,2),q=D[0],K=D[1],ae=q.isFocused,ee=q.isFileDialogActive,re=u.useRef(typeof window<"u"&&window.isSecureContext&&g&&a8()),P=function(){!re.current&&ee&&setTimeout(function(){if(Q.current){var Z=Q.current.files;Z.length||(K({type:"closeDialog"}),H())}},300)};u.useEffect(function(){return window.addEventListener("focus",P,!1),function(){window.removeEventListener("focus",P,!1)}},[Q,ee,H,re]);var J=u.useRef([]),ne=function(Z){oe.current&&oe.current.contains(Z.target)||(Z.preventDefault(),J.current=[])};u.useEffect(function(){return b&&(document.addEventListener("dragover",fN,!1),document.addEventListener("drop",ne,!1)),function(){b&&(document.removeEventListener("dragover",fN),document.removeEventListener("drop",ne))}},[oe,b]),u.useEffect(function(){return!n&&y&&oe.current&&oe.current.focus(),function(){}},[oe,y,n]);var C=u.useCallback(function(B){N?N(B):console.error(B)},[N]),W=u.useCallback(function(B){B.preventDefault(),B.persist(),be(B),J.current=[].concat(u8(J.current),[B.target]),vm(B)&&Promise.resolve(r(B)).then(function(Z){if(!(bm(B)&&!S)){var ge=Z.length,we=ge>0&&ZR({files:Z,accept:R,minSize:l,maxSize:i,multiple:o,maxFiles:c,validator:M}),_=ge>0&&!we;K({isDragAccept:we,isDragReject:_,isDragActive:!0,type:"setDraggedFiles"}),d&&d(B)}}).catch(function(Z){return C(Z)})},[r,d,C,S,R,l,i,o,c,M]),T=u.useCallback(function(B){B.preventDefault(),B.persist(),be(B);var Z=vm(B);if(Z&&B.dataTransfer)try{B.dataTransfer.dropEffect="copy"}catch{}return Z&&f&&f(B),!1},[f,S]),G=u.useCallback(function(B){B.preventDefault(),B.persist(),be(B);var Z=J.current.filter(function(we){return oe.current&&oe.current.contains(we)}),ge=Z.indexOf(B.target);ge!==-1&&Z.splice(ge,1),J.current=Z,!(Z.length>0)&&(K({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),vm(B)&&m&&m(B))},[oe,m,S]),te=u.useCallback(function(B,Z){var ge=[],we=[];B.forEach(function(_){var le=pN(_,R),se=Vx(le,2),De=se[0],Be=se[1],As=hN(_,l,i),V=Vx(As,2),Y=V[0],Ce=V[1],ze=M?M(_):null;if(De&&Y&&!ze)ge.push(_);else{var Ue=[Be,Ce];ze&&(Ue=Ue.concat(ze)),we.push({file:_,errors:Ue.filter(function(Xe){return Xe})})}}),(!o&&ge.length>1||o&&c>=1&&ge.length>c)&&(ge.forEach(function(_){we.push({file:_,errors:[XR]})}),ge.splice(0)),K({acceptedFiles:ge,fileRejections:we,isDragReject:we.length>0,type:"setFiles"}),p&&p(ge,we,Z),we.length>0&&h&&h(we,Z),ge.length>0&&x&&x(ge,Z)},[K,o,R,l,i,c,p,x,h,M]),ve=u.useCallback(function(B){B.preventDefault(),B.persist(),be(B),J.current=[],vm(B)&&Promise.resolve(r(B)).then(function(Z){bm(B)&&!S||te(Z,B)}).catch(function(Z){return C(Z)}),K({type:"reset"})},[r,te,C,S]),xe=u.useCallback(function(){if(re.current){K({type:"openDialog"}),z();var B={multiple:o,types:A};window.showOpenFilePicker(B).then(function(Z){return r(Z)}).then(function(Z){te(Z,null),K({type:"closeDialog"})}).catch(function(Z){r8(Z)?(H(Z),K({type:"closeDialog"})):i8(Z)?(re.current=!1,Q.current?(Q.current.value=null,Q.current.click()):C(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):C(Z)});return}Q.current&&(K({type:"openDialog"}),z(),Q.current.value=null,Q.current.click())},[K,z,H,g,te,C,A,o]),At=u.useCallback(function(B){!oe.current||!oe.current.isEqualNode(B.target)||(B.key===" "||B.key==="Enter"||B.keyCode===32||B.keyCode===13)&&(B.preventDefault(),xe())},[oe,xe]),Lt=u.useCallback(function(){K({type:"focus"})},[]),ls=u.useCallback(function(){K({type:"blur"})},[]),ga=u.useCallback(function(){j||(t8()?setTimeout(xe,0):xe())},[j,xe]),L=function(Z){return n?null:Z},Ee=function(Z){return E?null:L(Z)},$=function(Z){return k?null:L(Z)},be=function(Z){S&&Z.stopPropagation()},Pe=u.useMemo(function(){return function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z=B.refKey,ge=Z===void 0?"ref":Z,we=B.role,_=B.onKeyDown,le=B.onFocus,se=B.onBlur,De=B.onClick,Be=B.onDragEnter,As=B.onDragOver,V=B.onDragLeave,Y=B.onDrop,Ce=jm(B,c8);return Dt(Dt(Qx({onKeyDown:Ee(en(_,At)),onFocus:Ee(en(le,Lt)),onBlur:Ee(en(se,ls)),onClick:L(en(De,ga)),onDragEnter:$(en(Be,W)),onDragOver:$(en(As,T)),onDragLeave:$(en(V,G)),onDrop:$(en(Y,ve)),role:typeof we=="string"&&we!==""?we:"presentation"},ge,oe),!n&&!E?{tabIndex:0}:{}),Ce)}},[oe,At,Lt,ls,ga,W,T,G,ve,E,k,n]),U=u.useCallback(function(B){B.stopPropagation()},[]),ce=u.useMemo(function(){return function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z=B.refKey,ge=Z===void 0?"ref":Z,we=B.onChange,_=B.onClick,le=jm(B,d8),se=Qx({accept:R,multiple:o,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:L(en(we,ve)),onClick:L(en(_,U)),tabIndex:-1},ge,Q);return Dt(Dt({},se),le)}},[Q,a,o,ve,n]);return Dt(Dt({},q),{},{isFocused:ae&&!n,getRootProps:Pe,getInputProps:ce,rootRef:oe,inputRef:Q,open:L(xe)})}function b8(e,t){switch(t.type){case"focus":return Dt(Dt({},e),{},{isFocused:!0});case"blur":return Dt(Dt({},e),{},{isFocused:!1});case"openDialog":return Dt(Dt({},Kx),{},{isFileDialogActive:!0});case"closeDialog":return Dt(Dt({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Dt(Dt({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Dt(Dt({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return Dt({},Kx);default:return e}}function wN(){}const v8=e=>e.inStock,j8=e=>e.bestSeller,w8=e=>e.imageId?`${ns}/api/1.0/products/${e.imageId}/thumbnail`:"/placeholder-image.png",NN=ke.memo(({value:e,onChange:t,placeholder:a="Select a product...",disabled:n=!1,className:r="",allowClear:i=!0,products:l=[],onRefresh:o})=>{const[c,d]=u.useState(!1),[m,f]=u.useState(""),[p,x]=u.useState(!1),h=u.useMemo(()=>l.filter(j=>j.productName.toLowerCase().includes(m.toLowerCase())||j.productCode.toLowerCase().includes(m.toLowerCase())),[l,m]),w=u.useCallback(j=>{t(j),d(!1),f("")},[t]),v=u.useCallback(j=>{j.stopPropagation(),t(null)},[t]),g=u.useCallback(async j=>{j.stopPropagation(),o&&(x(!0),await o(),x(!1))},[o]);u.useEffect(()=>{const j=E=>{E.target.closest(".product-dropdown")||(d(!1),f(""))};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]);const y=u.useCallback(()=>{n||d(j=>!j)},[n]),b=u.useCallback(j=>{f(j.target.value)},[]);return s.jsxs("div",{className:`relative product-dropdown ${r}`,children:[s.jsxs("button",{type:"button",onClick:y,disabled:n,className:`
          w-full px-4 py-2 text-left bg-white border border-gray-300 rounded-lg
          focus:ring-2 focus:ring-blue-500 focus:border-transparent
          disabled:bg-gray-100 disabled:cursor-not-allowed
          hover:border-gray-400 transition-colors
          flex items-center justify-between
        `,children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx(Ea,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),e?s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"font-medium text-gray-900 truncate",children:e.productName}),s.jsxs("div",{className:"text-sm text-gray-500 truncate",children:[e.productCode,"  $",e.price]})]}):s.jsx("span",{className:"text-gray-500 truncate",children:a})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e&&i&&s.jsx("button",{type:"button",onClick:v,className:"text-gray-400 hover:text-gray-600 p-1 rounded",children:s.jsx(ma,{className:"w-4 h-4"})}),s.jsx(Tn,{className:`w-5 h-5 text-gray-400 transition-transform ${c?"rotate-180":""}`})]})]}),c&&s.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-80 overflow-hidden",children:[s.jsxs("div",{className:"p-3 border-b border-gray-200",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search products...",value:m,onChange:b,className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0})]}),o&&s.jsx("div",{className:"mt-2 flex justify-end",children:s.jsxs("button",{type:"button",onClick:g,disabled:p,className:"text-sm text-blue-600 hover:text-blue-700 disabled:opacity-50 flex items-center gap-1",children:[s.jsx("div",{className:`w-3 h-3 border border-current border-t-transparent rounded-full ${p?"animate-spin":""}`}),"Refresh"]})})]}),s.jsx("div",{className:"max-h-60 overflow-y-auto",children:h.length>0?h.map(j=>s.jsx("button",{type:"button",onClick:()=>w(j),className:`
                    w-full px-4 py-3 text-left hover:bg-gray-50 focus:bg-gray-50
                    border-b border-gray-100 last:border-b-0 transition-colors
                    ${(e==null?void 0:e.productId)===j.productId?"bg-blue-50":""}
                  `,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0",children:j.images&&j.images.length>0?s.jsx("img",{src:w8(j.images[0]),alt:j.productName,className:"w-full h-full object-cover rounded-lg",onError:E=>{E.currentTarget.src="/placeholder-image.jpg"}}):s.jsx(Ea,{className:"w-5 h-5 text-gray-400"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-medium text-gray-900 truncate",children:j.productName}),s.jsxs("div",{className:"text-sm text-gray-500 truncate",children:[j.productCode,"  $",j.price]}),s.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Stock: ",j.quantity," ",v8(j)?s.jsx("span",{className:"text-green-600 ml-1",children:"In Stock"}):s.jsx("span",{className:"text-red-600 ml-1",children:"Out of Stock"})]})]}),s.jsxs("div",{className:"flex flex-col gap-1 flex-shrink-0",children:[j.active&&s.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:"Active"}),j8(j)&&s.jsx("span",{className:"bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded-full",children:"Best Seller"})]})]})},j.productId)):s.jsx("div",{className:"px-4 py-8 text-center text-gray-500",children:m?s.jsxs("div",{children:[s.jsx(Ws,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),s.jsxs("p",{children:['No products found matching "',m,'"']})]}):s.jsxs("div",{children:[s.jsx(Ea,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),s.jsx("p",{children:"No products available"})]})})})]})]})},(e,t)=>{var a,n,r,i;return((a=e.value)==null?void 0:a.productId)===((n=t.value)==null?void 0:n.productId)&&e.placeholder===t.placeholder&&e.disabled===t.disabled&&e.className===t.className&&e.allowClear===t.allowClear&&((r=e.products)==null?void 0:r.length)===((i=t.products)==null?void 0:i.length)&&e.onChange===t.onChange&&e.onRefresh===t.onRefresh});NN.displayName="ProductDropdown";const is={all:["product-images"],byProduct:e=>[...is.all,e]};function N8(e){return bt({queryKey:is.byProduct(e),queryFn:async()=>e?(await fe.getProductImages(e)).data:[],enabled:!!e,staleTime:3e4})}function S8(){const e=Qt();return vt({mutationFn:async({imageId:t,productId:a})=>await fe.deleteProductImage(t,a),onMutate:async({imageId:t,productId:a})=>{await e.cancelQueries({queryKey:is.byProduct(a)});const n=e.getQueryData(is.byProduct(a));return n&&e.setQueryData(is.byProduct(a),n.filter(r=>r.imageId!==t)),{previousImages:n,productId:a}},onError:(t,a,n)=>{n!=null&&n.previousImages&&e.setQueryData(is.byProduct(n.productId),n.previousImages)},onSettled:(t,a,n)=>{e.invalidateQueries({queryKey:is.byProduct(n.productId)})}})}function C8(){const e=Qt();return vt({mutationFn:async({imageId:t,productId:a})=>await fe.setMainProductImage(t,a),onMutate:async({imageId:t,productId:a})=>{await e.cancelQueries({queryKey:is.byProduct(a)});const n=e.getQueryData(is.byProduct(a));return n&&e.setQueryData(is.byProduct(a),n.map(r=>({...r,main:r.imageId===t}))),{previousImages:n,productId:a}},onError:(t,a,n)=>{n!=null&&n.previousImages&&e.setQueryData(is.byProduct(n.productId),n.previousImages)},onSettled:(t,a,n)=>{e.invalidateQueries({queryKey:is.byProduct(n.productId)})}})}function E8(e){const t=Qt();return vt({mutationFn:async({files:a,productId:n,generateThumbnail:r=!0,thumbnailWidth:i=200,thumbnailHeight:l=200})=>{const o=a.map(c=>fe.uploadProductImage(e,c,n,r,i,l));return await Promise.all(o)},onSuccess:(a,n)=>{t.invalidateQueries({queryKey:is.byProduct(n.productId)})}})}const k8=()=>{const{user:e}=Ze(),t=u.useMemo(()=>dt(e==null?void 0:e.tenantId),[e==null?void 0:e.tenantId]),[a,n]=u.useState([]),[r,i]=u.useState(null),[l,o]=u.useState([]),[c,d]=u.useState(!1),[m,f]=u.useState("grid"),[p,x]=u.useState(""),[h,w]=u.useState([]),[v,g]=u.useState(!1),[y,b]=u.useState(null),j=u.useRef(!1),E=u.useCallback(async()=>{var C;if(!j.current){j.current=!0;try{const W={page:1,limit:1e3,sortBy:"productName",sortOrder:"ASC",active:!0},T=await fe.getProductListFiltered(W);(C=T.data)!=null&&C.products&&n(T.data.products)}catch{j.current=!1}}},[]);u.useEffect(()=>{E()},[E]);const{data:k=[],isLoading:S,refetch:N}=N8((r==null?void 0:r.productId)||null);u.useEffect(()=>{k.length>0&&k.filter(W=>W.thumbnailUrl&&W.thumbnailUrl.includes("/products/1/")&&W.productId!==1).length>0},[k,r,S]);const M=E8(t),R=S8(),A=C8(),z=u.useCallback(C=>{const W=C.map((T,G)=>({id:`${Date.now()}-${G}`,file:T,preview:URL.createObjectURL(T),main:l.length===0&&G===0,orderBy:l.length+G+1}));o(T=>[...T,...W])},[l.length]),{getRootProps:H,getInputProps:oe,isDragActive:Q}=jN({onDrop:z,accept:{"image/*":[".png",".jpg",".jpeg",".webp",".gif"]},maxFiles:10,maxSize:5*1024*1024}),I=C=>{o(W=>{const T=W.filter(te=>te.id!==C),G=W.find(te=>te.id===C);return G&&URL.revokeObjectURL(G.preview),T})},D=C=>{o(W=>W.map(T=>({...T,main:T.id===C})))},q=async C=>{if(r)try{await A.mutateAsync({imageId:C,productId:r.productId})}catch{}},K=async()=>{if(!(!r||l.length===0))try{await M.mutateAsync({files:l.map(C=>C.file),productId:r.productId,generateThumbnail:!0,thumbnailWidth:200,thumbnailHeight:200}),l.forEach(C=>URL.revokeObjectURL(C.preview)),o([]),d(!1)}catch{}},ae=C=>{b(C),g(!0)},ee=u.useCallback(async()=>{if(!(!y||!r))try{await R.mutateAsync({imageId:y.imageId,productId:r.productId}),g(!1),b(null)}catch{}},[y,r,R]),re=C=>{w(W=>W.includes(C)?W.filter(T=>T!==C):[...W,C])},P=u.useCallback(async()=>{if(!(h.length===0||!r))try{await Promise.all(h.map(C=>R.mutateAsync({imageId:C,productId:r.productId}))),w([])}catch{}},[h,r,R]),J=C=>{const W=ns;if(C.thumbnailUrl){let T=C.thumbnailUrl;if(T.startsWith("http"))return T;let G;return G=T.startsWith("/")?`${W}${T}`:`${W}/${T}`,G}if(C.imageUrl){if(C.imageUrl.startsWith("http"))return C.imageUrl;let T;return T=C.imageUrl.startsWith("/")?`${W}${C.imageUrl}`:`${W}/${C.imageUrl}`,T}if(C.imageId&&C.productId){let T;return T=`${W}/api/1.0/products/${C.productId}/thumbnail`,T}return"/placeholder-image.jpg"},ne=k.filter(C=>{var W;return(W=C.thumbnailUrl)==null?void 0:W.toLowerCase().includes(p.toLowerCase())});return u.useEffect(()=>{},[ne,k.length,p]),s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Product Image Management"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Manage product images and gallery"})]}),s.jsx("div",{className:"mt-4 sm:mt-0 flex gap-3",children:s.jsxs("button",{onClick:()=>d(!0),disabled:!r,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2 transition-colors",children:[s.jsx(Qu,{className:"w-5 h-5"}),"Upload Images"]})})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Product"}),s.jsx(NN,{value:r,onChange:C=>{i(C),w([])},placeholder:"Choose a product...",products:a,onRefresh:E,className:"w-full"})]}),r&&s.jsx("div",{className:"flex items-end",children:s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 w-full",children:[s.jsx("h3",{className:"font-medium text-blue-900",children:r.productName}),s.jsx("p",{className:"text-sm text-blue-700",children:r.productCode}),s.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:[k.length," image",k.length!==1?"s":""]})]})})]})}),r&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search images...",value:p,onChange:C=>x(C.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),h.length>0&&s.jsxs("button",{onClick:P,disabled:R.isPending,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2 transition-colors disabled:opacity-50",children:[s.jsx(Nr,{className:"w-4 h-4"}),"Delete Selected (",h.length,")"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>N(),disabled:S,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg font-medium flex items-center gap-2 transition-colors disabled:opacity-50",children:[s.jsx(Gu,{className:`w-4 h-4 ${S?"animate-spin":""}`}),"Refresh"]}),s.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>f("grid"),className:`p-2 rounded ${m==="grid"?"bg-white shadow-sm":""}`,children:s.jsx(z2,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>f("list"),className:`p-2 rounded ${m==="list"?"bg-white shadow-sm":""}`,children:s.jsx($2,{className:"w-4 h-4"})})]})]})]})}),S?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(_t,{})}):ne.length>0?s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:m==="grid"?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 p-6",children:ne.map(C=>s.jsxs("div",{className:"relative group",children:[s.jsxs("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:[s.jsx(Rn,{src:J(C),alt:`Product ${C.imageId}`,className:"w-full h-full group-hover:scale-105 transition-transform duration-300",fallbackSrc:"/placeholder-image.jpg",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 25vw",quality:85,lazy:!1,priority:!0}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center pointer-events-none group-hover:pointer-events-auto",children:s.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex gap-2",children:[s.jsx("button",{onClick:()=>window.open(J(C),"_blank"),className:"bg-white text-gray-700 p-2 rounded-full hover:bg-gray-100 transition-colors",children:s.jsx(Is,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>ae(C),className:"bg-white text-red-600 p-2 rounded-full hover:bg-red-50 transition-colors",children:s.jsx(Nr,{className:"w-4 h-4"})})]})}),s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx("input",{type:"checkbox",checked:h.includes(C.imageId),onChange:()=>re(C.imageId),className:"w-4 h-4 text-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500"})}),C.main&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsxs("div",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[s.jsx(On,{className:"w-3 h-3 fill-current"}),"Main"]})})]}),s.jsx("div",{className:"mt-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm text-gray-600",children:["Order: ",C.orderBy]}),!C.main&&s.jsx("button",{type:"button",onClick:W=>{W.preventDefault(),W.stopPropagation(),q(C.imageId)},disabled:A.isPending||!r,className:"text-xs bg-blue-50 text-blue-600 px-2 py-1 rounded hover:bg-blue-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer relative z-10",children:"Set as Main"})]})})]},C.imageId))}):s.jsx("div",{className:"divide-y divide-gray-200",children:ne.map(C=>s.jsxs("div",{className:"p-6 flex items-center gap-4",children:[s.jsx("input",{type:"checkbox",checked:h.includes(C.imageId),onChange:()=>re(C.imageId),className:"w-4 h-4 text-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500"}),s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:s.jsx(Rn,{src:J(C),alt:`Product ${C.imageId}`,className:"w-full h-full",fallbackSrc:"/placeholder-image.jpg",sizes:"64px",quality:75,lazy:!1,priority:!0})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("span",{className:"font-medium text-gray-900",children:["Image ",C.imageId]}),C.main&&s.jsxs("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[s.jsx(On,{className:"w-3 h-3 fill-current"}),"Main Image"]})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Order: ",C.orderBy]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[!C.main&&s.jsx("button",{type:"button",onClick:W=>{W.preventDefault(),W.stopPropagation(),q(C.imageId)},disabled:A.isPending||!r,className:"text-sm bg-blue-50 text-blue-600 px-3 py-1 rounded hover:bg-blue-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",children:"Set as Main"}),s.jsx("button",{onClick:()=>window.open(J(C),"_blank"),className:"text-gray-400 hover:text-gray-600 p-1",children:s.jsx(Is,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>ae(C),className:"text-gray-400 hover:text-red-600 p-1",children:s.jsx(Nr,{className:"w-4 h-4"})})]})]},C.imageId))})}):s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[s.jsx(fA,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No images found"}),s.jsx("p",{className:"text-gray-500 mb-4",children:p?"No images match your search criteria":"This product doesn't have any images yet"}),s.jsxs("button",{onClick:()=>d(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium flex items-center gap-2 mx-auto",children:[s.jsx(bi,{className:"w-4 h-4"}),"Add Images"]})]})]}),!r&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[s.jsx(Ea,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select a Product"}),s.jsx("p",{className:"text-gray-500",children:"Choose a product from the dropdown to manage its images"})]})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Upload Product Images"}),s.jsx("button",{onClick:()=>{d(!1),o([])},className:"text-gray-400 hover:text-gray-600",children:s.jsx(ma,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[s.jsxs("div",{...H(),className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ${Q?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:[s.jsx("input",{...oe()}),s.jsx(Qu,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),Q?s.jsx("p",{className:"text-blue-600 text-lg font-medium",children:"Drop the images here..."}):s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600 text-lg font-medium mb-2",children:"Drag & drop images here, or click to select"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Supports PNG, JPG, JPEG, WebP, GIF up to 5MB each"})]})]}),l.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Preview (",l.length," image",l.length!==1?"s":"",")"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:l.map(C=>s.jsxs("div",{className:"relative group",children:[s.jsxs("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:[s.jsx("img",{src:C.preview,alt:"Preview",className:"w-full h-full object-cover"}),s.jsx("button",{onClick:()=>I(C.id),className:"absolute top-2 right-2 bg-red-600 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(ma,{className:"w-4 h-4"})}),C.main&&s.jsx("div",{className:"absolute top-2 left-2",children:s.jsxs("div",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[s.jsx(On,{className:"w-3 h-3 fill-current"}),"Main"]})})]}),s.jsx("div",{className:"mt-2",children:!C.main&&s.jsx("button",{onClick:()=>D(C.id),className:"w-full text-xs bg-blue-50 text-blue-600 px-2 py-1 rounded hover:bg-blue-100 transition-colors",children:"Set as Main"})})]},C.id))})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-4 p-6 border-t border-gray-200",children:[s.jsx("button",{onClick:()=>{d(!1),o([])},className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition-colors",children:"Cancel"}),s.jsx("button",{onClick:K,disabled:l.length===0||M.isPending,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition-colors",children:M.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Qu,{className:"w-4 h-4"}),"Upload ",l.length," Image",l.length!==1?"s":""]})})]})]})}),v&&y&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(zs,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Image"}),s.jsx("p",{className:"text-sm text-gray-500",children:"This action cannot be undone."})]})]}),s.jsx("div",{className:"mb-6",children:s.jsx(Rn,{src:J(y),alt:"Selected product",className:"w-20 h-20 rounded-lg mx-auto",fallbackSrc:"/placeholder-image.jpg",sizes:"80px",quality:75,lazy:!1})}),s.jsx("p",{className:"text-gray-700 mb-6 text-center",children:"Are you sure you want to delete this image?"}),s.jsxs("div",{className:"flex items-center justify-end gap-3",children:[s.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition-colors",children:"Cancel"}),s.jsx("button",{onClick:ee,disabled:R.isPending,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:R.isPending?"Deleting...":"Delete"})]})]})})})]})},SN=ke.memo(({user:e,onClose:t,onUpdate:a,isUpdating:n=!1})=>{const[r,i]=u.useState(e.status==="pending"?"active":e.status),l=u.useCallback(async d=>{d.preventDefault(),!(r===e.status||n)&&a(e.id,r)},[r,e.status,e.id,n,a]),o=u.useCallback(d=>{switch(d){case"active":return s.jsx(Pa,{className:"w-5 h-5 text-green-600"});case"inactive":return s.jsx(Mn,{className:"w-5 h-5 text-red-600"});default:return s.jsx(zs,{className:"w-5 h-5 text-yellow-600"})}},[]),c=u.useMemo(()=>o(e.status),[o,e.status]);return s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Update User Status"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(ma,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-gray-700",children:e.name.charAt(0).toUpperCase()})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:e.name}),s.jsx("p",{className:"text-sm text-gray-500",children:e.email}),s.jsx("p",{className:"text-sm text-gray-500 capitalize",children:e.role})]})]})}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Status"}),s.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg",children:[c,s.jsx("span",{className:"text-sm font-medium text-gray-900 capitalize",children:e.status})]})]}),s.jsxs("form",{onSubmit:l,children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"New Status"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[s.jsx("input",{type:"radio",name:"status",value:"active",checked:r==="active",onChange:d=>i(d.target.value),className:"text-green-600 focus:ring-green-500"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Pa,{className:"w-5 h-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Active"}),s.jsx("p",{className:"text-sm text-gray-500",children:"User can access the platform"})]})]})]}),s.jsxs("label",{className:"flex items-center space-x-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[s.jsx("input",{type:"radio",name:"status",value:"inactive",checked:r==="inactive",onChange:d=>i(d.target.value),className:"text-red-600 focus:ring-red-500"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Mn,{className:"w-5 h-5 text-red-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Inactive"}),s.jsx("p",{className:"text-sm text-gray-500",children:"User cannot access the platform"})]})]})]})]})]}),r==="inactive"&&s.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(zs,{className:"w-5 h-5 text-red-600"}),s.jsxs("p",{className:"text-sm text-red-800",children:[s.jsx("strong",{children:"Warning:"})," This will immediately log out the user if they are currently active."]})]})}),s.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:n||r===e.status,className:"px-4 py-2 text-sm font-medium text-white bg-green-600 border border-transparent rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Updating...":"Update Status"})]})]})]})})})},(e,t)=>e.user.id===t.user.id&&e.user.status===t.user.status&&e.isUpdating===t.isUpdating&&e.onClose===t.onClose&&e.onUpdate===t.onUpdate);SN.displayName="UserStatusModal";const CN=ke.memo(({user:e,roles:t,onClose:a,onUpdate:n})=>{const[r,i]=u.useState(e.role),[l,o]=u.useState([]),[c,d]=u.useState(!1),m=u.useMemo(()=>[{id:"view_products",name:"View Products",description:"Can browse and view product details"},{id:"place_orders",name:"Place Orders",description:"Can create and place new orders"},{id:"view_own_orders",name:"View Own Orders",description:"Can view their own order history"},{id:"view_orders",name:"View All Orders",description:"Can view all orders in the system"},{id:"manage_products",name:"Manage Products",description:"Can create, edit, and delete products"},{id:"view_users",name:"View Users",description:"Can view user list and basic information"},{id:"manage_users",name:"Manage Users",description:"Can update user status and basic information"},{id:"manage_roles",name:"Manage Roles",description:"Can create, edit, and assign roles"},{id:"view_analytics",name:"View Analytics",description:"Can access analytics and reports"},{id:"manage_settings",name:"Manage Settings",description:"Can modify system settings"},{id:"manage_inventory",name:"Manage Inventory",description:"Can manage inventory and stock levels"},{id:"view_reports",name:"View Reports",description:"Can view business reports and analytics"},{id:"manage_orders",name:"Manage Orders",description:"Can manage and process all orders"}],[]),f=u.useMemo(()=>t.find(g=>g.id===r),[t,r]),p=u.useCallback(async g=>{g.preventDefault(),d(!0);try{await new Promise(b=>setTimeout(b,1e3));const y=l.length>0?l:(f==null?void 0:f.permissions)||[];n(e.id,(f==null?void 0:f.name)||r,y)}catch{}finally{d(!1)}},[l,f,r,e.id,n]),x=u.useCallback(g=>{o(y=>y.includes(g)?y.filter(b=>b!==g):[...y,g])},[]),h=u.useCallback(g=>l.length>0?l.includes(g):(f==null?void 0:f.permissions.includes(g))||!1,[l,f]),w=u.useCallback(g=>{switch(g.toLowerCase()){case"admin":return"bg-purple-100 text-purple-800";case"executive":return"bg-blue-100 text-blue-800";case"customer":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},[]),v=u.useMemo(()=>w(e.role),[w,e.role]);return s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsx("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Manage Role & Permissions"}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Assign roles and customize permissions for ",e.name]})]}),s.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(ma,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-gray-700",children:e.name.charAt(0).toUpperCase()})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:e.name}),s.jsx("p",{className:"text-sm text-gray-500",children:e.email}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${v}`,children:e.role}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${e.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.status})]})]})]})}),s.jsxs("form",{onSubmit:p,children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Select Role"}),s.jsx("div",{className:"space-y-3",children:t.map(g=>s.jsxs("label",{className:"flex items-start space-x-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[s.jsx("input",{type:"radio",name:"role",value:g.id,checked:r===g.id,onChange:y=>i(y.target.value),className:"mt-1 text-purple-600 focus:ring-purple-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Gl,{className:"w-4 h-4 text-purple-600"}),s.jsx("p",{className:"font-medium text-gray-900",children:g.name})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:g.description}),s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Default Permissions:"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:g.permissions.map(y=>s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:y.replace(/_/g," ")},y))})]})]})]},g.id))})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Permissions"}),l.length>0&&s.jsx("span",{className:"text-xs text-purple-600 font-medium",children:"Custom permissions enabled"})]}),s.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:m.map(g=>s.jsxs("label",{className:"flex items-start space-x-3 p-2 rounded-lg cursor-pointer hover:bg-gray-50",children:[s.jsx("input",{type:"checkbox",checked:h(g.id),onChange:()=>x(g.id),className:"mt-1 text-purple-600 focus:ring-purple-500 rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:g.name}),s.jsx("p",{className:"text-xs text-gray-500",children:g.description})]})]},g.id))}),l.length>0&&s.jsx("div",{className:"mt-4 p-3 bg-purple-50 border border-purple-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(zs,{className:"w-4 h-4 text-purple-600"}),s.jsxs("p",{className:"text-sm text-purple-800",children:[s.jsx("strong",{children:"Custom permissions enabled."})," The selected permissions will override the role's default permissions."]})]})})]})]}),(f==null?void 0:f.name.toLowerCase())==="admin"&&s.jsx("div",{className:"mt-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(zs,{className:"w-5 h-5 text-red-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-800",children:"Admin Role Warning"}),s.jsx("p",{className:"text-sm text-red-700",children:"Admin users have full access to all system features. This includes sensitive operations like user management, system settings, and analytics."})]})]})}),s.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-6 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:c,className:"px-4 py-2 text-sm font-medium text-white bg-purple-600 border border-transparent rounded-lg hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Updating...":"Update Role & Permissions"})]})]})]})})})},(e,t)=>e.user.id===t.user.id&&e.user.role===t.user.role&&e.roles.length===t.roles.length&&e.onClose===t.onClose&&e.onUpdate===t.onUpdate);CN.displayName="RolePermissionModal";const A8=e=>{const{adminUserId:t,tenantId:a,page:n=1,limit:r=10,search:i=null,status:l=null,role:o=null,verificationFilter:c=null,enabled:d=!1}=e;return bt({queryKey:["adminUsers",t,a,n,r,i,l,o,c],queryFn:async()=>{const m={adminUserId:t,tenantId:a,page:n,limit:r,search:i,status:l,role:o,verificationFilter:c};return await fe.getAdminUsers(m)},enabled:d&&!!t&&!!a,staleTime:3e4,gcTime:5*60*1e3,retry:2,refetchOnWindowFocus:!1,refetchOnReconnect:!1})},T8=e=>{const t=Qt();return vt({mutationFn:async a=>await fe.updateUserStatus(a),onSuccess:a=>{t.invalidateQueries({queryKey:["adminUsers"],exact:!1}),e!=null&&e.onSuccess&&e.onSuccess(a)},onError:a=>{e!=null&&e.onError&&e.onError(a)}})},M8=e=>{const t=Qt();return vt({mutationFn:async a=>await fe.updateUserRole(a),onSuccess:a=>{t.invalidateQueries({queryKey:["adminUsers"],exact:!1}),e!=null&&e.onSuccess&&e.onSuccess(a)},onError:a=>{e!=null&&e.onError&&e.onError(a)}})},O8=e=>{const t=Qt();return vt({mutationFn:async a=>await fe.toggleVerification(a),onSuccess:a=>{t.invalidateQueries({queryKey:["adminUsers"],exact:!1}),e!=null&&e.onSuccess&&e.onSuccess(a)},onError:a=>{e!=null&&e.onError&&e.onError(a)}})},_8=()=>{var W;const{user:e}=Ze(),{showToast:t}=qa(),a=ta(),[n,r]=u.useState(1),[i]=u.useState(10),[l,o]=u.useState(""),[c,d]=u.useState("all"),[m,f]=u.useState("all"),[p,x]=u.useState("all"),[h,w]=u.useState(null),[v,g]=u.useState(!1),[y,b]=u.useState(!1),j=(e==null?void 0:e.userId)||0,E=dt(e==null?void 0:e.tenantId),[k,S]=u.useState(!1);u.useEffect(()=>{a.pathname==="/admin/users"&&j&&E&&S(!0)},[a.pathname,j,E]);const[N,M]=u.useState(l);u.useEffect(()=>{const T=setTimeout(()=>{M(l),r(1)},500);return()=>clearTimeout(T)},[l]);const{data:R,isLoading:A,isError:z,error:H,refetch:oe}=A8({adminUserId:j,tenantId:E,page:n,limit:i,search:N||null,status:c==="all"?null:c,role:m==="all"?null:m,verificationFilter:p==="all"?null:p,enabled:k&&!!j&&!!E}),Q=T8({onSuccess:T=>{t("User status updated successfully","success"),g(!1),w(null)},onError:T=>{t(T.message||"Failed to update user status","error")}}),I=M8({onSuccess:T=>{t("User role updated successfully","success"),b(!1),w(null)},onError:T=>{t(T.message||"Failed to update user role","error")}}),D=O8({onSuccess:T=>{t("Verification status updated successfully","success")},onError:T=>{t(T.message||"Failed to update verification status","error")}}),q=u.useMemo(()=>{var T;return(T=R==null?void 0:R.data)!=null&&T.users?R.data.users.map(G=>({id:G.userId.toString(),userId:G.userId,name:`${G.firstName} ${G.lastName}`,fullName:G.fullName,email:G.email,phone:G.phone,status:G.status,role:G.role,emailVerified:G.emailVerified,phoneVerified:G.phoneVerified,createdAt:G.createdAt,lastLogin:G.lastLogin,avatar:G.avatar})):[]},[R]),K=u.useMemo(()=>q.filter(T=>{const G=!l||T.name.toLowerCase().includes(l.toLowerCase())||T.email.toLowerCase().includes(l.toLowerCase())||T.phone&&T.phone.includes(l),te=c==="all"||T.status===c,ve=m==="all"||T.role.toLowerCase()===m.toLowerCase(),xe=p==="all"||p==="verified"&&T.emailVerified&&T.phoneVerified||p==="unverified"&&(!T.emailVerified||!T.phoneVerified);return G&&te&&ve&&xe}),[q,l,c,m,p]),ae=[{id:"1",name:"Customer",description:"Regular customer with basic access",permissions:["view_products","place_orders","view_own_orders"]},{id:"2",name:"Executive",description:"Executive with business management access",permissions:["view_products","place_orders","view_orders","manage_products","view_users","view_analytics","view_reports","manage_orders"]},{id:"3",name:"Admin",description:"Full administrative access",permissions:["view_products","place_orders","view_orders","manage_products","manage_users","manage_roles","view_analytics","manage_settings","manage_inventory","view_reports","manage_orders"]}],ee=T=>{switch(T){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},re=T=>{switch(T){case"admin":return"bg-purple-100 text-purple-800";case"executive":return"bg-blue-100 text-blue-800";case"customer":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},P=T=>new Date(T).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),J=async(T,G)=>{!h||!j||!E||Q.mutate({adminUserId:j,tenantId:E,userId:h.userId,status:G})},ne=(T,G,te)=>{!h||!j||!E||I.mutate({adminUserId:j,tenantId:E,userId:h.userId,role:G,permissions:te})},C=(T,G)=>{if(!h||!j||!E)return;const te=G==="email"?h.emailVerified:h.phoneVerified;D.mutate({adminUserId:j,tenantId:E,userId:h.userId,type:G,verified:!te})};return e?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"User Management"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"Manage users, roles, and permissions"}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search users by name, email, or phone...",value:l,onChange:T=>o(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})}),s.jsx("div",{children:s.jsxs("select",{value:c,onChange:T=>d(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"}),s.jsx("option",{value:"pending",children:"Pending"})]})}),s.jsx("div",{children:s.jsxs("select",{value:m,onChange:T=>f(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[s.jsx("option",{value:"all",children:"All Roles"}),s.jsx("option",{value:"customer",children:"Customer"}),s.jsx("option",{value:"executive",children:"Executive"}),s.jsx("option",{value:"admin",children:"Admin"})]})})]}),s.jsx("div",{className:"mt-4 flex flex-wrap gap-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Verification:"}),s.jsxs("select",{value:p,onChange:T=>x(T.target.value),className:"px-3 py-1 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[s.jsx("option",{value:"all",children:"All"}),s.jsx("option",{value:"verified",children:"Verified"}),s.jsx("option",{value:"unverified",children:"Unverified"})]})]})})]})}),A?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[s.jsx(_t,{size:"lg"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading users..."})]}):z?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[s.jsx(Gl,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error loading users"}),s.jsx("p",{className:"text-gray-500 mb-4",children:(H==null?void 0:H.message)||"An error occurred while fetching users"}),s.jsx("button",{onClick:()=>oe(),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Retry"})]}):K.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[s.jsx(Gl,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No users found"}),s.jsx("p",{className:"text-gray-500",children:l||c!=="all"||m!=="all"||p!=="all"?"Try adjusting your search or filter criteria":"No users have been added yet"})]}):s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Verification"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:K.map(T=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:T.avatar?s.jsx("img",{className:"h-10 w-10 rounded-full",src:T.avatar,alt:T.name}):s.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-gray-700",children:T.name.charAt(0).toUpperCase()})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.name}),s.jsx("div",{className:"text-sm text-gray-500",children:T.email}),T.phone&&s.jsx("div",{className:"text-sm text-gray-500",children:T.phone})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ee(T.status)}`,children:T.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${re(T.role)}`,children:T.role})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>C(T.id,"email"),className:`p-1 rounded-full ${T.emailVerified?"text-green-600":"text-gray-400"}`,title:T.emailVerified?"Email verified":"Email not verified",children:T.emailVerified?s.jsx(Pa,{className:"w-4 h-4"}):s.jsx(Mn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>C(T.id,"phone"),className:`p-1 rounded-full ${T.phoneVerified?"text-green-600":"text-gray-400"}`,title:T.phoneVerified?"Phone verified":"Phone not verified",children:T.phoneVerified?s.jsx(Pa,{className:"w-4 h-4"}):s.jsx(Mn,{className:"w-4 h-4"})})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P(T.createdAt)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.lastLogin?P(T.lastLogin):"Never"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsx("button",{onClick:()=>{w(T),g(!0)},className:"text-indigo-600 hover:text-indigo-900",title:"Update Status",children:s.jsx(wr,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>{w(T),b(!0)},className:"text-purple-600 hover:text-purple-900",title:"Manage Role & Permissions",children:s.jsx(Gl,{className:"w-4 h-4"})})]})})]},T.id))})]})})}),((W=R==null?void 0:R.data)==null?void 0:W.pagination)&&s.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",(n-1)*i+1," to ",Math.min(n*i,R.data.pagination.total)," of ",R.data.pagination.total," users"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>r(T=>Math.max(1,T-1)),disabled:!R.data.pagination.hasPrevious||A,className:"p-2 border border-gray-300 rounded-lg text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),s.jsxs("span",{className:"px-3 py-2 text-sm font-medium text-gray-700",children:["Page ",n," of ",R.data.pagination.totalPages]}),s.jsx("button",{onClick:()=>r(T=>T+1),disabled:!R.data.pagination.hasNext||A,className:"p-2 border border-gray-300 rounded-lg text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})]}),v&&h&&s.jsx(SN,{user:h,onClose:()=>{g(!1),w(null)},onUpdate:J,isUpdating:Q.isPending}),y&&h&&s.jsx(CN,{user:h,roles:ae,onClose:()=>{b(!1),w(null)},onUpdate:ne})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(_t,{size:"lg"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})},EN=ke.memo(({isOpen:e,onClose:t,onSubmit:a,loading:n,selectedCount:r})=>{const[i,l]=u.useState(""),[o,c]=u.useState(""),d=u.useCallback(m=>{m.preventDefault(),i&&a(i,o)},[i,o,a]);return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Update Order Status"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(ma,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:d,className:"p-6",children:[s.jsx("div",{className:"mb-4",children:s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Updating status for ",s.jsx("span",{className:"font-medium",children:r})," selected order(s)"]})}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Status *"}),s.jsxs("select",{value:i,onChange:m=>l(m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Select status..."}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"confirmed",children:"Confirmed"}),s.jsx("option",{value:"processing",children:"Processing"}),s.jsx("option",{value:"shipped",children:"Shipped"}),s.jsx("option",{value:"delivered",children:"Delivered"}),s.jsx("option",{value:"cancelled",children:"Cancelled"}),s.jsx("option",{value:"refunded",children:"Refunded"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Note (Optional)"}),s.jsx("textarea",{value:o,onChange:m=>c(m.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Add a note about this status update..."})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",disabled:n,children:"Cancel"}),s.jsx("button",{type:"submit",disabled:!i||n,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(kc,{className:"w-4 h-4 mr-2"}),"Update Status"]})})]})]})]})}):null},(e,t)=>e.isOpen===t.isOpen&&e.loading===t.loading&&e.selectedCount===t.selectedCount&&e.onClose===t.onClose&&e.onSubmit===t.onSubmit);EN.displayName="UpdateStatusModal";const kN=ke.memo(({isOpen:e,onClose:t,onConfirm:a,loading:n,selectedCount:r})=>e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Print Shipping Labels"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(ma,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-100 rounded-lg mx-auto mb-4",children:s.jsx(F2,{className:"w-6 h-6 text-blue-600"})}),s.jsx("h3",{className:"text-center text-lg font-medium text-gray-900 mb-2",children:"Print Labels"}),s.jsxs("p",{className:"text-center text-sm text-gray-600 mb-4",children:["Generate and print shipping labels for ",s.jsx("span",{className:"font-medium",children:r})," selected order(s)"]})]}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(jr,{className:"w-5 h-5 text-yellow-600 mt-0.5 mr-3 flex-shrink-0"}),s.jsxs("div",{className:"text-sm text-yellow-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Important:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[s.jsx("li",{children:"Ensure your printer is connected and ready"}),s.jsx("li",{children:"Use standard shipping label paper (4x6 inches)"}),s.jsx("li",{children:"Labels will open in a new window for printing"})]})]})]})}),s.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[s.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",disabled:n,children:"Cancel"}),s.jsx("button",{onClick:a,disabled:n,className:"px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(F2,{className:"w-4 h-4 mr-2"}),"Print Labels"]})})]})]})]})}):null,(e,t)=>e.isOpen===t.isOpen&&e.loading===t.loading&&e.selectedCount===t.selectedCount&&e.onClose===t.onClose&&e.onConfirm===t.onConfirm);kN.displayName="PrintLabelsModal";const AN=ke.memo(({isOpen:e,onClose:t,onSubmit:a,loading:n,selectedCount:r})=>{const[i,l]=u.useState(""),[o,c]=u.useState("email"),d=u.useCallback(m=>{m.preventDefault(),i.trim()&&a(i.trim(),o)},[i,o,a]);return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Send Notification"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(ma,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:d,className:"p-6",children:[s.jsx("div",{className:"mb-4",children:s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Sending notification to ",s.jsx("span",{className:"font-medium",children:r})," selected order(s)"]})}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notification Type"}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("button",{type:"button",onClick:()=>c("email"),className:`p-3 border rounded-lg flex flex-col items-center transition-colors ${o==="email"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"}`,children:[s.jsx(Kf,{className:"w-5 h-5 mb-1"}),s.jsx("span",{className:"text-xs",children:"Email"})]}),s.jsxs("button",{type:"button",onClick:()=>c("sms"),className:`p-3 border rounded-lg flex flex-col items-center transition-colors ${o==="sms"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"}`,children:[s.jsx(jA,{className:"w-5 h-5 mb-1"}),s.jsx("span",{className:"text-xs",children:"SMS"})]}),s.jsxs("button",{type:"button",onClick:()=>c("both"),className:`p-3 border rounded-lg flex flex-col items-center transition-colors ${o==="both"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"}`,children:[s.jsx(yA,{className:"w-5 h-5 mb-1"}),s.jsx("span",{className:"text-xs",children:"Both"})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),s.jsx("textarea",{value:i,onChange:m=>l(m.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your notification message...",required:!0}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[i.length," characters"]})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",disabled:n,children:"Cancel"}),s.jsx("button",{type:"submit",disabled:!i.trim()||n,className:"px-4 py-2 text-sm font-medium text-white bg-purple-600 rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):s.jsxs(s.Fragment,{children:[s.jsx(q2,{className:"w-4 h-4 mr-2"}),"Send Notification"]})})]})]})]})}):null},(e,t)=>e.isOpen===t.isOpen&&e.loading===t.loading&&e.selectedCount===t.selectedCount&&e.onClose===t.onClose&&e.onSubmit===t.onSubmit);AN.displayName="NotificationModal";const TN=ke.memo(({isOpen:e,onClose:t,onExport:a,loading:n,totalOrders:r})=>{const[i,l]=u.useState("excel"),[o,c]=u.useState(!0),[d,m]=u.useState("all"),f=u.useCallback(p=>{p.preventDefault(),a(i,o?{dateRange:d}:{})},[o,d,i,a]);return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Export Orders"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(ma,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:f,className:"p-6",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Export ",s.jsx("span",{className:"font-medium",children:r})," orders"]})}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Export Format"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("button",{type:"button",onClick:()=>l("excel"),className:`p-4 border rounded-lg flex flex-col items-center transition-colors ${i==="excel"?"border-green-500 bg-green-50 text-green-700":"border-gray-300 hover:border-gray-400"}`,children:[s.jsx(mA,{className:"w-6 h-6 mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Excel"}),s.jsx("span",{className:"text-xs text-gray-500",children:".xlsx"})]}),s.jsxs("button",{type:"button",onClick:()=>l("pdf"),className:`p-4 border rounded-lg flex flex-col items-center transition-colors ${i==="pdf"?"border-red-500 bg-red-50 text-red-700":"border-gray-300 hover:border-gray-400"}`,children:[s.jsx(pA,{className:"w-6 h-6 mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:"PDF"}),s.jsx("span",{className:"text-xs text-gray-500",children:".pdf"})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("input",{type:"checkbox",id:"includeFilters",checked:o,onChange:p=>c(p.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("label",{htmlFor:"includeFilters",className:"ml-2 text-sm font-medium text-gray-700",children:"Include current filters"})]}),o&&s.jsxs("div",{className:"ml-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),s.jsxs("select",{value:d,onChange:p=>m(p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Time"}),s.jsx("option",{value:"today",children:"Today"}),s.jsx("option",{value:"week",children:"This Week"}),s.jsx("option",{value:"month",children:"This Month"}),s.jsx("option",{value:"quarter",children:"This Quarter"}),s.jsx("option",{value:"year",children:"This Year"})]})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(Hl,{className:"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0"}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Export includes:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[s.jsx("li",{children:"Order details and customer information"}),s.jsx("li",{children:"Product items and pricing"}),s.jsx("li",{children:"Shipping and payment status"}),s.jsx("li",{children:"Timeline and tracking information"})]})]})]})}),s.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",disabled:n,children:"Cancel"}),s.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Exporting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Hl,{className:"w-4 h-4 mr-2"}),"Export ",i.toUpperCase()]})})]})]})]})}):null},(e,t)=>e.isOpen===t.isOpen&&e.loading===t.loading&&e.totalOrders===t.totalOrders&&e.onClose===t.onClose&&e.onExport===t.onExport);TN.displayName="ExportModal";const R8=(e,t=!0)=>{const a=t&&!!e.adminUserId&&e.adminUserId>0;return bt({queryKey:["adminOrders",e.adminUserId,e.tenantId,e.page,e.limit,e.status,e.search,e.startDate,e.endDate],queryFn:async()=>await fe.getAdminOrders(e),enabled:a,staleTime:1e4,gcTime:5*60*1e3,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,retry:1,retryDelay:n=>Math.min(1e3*2**n,3e4)})},MN=e=>{const t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${a}-${n}`},D8=()=>{const e=new Date,t=new Date(e);return t.setDate(e.getDate()-7),MN(t)},Wx=()=>MN(new Date),L8=()=>{var we;const{user:e}=Ze(),[t,a]=u.useState(""),[n,r]=u.useState(""),[i,l]=u.useState("all"),[o,c]=u.useState("all"),[d,m]=u.useState(D8()),[f,p]=u.useState(Wx()),[x,h]=u.useState([]),[w,v]=u.useState(1),[g,y]=u.useState(10),[b,j]=u.useState({key:"createdAt",direction:"desc"}),[E,k]=u.useState(!1),[S,N]=u.useState(!1),[M,R]=u.useState(!1),[A,z]=u.useState(!1),[H,oe]=u.useState(!1),[Q,I]=u.useState(null),[D,q]=u.useState(!1);u.useEffect(()=>{const _=setTimeout(()=>{r(t),v(1)},300);return()=>clearTimeout(_)},[t]);const K=u.useMemo(()=>({adminUserId:(e==null?void 0:e.userId)||1,tenantId:(e==null?void 0:e.tenantId)||ua,page:w,limit:g,status:i==="all"?null:i,search:n||null,startDate:d,endDate:f}),[e==null?void 0:e.userId,e==null?void 0:e.tenantId,w,g,i,n,d,f]),{data:ae,isLoading:ee,refetch:re,isFetching:P}=R8(K,!!e),J=u.useMemo(()=>{if(!(ae!=null&&ae.data))return[];const _=new Map;return ae.data.orders.forEach(se=>{_.has(se.orderId)||_.set(se.orderId,se)}),Array.from(_.values()).map(se=>{var De;return{id:se.orderId,orderNumber:se.orderNumber,customer:{id:se.customerId.toString(),name:se.customerName,email:se.customerEmail,phone:se.customerPhone},items:se.items.map(Be=>({id:Be.orderItemId.toString(),productId:Be.productId.toString(),productName:Be.productName,productImage:Be.productImage,sku:Be.productCode,quantity:Be.quantity,price:Be.price,total:Be.total})),subtotal:se.subtotal,shipping:se.shippingAmount,tax:se.taxAmount,discount:se.discountAmount,total:se.total,status:se.status,paymentStatus:se.paymentStatus,paymentMethod:((De=se.paymentMethod)==null?void 0:De.name)||"Unknown",shippingAddress:{street:se.shippingAddress.address1,city:se.shippingAddress.city,state:se.shippingAddress.state,zipCode:se.shippingAddress.zipCode,country:se.shippingAddress.country},billingAddress:se.billingAddress?{street:se.billingAddress.address1,city:se.billingAddress.city,state:se.billingAddress.state,zipCode:se.billingAddress.zipCode,country:se.billingAddress.country}:void 0,notes:se.notes||"",timeline:[],createdAt:se.createdAt,updatedAt:se.updatedAt,estimatedDelivery:se.estimatedDelivery,trackingNumber:void 0,shippingCarrier:void 0}})},[ae]),ne=(we=ae==null?void 0:ae.data)==null?void 0:we.statistics,C=u.useMemo(()=>J.filter(_=>{const le=o==="all"||_.paymentStatus===o,se=t===""||_.orderNumber.toLowerCase().includes(t.toLowerCase())||_.customer.name.toLowerCase().includes(t.toLowerCase())||_.customer.email.toLowerCase().includes(t.toLowerCase())||_.customer.phone.toLowerCase().includes(t.toLowerCase())||_.status.toLowerCase().includes(t.toLowerCase())||_.paymentStatus.toLowerCase().includes(t.toLowerCase())||_.paymentMethod.toLowerCase().includes(t.toLowerCase())||_.total.toString().includes(t.toLowerCase())||_.items.length.toString().includes(t.toLowerCase());return le&&se}),[J,o,t]),W=u.useMemo(()=>[...C].sort((_,le)=>{let se,De;switch(b.key){case"orderNumber":se=_.orderNumber,De=le.orderNumber;break;case"customer":se=_.customer.name.toLowerCase(),De=le.customer.name.toLowerCase();break;case"total":se=_.total,De=le.total;break;case"status":se=_.status,De=le.status;break;case"paymentStatus":se=_.paymentStatus,De=le.paymentStatus;break;case"items":se=_.items.length,De=le.items.length;break;case"createdAt":default:se=new Date(_.createdAt).getTime(),De=new Date(le.createdAt).getTime();break}return b.direction==="asc"?se<De?-1:se>De?1:0:se>De?-1:se<De?1:0}),[C,b]),T=_=>{j({key:_,direction:b.key===_&&b.direction==="asc"?"desc":"asc"})},G=({columnKey:_})=>b.key!==_?s.jsx(Tn,{className:"w-4 h-4 text-gray-400"}):b.direction==="asc"?s.jsx(yi,{className:"w-4 h-4 text-green-600"}):s.jsx(Tn,{className:"w-4 h-4 text-green-600"}),te=Math.ceil(W.length/g),ve=W.slice((w-1)*g,w*g),xe=async(_,le)=>{if(!(!e||x.length===0)){q(!0);try{const se=e.userId,De=dt(e.tenantId),Be=x.map(As=>parseInt(As));await fe.updateOrderStatus({orderIds:Be,status:_,note:le,adminUserId:se,tenantId:De}),await re(),k(!1),h([])}catch{}finally{q(!1)}}},At=async()=>{var _;if(!(!e||x.length===0)){q(!0);try{const le=dt(e.tenantId),se=x.map(Be=>parseInt(Be)),De=await fe.printShippingLabels({orderIds:se,tenantId:le});if((_=De.data)!=null&&_.url){const Be=window.open(De.data.url,"_blank");Be&&(Be.onload=()=>{Be.print()})}else{const Be=window.open("","_blank");Be&&(Be.document.write(`
            <html>
              <head><title>Shipping Labels</title></head>
              <body>
                <h1>Shipping Labels</h1>
                <p>Printing labels for ${x.length} order(s)...</p>
                <script>window.print(); window.close();<\/script>
              </body>
            </html>
          `),Be.document.close())}N(!1)}catch{}finally{q(!1)}}},Lt=async(_,le)=>{q(!0);try{await new Promise(se=>setTimeout(se,1500)),R(!1)}catch{}finally{q(!1)}},[ls,ga]=u.useState(!1),[L,Ee]=u.useState([]),[$,be]=u.useState("all"),Pe=async(_,le)=>{const se=W;if(_==="excel"){q(!0);try{const Be=[["Order Number","Customer Name","Customer Email","Phone","Status","Payment Status","Total","Items Count","Created Date"].join(",")];se.forEach(Ue=>{const Xe=ie=>ie.includes(",")||ie.includes('"')||ie.includes(`
`)?`"${ie.replace(/"/g,'""')}"`:ie,ya=[Xe(Ue.orderNumber),Xe(Ue.customer.name),Xe(Ue.customer.email),Xe(Ue.customer.phone),Xe(Ue.status),Xe(Ue.paymentStatus),Ue.total.toFixed(2),Ue.items.length.toString(),new Date(Ue.createdAt).toLocaleDateString()];Be.push(ya.join(","))});const V="\uFEFF"+Be.join(`
`),Y=new Blob([V],{type:"application/vnd.ms-excel;charset=utf-8;"}),Ce=window.URL.createObjectURL(Y),ze=document.createElement("a");ze.href=Ce,ze.download=`orders-export-${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(ze),ze.click(),window.URL.revokeObjectURL(Ce),document.body.removeChild(ze),z(!1)}catch{}finally{q(!1)}}else if(_==="pdf"){const De=Array.from(new Map(se.map(Be=>[Be.id,Be])).values());Ee(De),ga(!0),z(!1)}},U=()=>{window.print()},ce=_=>{switch(_){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"processing":return"bg-purple-100 text-purple-800";case"shipped":return"bg-indigo-100 text-indigo-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";case"refunded":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},B=_=>{switch(_){case"paid":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case"refunded":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},Z=_=>{switch(_){case"pending":return s.jsx(Hu,{className:"w-4 h-4"});case"confirmed":return s.jsx(Pa,{className:"w-4 h-4"});case"processing":return s.jsx(Ea,{className:"w-4 h-4"});case"shipped":return s.jsx(B2,{className:"w-4 h-4"});case"delivered":return s.jsx(Pa,{className:"w-4 h-4"});case"cancelled":return s.jsx(Mn,{className:"w-4 h-4"});case"refunded":return s.jsx(zs,{className:"w-4 h-4"});default:return s.jsx(zs,{className:"w-4 h-4"})}},ge=_=>new Date(_).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e?s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"mb-6 sm:mb-8",children:s.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Order Management"}),s.jsx("p",{className:"mt-1 text-xs sm:text-sm text-gray-500",children:"Track and manage customer orders, payments, and shipments"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:[s.jsx("div",{className:"relative inline-flex",children:s.jsxs("button",{onClick:()=>{be("all"),Pe("pdf")},disabled:ee||J.length===0,className:"inline-flex items-center px-3 sm:px-4 py-2 border border-gray-300 rounded-lg text-xs sm:text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors disabled:opacity-50",children:[s.jsx(Hl,{className:"w-4 h-4 mr-1 sm:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Export All"}),s.jsx("span",{className:"sm:hidden",children:"Export"})]})}),s.jsxs("button",{onClick:()=>{if(x.length===0){alert("Please select an order to export as Customer Copy");return}const _=J.find(le=>x.includes(le.id));_&&(be("customer-copy"),Ee([_]),ga(!0))},disabled:ee||x.length===0,className:"inline-flex items-center px-3 sm:px-4 py-2 border border-green-600 bg-green-50 text-green-700 rounded-lg text-xs sm:text-sm font-medium hover:bg-green-100 transition-colors disabled:opacity-50",children:[s.jsx(Hl,{className:"w-4 h-4 mr-1 sm:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Customer Copy"}),s.jsx("span",{className:"sm:hidden",children:"Copy"})]}),s.jsxs("button",{onClick:()=>re(),disabled:ee,className:"inline-flex items-center px-3 sm:px-4 py-2 border border-gray-300 rounded-lg text-xs sm:text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors disabled:opacity-50",children:[s.jsx(Gu,{className:`w-4 h-4 mr-1 sm:mr-2 ${ee?"animate-spin":""}`}),s.jsx("span",{className:"hidden sm:inline",children:ee?"Refreshing...":"Refresh"}),s.jsx("span",{className:"sm:hidden",children:ee?"...":"Refresh"})]}),s.jsxs("button",{className:"inline-flex items-center px-3 sm:px-4 py-2 bg-green-600 text-white rounded-lg text-xs sm:text-sm font-medium hover:bg-green-700 transition-colors",children:[s.jsx(Yf,{className:"w-4 h-4 mr-1 sm:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Analytics"}),s.jsx("span",{className:"sm:hidden",children:"Stats"})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Ea,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"})}),s.jsxs("div",{className:"ml-3 sm:ml-4 min-w-0 flex-1",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500 truncate",children:"Total Orders"}),s.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:(ne==null?void 0:ne.totalOrders)||J.length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Cc,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600"})}),s.jsxs("div",{className:"ml-3 sm:ml-4 min-w-0 flex-1",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500 truncate",children:"Total Revenue"}),s.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 truncate",children:ye(ne?ne.totalRevenue:J.reduce((_,le)=>_+le.total,0))})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-yellow-100 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Hu,{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-600"})}),s.jsxs("div",{className:"ml-3 sm:ml-4 min-w-0 flex-1",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500 truncate",children:"Pending Orders"}),s.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:(ne==null?void 0:ne.pendingOrders)||J.filter(_=>_.status==="pending").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Wf,{className:"w-5 h-5 sm:w-6 sm:h-6 text-purple-600"})}),s.jsxs("div",{className:"ml-3 sm:ml-4 min-w-0 flex-1",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500 truncate",children:"Average Order"}),s.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 truncate",children:ne?ye(ne.averageOrderValue):J.length>0?ye(J.reduce((_,le)=>_+le.total,0)/J.length):"0.00"})]})]})})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-4 sm:mb-6",children:s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"hidden lg:grid lg:grid-cols-12 lg:gap-4",children:[s.jsx("div",{className:"lg:col-span-3",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search orders, customers...",value:t,onChange:_=>a(_.target.value),className:"w-full pl-10 pr-10 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"}),t&&s.jsx("button",{onClick:()=>a(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s.jsx(ma,{className:"w-4 h-4"})})]})}),s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("select",{value:i,onChange:_=>l(_.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"confirmed",children:"Confirmed"}),s.jsx("option",{value:"processing",children:"Processing"}),s.jsx("option",{value:"shipped",children:"Shipped"}),s.jsx("option",{value:"delivered",children:"Delivered"}),s.jsx("option",{value:"cancelled",children:"Cancelled"}),s.jsx("option",{value:"refunded",children:"Refunded"})]})}),s.jsx("div",{className:"lg:col-span-3",children:s.jsxs("select",{value:o,onChange:_=>c(_.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[s.jsx("option",{value:"all",children:"All Payments"}),s.jsx("option",{value:"paid",children:"Paid"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"failed",children:"Failed"}),s.jsx("option",{value:"refunded",children:"Refunded"})]})}),s.jsx("div",{className:"lg:col-span-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("label",{className:"text-sm text-gray-600 whitespace-nowrap",children:"Date Range:"}),s.jsx("input",{type:"date",value:d,onChange:_=>{const le=_.target.value;le<=f&&m(le)},max:f,className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 cursor-pointer",style:{cursor:"pointer"}}),s.jsx("span",{className:"text-sm text-gray-500",children:"to"}),s.jsx("input",{type:"date",value:f,onChange:_=>{const le=_.target.value;le>=d&&p(le)},min:d,max:Wx(),className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 cursor-pointer",style:{cursor:"pointer"}})]})}),s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("label",{className:"text-sm text-gray-600 whitespace-nowrap",children:"Per page:"}),s.jsxs("select",{value:g,onChange:_=>{y(Number(_.target.value)),v(1)},className:"flex-1 px-2 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[s.jsx("option",{value:"10",children:"10"}),s.jsx("option",{value:"25",children:"25"}),s.jsx("option",{value:"50",children:"50"}),s.jsx("option",{value:"100",children:"100"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 lg:hidden",children:[s.jsx("div",{className:"col-span-full",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search orders, customers...",value:t,onChange:_=>a(_.target.value),className:"w-full pl-10 pr-10 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"}),t&&s.jsx("button",{onClick:()=>a(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s.jsx(ma,{className:"w-4 h-4"})})]})}),s.jsx("div",{children:s.jsxs("select",{value:i,onChange:_=>l(_.target.value),className:"w-full px-2 sm:px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"confirmed",children:"Confirmed"}),s.jsx("option",{value:"processing",children:"Processing"}),s.jsx("option",{value:"shipped",children:"Shipped"}),s.jsx("option",{value:"delivered",children:"Delivered"}),s.jsx("option",{value:"cancelled",children:"Cancelled"}),s.jsx("option",{value:"refunded",children:"Refunded"})]})}),s.jsx("div",{children:s.jsxs("select",{value:o,onChange:_=>c(_.target.value),className:"w-full px-2 sm:px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[s.jsx("option",{value:"all",children:"All Payments"}),s.jsx("option",{value:"paid",children:"Paid"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"failed",children:"Failed"}),s.jsx("option",{value:"refunded",children:"Refunded"})]})}),s.jsxs("div",{className:"col-span-full",children:[s.jsx("label",{className:"block text-xs sm:text-sm text-gray-600 mb-2",children:"Date Range"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"date",value:d,onChange:_=>{const le=_.target.value;le<=f&&m(le)},max:f,className:"flex-1 px-2 sm:px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 cursor-pointer",style:{cursor:"pointer"}}),s.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:"to"}),s.jsx("input",{type:"date",value:f,onChange:_=>{const le=_.target.value;le>=d&&p(le)},min:d,max:Wx(),className:"flex-1 px-2 sm:px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 cursor-pointer",style:{cursor:"pointer"}})]})]}),s.jsx("div",{children:s.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[s.jsx("label",{className:"text-xs sm:text-sm text-gray-600 whitespace-nowrap",children:"Per page:"}),s.jsxs("select",{value:g,onChange:_=>{y(Number(_.target.value)),v(1)},className:"flex-1 px-2 sm:px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[s.jsx("option",{value:"10",children:"10"}),s.jsx("option",{value:"25",children:"25"}),s.jsx("option",{value:"50",children:"50"}),s.jsx("option",{value:"100",children:"100"})]})]})})]}),t&&s.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-700",children:[s.jsx(I2,{className:"w-4 h-4 inline mr-2"}),"Showing ",s.jsx("strong",{children:W.length}),' order(s) matching "',s.jsx("strong",{children:t}),'"']})})]})}),x.length>0&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center",children:s.jsxs("span",{className:"text-sm font-medium text-blue-700",children:[x.length," order(s) selected"]})}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>k(!0),className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:"Update Status"}),s.jsx("button",{onClick:()=>N(!0),className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700 transition-colors",children:"Print Labels"}),s.jsx("button",{onClick:()=>R(!0),className:"px-3 py-1 bg-purple-600 text-white rounded text-sm hover:bg-purple-700 transition-colors",children:"Send Notification"})]})]})}),ee?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[s.jsx(_t,{size:"lg"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading orders..."})]}):s.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[s.jsx("div",{className:"block md:hidden space-y-4",children:ve.map(_=>s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-green-600 focus:ring-green-500",checked:x.includes(_.id),onChange:le=>{le.target.checked?h([...x,_.id]):h(x.filter(se=>se!==_.id))}}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:_.orderNumber}),s.jsx("div",{className:"text-sm text-gray-500",children:new Date(_.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>{I(_),oe(!0)},className:"p-3 text-green-600 hover:bg-green-50 rounded-md transition-colors",title:"View Details",children:s.jsx(Is,{className:"w-5 h-5"})}),s.jsx("button",{className:"p-3 text-blue-600 hover:bg-blue-50 rounded-md transition-colors",title:"Edit Order",children:s.jsx(wr,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:s.jsx(Yl,{className:"w-5 h-5 text-gray-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.customer.name}),s.jsx("div",{className:"text-sm text-gray-500 truncate",children:_.customer.email})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-3 border-t border-gray-100",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"Items"}),s.jsxs("div",{className:"text-sm font-medium text-gray-900 mt-1",children:[_.items.length," item(s)",s.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["(",_.items.reduce((le,se)=>le+se.quantity,0)," units)"]})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"Total"}),s.jsx("div",{className:"text-sm font-semibold text-gray-900 mt-1",children:ye(_.total)})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-3 border-t border-gray-100",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Order Status"}),s.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${ce(_.status)}`,children:[Z(_.status),s.jsx("span",{className:"ml-1",children:_.status})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Payment"}),s.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${B(_.paymentStatus)}`,children:_.paymentStatus}),s.jsx("div",{className:"text-sm text-gray-500 mt-1",children:_.paymentMethod})]})]}),_.trackingNumber&&s.jsxs("div",{className:"pt-3 border-t border-gray-100",children:[s.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"Tracking Number"}),s.jsx("div",{className:"text-sm text-gray-900 mt-1 font-mono",children:_.trackingNumber})]})]})]},_.id))}),s.jsx("div",{className:"hidden md:block overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"w-12 px-3 sm:px-4 py-2 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-green-600 focus:ring-green-500",onChange:_=>{_.target.checked?h(ve.map(le=>le.id)):h([])}})}),s.jsx("th",{className:"min-w-[140px] sm:min-w-[180px] px-3 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>T("orderNumber"),children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{children:"Order"}),s.jsx(G,{columnKey:"orderNumber"})]})}),s.jsx("th",{className:"min-w-[150px] sm:min-w-[200px] px-3 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>T("customer"),children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{className:"hidden sm:inline",children:"Customer"}),s.jsx("span",{className:"sm:hidden",children:"Cust"}),s.jsx(G,{columnKey:"customer"})]})}),s.jsx("th",{className:"min-w-[80px] sm:min-w-[120px] px-3 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>T("items"),children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{children:"Items"}),s.jsx(G,{columnKey:"items"})]})}),s.jsx("th",{className:"min-w-[80px] sm:min-w-[100px] px-3 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>T("total"),children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{children:"Total"}),s.jsx(G,{columnKey:"total"})]})}),s.jsx("th",{className:"min-w-[90px] sm:min-w-[120px] px-3 sm:px-6 py-2 sm:py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>T("status"),children:s.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[s.jsx("span",{className:"hidden sm:inline",children:"Status"}),s.jsx("span",{className:"sm:hidden",children:"St"}),s.jsx(G,{columnKey:"status"})]})}),s.jsx("th",{className:"min-w-[100px] sm:min-w-[130px] px-3 sm:px-6 py-2 sm:py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>T("paymentStatus"),children:s.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[s.jsx("span",{className:"hidden sm:inline",children:"Payment"}),s.jsx("span",{className:"sm:hidden",children:"Pay"}),s.jsx(G,{columnKey:"paymentStatus"})]})}),s.jsx("th",{className:"min-w-[100px] sm:min-w-[150px] px-3 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>T("createdAt"),children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{children:"Date"}),s.jsx(G,{columnKey:"createdAt"})]})}),s.jsxs("th",{className:"w-20 sm:w-24 px-2 sm:px-4 py-2 sm:py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:[s.jsx("span",{className:"hidden sm:inline",children:"Actions"}),s.jsx("span",{className:"sm:hidden",children:"Act"})]})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ve.map(_=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:s.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-green-600 focus:ring-green-500",checked:x.includes(_.id),onChange:le=>{le.target.checked?h([...x,_.id]):h(x.filter(se=>se!==_.id))}})}),s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-900",children:_.orderNumber}),_.trackingNumber&&s.jsxs("div",{className:"text-xs text-gray-500 hidden sm:block",children:["Track: ",_.trackingNumber]})]})}),s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap border-r border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-8 w-8 sm:h-10 sm:w-10",children:s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full bg-gray-300 flex items-center justify-center",children:s.jsx(Yl,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600"})})}),s.jsxs("div",{className:"ml-2 sm:ml-4 min-w-0",children:[s.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-900 truncate",children:_.customer.name}),s.jsx("div",{className:"text-xs sm:text-sm text-gray-500 truncate hidden sm:block",children:_.customer.email})]})]})}),s.jsxs("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-gray-900 border-r border-gray-200",children:[s.jsxs("div",{className:"text-xs sm:text-sm text-gray-900",children:[_.items.length," item(s)"]}),s.jsxs("div",{className:"text-xs text-gray-500 sm:hidden",children:[_.items.reduce((le,se)=>le+se.quantity,0)," units"]})]}),s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap border-r border-gray-200",children:s.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-900",children:ye(_.total)})}),s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-center border-r border-gray-200",children:s.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 sm:px-2.5 sm:py-0.5 rounded-full text-xs font-medium ${ce(_.status)}`,children:[Z(_.status),s.jsx("span",{className:"ml-1 hidden sm:inline",children:_.status}),s.jsx("span",{className:"ml-1 sm:hidden",children:_.status.substring(0,4)})]})}),s.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap border-r border-gray-200",children:s.jsxs("div",{children:[s.jsx("span",{className:`inline-flex items-center px-2 py-0.5 sm:px-2.5 sm:py-0.5 rounded-full text-xs font-medium ${B(_.paymentStatus)}`,children:_.paymentStatus}),s.jsx("div",{className:"text-xs text-gray-500 mt-1 hidden sm:block",children:_.paymentMethod})]})}),s.jsxs("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-gray-900",children:[s.jsx("div",{className:"hidden sm:block",children:ge(_.createdAt)}),s.jsx("div",{className:"text-xs sm:hidden",children:new Date(_.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),s.jsxs("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-right",children:[s.jsx("button",{onClick:()=>{I(_),oe(!0)},className:"text-green-600 hover:text-green-900 mr-3",title:"View Details",children:s.jsx(Is,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-blue-600 hover:text-blue-900",title:"Edit Order",children:s.jsx(wr,{className:"w-4 h-4"})})]})]},_.id))})]})}),te>1&&s.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>v(Math.max(1,w-1)),disabled:w===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),s.jsx("button",{onClick:()=>v(Math.min(te,w+1)),disabled:w===te,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Next"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",s.jsx("span",{className:"font-medium",children:(w-1)*g+1})," to"," ",s.jsx("span",{className:"font-medium",children:Math.min(w*g,W.length)})," ","of ",s.jsx("span",{className:"font-medium",children:W.length})," results"]})}),s.jsx("div",{children:s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[s.jsx("button",{onClick:()=>v(Math.max(1,w-1)),disabled:w===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),Array.from({length:te},(_,le)=>le+1).map(_=>s.jsx("button",{onClick:()=>v(_),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${_===w?"z-10 bg-green-50 border-green-500 text-green-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:_},_)),s.jsx("button",{onClick:()=>v(Math.min(te,w+1)),disabled:w===te,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})})]})]})]}),s.jsx(EN,{isOpen:E,onClose:()=>k(!1),onSubmit:xe,loading:D,selectedCount:x.length}),s.jsx(kN,{isOpen:S,onClose:()=>N(!1),onConfirm:At,loading:D,selectedCount:x.length}),s.jsx(AN,{isOpen:M,onClose:()=>R(!1),onSubmit:Lt,loading:D,selectedCount:x.length}),s.jsx(TN,{isOpen:A,onClose:()=>z(!1),onExport:Pe,loading:D,totalOrders:J.length}),ls&&s.jsx("div",{className:"modal-wrapper fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 no-print",children:s.jsxs("div",{className:"modal-content bg-white rounded-lg shadow-xl max-w-7xl w-full max-h-[95vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"no-print flex items-center justify-between p-6 border-b bg-gradient-to-r from-green-50 to-blue-50",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Orders Export Preview"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[L.length," orders ready for export  ",new Date().toLocaleDateString()]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:U,className:"px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 transition-colors flex items-center",children:[s.jsx(Hl,{className:"w-4 h-4 mr-2"}),"Print as PDF"]}),s.jsx("button",{onClick:()=>ga(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(ma,{className:"w-6 h-6"})})]})]}),s.jsx("style",{children:`
                @media print {
                  @page {
                    size: landscape;
                    margin: 0.5in;
                  }
                  
                  /* Hide the modal overlay */
                  .modal-wrapper {
                    position: fixed !important;
                    top: 0 !important;
                    left: 0 !important;
                    width: 100% !important;
                    height: 100% !important;
                    background: white !important;
                    padding: 0 !important;
                    margin: 0 !important;
                    z-index: 9999 !important;
                  }
                  
                  /* Hide non-print elements */
                  .no-print {
                    display: none !important;
                  }
                  
                  /* Make modal content visible */
                  .modal-content {
                    width: 100% !important;
                    max-width: 100% !important;
                    max-height: 100% !important;
                    border-radius: 0 !important;
                    box-shadow: none !important;
                    margin: 0 !important;
                    padding: 0 !important;
                    overflow: visible !important;
                  }
                  
                  /* Ensure export preview is visible */
                  .export-preview {
                    display: block !important;
                    visibility: visible !important;
                    position: relative !important;
                    width: 100% !important;
                    background: white !important;
                    padding: 0.5in !important;
                    margin: 0 !important;
                  }
                  
                  /* Ensure all text is black for print */
                  .export-preview * {
                    color: #000 !important;
                  }
                  
                  /* Prevent page breaks inside cards */
                  .order-card,
                  .customer-copy-card {
                    page-break-inside: avoid;
                    break-inside: avoid;
                  }
                  
                  /* Font sizes */
                  .export-preview {
                    font-size: 9pt;
                  }
                  
                  /* Images */
                  .export-preview img {
                    display: inline-block !important;
                    max-width: 50px;
                    max-height: 50px;
                  }
                  
                  /* Tables */
                  .export-preview table {
                    border-collapse: collapse;
                  }
                  
                  .export-preview .border {
                    border-color: #000 !important;
                  }
                }
              `}),s.jsxs("div",{className:`overflow-y-auto bg-white export-preview ${$==="customer-copy"?"p-4":"p-8"}`,children:[(L.length>0,null),L.length===0?s.jsx("div",{className:"p-8 text-center",children:s.jsx("p",{className:"text-gray-500",children:"No orders to export"})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`${$==="customer-copy"?"mb-4 print:mb-2":"mb-6 print:mb-4"}`,children:$==="customer-copy"?s.jsxs(s.Fragment,{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1 print:text-lg print:mb-0.5",children:"Order Receipt"}),s.jsx("p",{className:"text-gray-600 print:text-[9pt]",children:"Thank you for your order!"})]}):s.jsxs(s.Fragment,{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2 print:text-xl print:mb-1",children:"Orders Export Report"}),s.jsxs("p",{className:"text-gray-600 print:text-xs",children:["Generated on ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})," by ",e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]})]})}),s.jsx("div",{className:`${$==="customer-copy"?"space-y-0":"space-y-6"}`,children:L.filter((_,le,se)=>le===se.findIndex(De=>De.id===_.id)).map(_=>s.jsxs("div",{className:`${$==="customer-copy"?"customer-copy-card":"order-card"} border border-gray-300 rounded-lg print:border-gray-400 ${$==="customer-copy"?"print:mb-2":"print:mb-4"}`,children:[s.jsx("div",{className:`${$==="customer-copy"?"bg-green-600 text-white print:bg-gray-800 print:p-1.5":"bg-gradient-to-r from-green-600 to-blue-600 text-white p-4 print:bg-gray-700 print:p-2"}`,children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:`font-bold ${$==="customer-copy"?"text-base print:text-sm":"text-lg print:text-base"}`,children:_.orderNumber}),s.jsxs("p",{className:`${$==="customer-copy"?"text-xs print:text-[8pt]":"text-sm opacity-90 print:text-xs"}`,children:["Order Date: ",new Date(_.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),$!=="customer-copy"&&s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${ce(_.status)} print:px-2 print:py-0.5 print:text-xs`,children:[Z(_.status),s.jsx("span",{className:"ml-2",children:_.status})]})})]})}),s.jsxs("div",{className:`${$==="customer-copy"?"p-2 print:p-1":"p-4 print:p-2"} border-b border-gray-200`,children:[s.jsx("h4",{className:`font-semibold ${$==="customer-copy"?"text-xs mb-1 print:text-[8pt] print:mb-0.5":"text-sm mb-2 print:text-xs"}`,children:"Customer Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 print:grid-cols-2 print:gap-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600 print:text-[8pt]",children:"Name"}),s.jsx("p",{className:"font-medium text-sm print:text-xs",children:_.customer.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600 print:text-[8pt]",children:"Phone"}),s.jsx("p",{className:"font-medium text-sm print:text-xs",children:_.customer.phone})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("p",{className:"text-xs text-gray-600 print:text-[8pt]",children:"Email"}),s.jsx("p",{className:"font-medium text-sm print:text-xs",children:_.customer.email})]})]})]}),s.jsxs("div",{className:`${$==="customer-copy"?"p-2 print:p-1":"p-4 print:p-2"} border-b border-gray-200 bg-gray-50 print:bg-white`,children:[s.jsx("h4",{className:"font-semibold text-sm mb-2 print:text-xs",children:"Shipping Address"}),s.jsxs("p",{className:"text-xs text-gray-700 print:text-[8pt]",children:[_.shippingAddress.street,", ",_.shippingAddress.city,", ",_.shippingAddress.state," ",_.shippingAddress.zipCode]}),s.jsx("p",{className:"text-xs text-gray-700 print:text-[8pt]",children:_.shippingAddress.country})]}),s.jsxs("div",{className:`${$==="customer-copy"?"p-2 print:p-1":"p-4 print:p-2"} border-b border-gray-200`,children:[s.jsxs("h4",{className:`font-semibold ${$==="customer-copy"?"text-xs mb-1 print:text-[8pt] print:mb-0.5":"text-sm mb-3 print:text-xs"}`,children:["Order Items (",_.items.length,")"]}),s.jsx("div",{className:`${$==="customer-copy"?"space-y-1 print:space-y-0.5":"space-y-3 print:space-y-2"}`,children:_.items.map((le,se)=>s.jsxs("div",{className:`flex items-center border border-gray-200 rounded print:border-gray-300 ${$==="customer-copy"?"space-x-2 p-2 print:p-1":"space-x-4 p-3 print:p-2"}`,children:[le.productImage&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx("img",{src:le.productImage,alt:le.productName,className:`object-cover rounded border border-gray-300 ${$==="customer-copy"?"w-10 h-10 print:w-8 print:h-8":"w-16 h-16 print:w-12 print:h-12"}`,onError:De=>{De.target.src="/api/placeholder/64/64"}})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-sm text-gray-900 print:text-xs",children:le.productName}),s.jsxs("p",{className:"text-xs text-gray-500 print:text-[8pt]",children:["SKU: ",le.sku]})]}),s.jsxs("div",{className:"text-right ml-4",children:[s.jsxs("p",{className:"text-xs text-gray-600 print:text-[8pt]",children:["Qty: ",le.quantity]}),s.jsx("p",{className:"font-bold text-green-600 print:text-xs",children:ye(le.total)}),s.jsxs("p",{className:"text-xs text-gray-500 print:text-[8pt]",children:["@ ",ye(le.price)]})]})]})})]},le.id))})]}),s.jsx("div",{className:`${$==="customer-copy"?"p-2 print:p-1":"p-4 print:p-2"} bg-gray-50 print:bg-white`,children:s.jsx("div",{className:"flex justify-end",children:s.jsxs("div",{className:"w-64 space-y-2 print:w-48 print:space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-sm print:text-xs",children:[s.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),s.jsx("span",{className:"font-medium",children:ye(_.subtotal)})]}),s.jsxs("div",{className:"flex justify-between text-sm print:text-xs",children:[s.jsx("span",{className:"text-gray-600",children:"Shipping:"}),s.jsx("span",{className:"font-medium",children:ye(_.shipping)})]}),s.jsxs("div",{className:"flex justify-between text-sm print:text-xs",children:[s.jsx("span",{className:"text-gray-600",children:"Tax:"}),s.jsx("span",{className:"font-medium",children:ye(_.tax)})]}),_.discount&&_.discount>0&&s.jsxs("div",{className:"flex justify-between text-sm print:text-xs",children:[s.jsx("span",{className:"text-gray-600",children:"Discount:"}),s.jsxs("span",{className:"font-medium text-red-600",children:["-",ye(_.discount)]})]}),s.jsx("div",{className:"border-t border-gray-300 pt-2 print:border-gray-400",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-bold text-lg print:text-base",children:"Total:"}),s.jsx("span",{className:"font-bold text-lg text-green-600 print:text-base",children:ye(_.total)})]})})]})})}),$!=="customer-copy"&&s.jsxs("div",{className:"p-4 print:p-2 border-t border-gray-200",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 print:gap-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600 print:text-[8pt]",children:"Payment Status"}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium print:px-1 print:py-0.5 print:text-[8pt] ${B(_.paymentStatus)}`,children:_.paymentStatus})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600 print:text-[8pt]",children:"Payment Method"}),s.jsx("p",{className:"font-medium text-sm print:text-xs",children:_.paymentMethod})]})]}),_.estimatedDelivery&&s.jsxs("div",{className:"mt-3 print:mt-2",children:[s.jsx("p",{className:"text-xs text-gray-600 print:text-[8pt]",children:"Estimated Delivery"}),s.jsx("p",{className:"font-medium text-sm print:text-xs",children:new Date(_.estimatedDelivery).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]}),_.notes&&s.jsxs("div",{className:"mt-3 print:mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded print:bg-yellow-100 print:p-1",children:[s.jsx("p",{className:"text-xs font-semibold text-gray-700 print:text-[8pt]",children:"Notes:"}),s.jsx("p",{className:"text-xs text-gray-600 print:text-[8pt]",children:_.notes})]})]}),$==="customer-copy"&&_.estimatedDelivery&&s.jsxs("div",{className:"p-2 print:p-1 border-t border-gray-200 bg-blue-50 print:bg-blue-100",children:[s.jsx("p",{className:"text-xs text-gray-600 print:text-[8pt] mb-1",children:"Estimated Delivery"}),s.jsx("p",{className:"font-medium text-sm print:text-xs",children:new Date(_.estimatedDelivery).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]})]},`export-order-${_.id}`))}),$!=="customer-copy"&&(()=>{const _=L.filter((le,se,De)=>se===De.findIndex(Be=>Be.id===le.id));return s.jsx("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg print:mt-4 print:p-2 print:bg-green-100",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-semibold text-gray-700 print:text-xs",children:["Total Orders: ",_.length]}),s.jsxs("p",{className:"text-xs text-gray-600 print:text-[8pt]",children:["Total Items: ",_.reduce((le,se)=>le+se.items.reduce((De,Be)=>De+Be.quantity,0),0)]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700 print:text-xs",children:"Total Revenue"}),s.jsx("p",{className:"text-2xl font-bold text-green-600 print:text-lg",children:ye(_.reduce((le,se)=>le+se.total,0))})]})]})})})(),$!=="customer-copy"&&s.jsx("div",{className:"mt-6 text-center text-sm text-gray-500 print:mt-2 print:text-[8pt]",children:s.jsxs("p",{children:["Generated by ",e==null?void 0:e.firstName," ",e==null?void 0:e.lastName," on ",new Date().toLocaleString()]})}),$==="customer-copy"&&s.jsxs("div",{className:"mt-6 text-center text-sm text-gray-500 print:mt-2 print:text-[8pt]",children:[s.jsx("p",{className:"italic",children:"This is your order receipt. Please save this for your records."}),s.jsx("p",{className:"mt-2",children:"If you have any questions, please contact our customer service."})]})]})]})]})}),H&&Q&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-gray-50",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Order Details"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:Q.orderNumber})]}),s.jsx("button",{onClick:()=>oe(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(ma,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"overflow-y-auto p-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Order Status"}),s.jsx("div",{className:"mt-2",children:s.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${ce(Q.status)}`,children:[Z(Q.status),s.jsx("span",{className:"ml-2",children:Q.status})]})})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Payment Status"}),s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${B(Q.paymentStatus)}`,children:Q.paymentStatus})})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(Yl,{className:"w-5 h-5 mr-2"}),"Customer Information"]}),s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Name"}),s.jsx("p",{className:"font-medium",children:Q.customer.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),s.jsx("p",{className:"font-medium",children:Q.customer.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Phone"}),s.jsx("p",{className:"font-medium",children:Q.customer.phone})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Payment Method"}),s.jsx("p",{className:"font-medium",children:Q.paymentMethod})]})]})})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(Ea,{className:"w-5 h-5 mr-2"}),"Order Items (",Q.items.length,")"]}),s.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:Q.items.map(_=>s.jsx("div",{className:"border-b border-gray-200 last:border-b-0 p-4 hover:bg-gray-50",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[_.productImage&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx("img",{src:_.productImage,alt:_.productName,className:"w-16 h-16 object-cover rounded-lg border border-gray-200",onError:le=>{le.target.src="/api/placeholder/64/64"}})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:_.productName}),s.jsxs("p",{className:"text-sm text-gray-500",children:["SKU: ",_.sku]})]}),s.jsxs("div",{className:"text-right ml-4",children:[s.jsxs("p",{className:"font-medium text-gray-900",children:[ye(_.price),"  ",_.quantity]}),s.jsx("p",{className:"text-lg font-semibold text-green-600",children:ye(_.total)})]})]})})]})},_.id))})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(B2,{className:"w-5 h-5 mr-2"}),"Shipping Information"]}),s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Shipping Address"}),s.jsxs("p",{className:"font-medium",children:[Q.shippingAddress.street,", ",Q.shippingAddress.city,",",Q.shippingAddress.state," ",Q.shippingAddress.zipCode]}),s.jsx("p",{className:"text-gray-500",children:Q.shippingAddress.country})]}),Q.estimatedDelivery&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Estimated Delivery"}),s.jsx("p",{className:"font-medium",children:new Date(Q.estimatedDelivery).toLocaleDateString()})]}),Q.trackingNumber&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Tracking Number"}),s.jsx("p",{className:"font-medium",children:Q.trackingNumber})]})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Order Summary"}),s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Subtotal"}),s.jsx("span",{className:"font-medium",children:ye(Q.subtotal)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Shipping"}),s.jsx("span",{className:"font-medium",children:ye(Q.shipping)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Tax"}),s.jsx("span",{className:"font-medium",children:ye(Q.tax)})]}),Q.discount&&Q.discount>0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Discount"}),s.jsxs("span",{className:"font-medium text-red-600",children:["-",ye(Q.discount)]})]}),s.jsx("div",{className:"border-t border-gray-300 pt-2 mt-2",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-semibold text-lg",children:"Total"}),s.jsx("span",{className:"font-bold text-lg text-green-600",children:ye(Q.total)})]})})]})})]}),Q.notes&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Notes"}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 p-4 rounded-lg",children:s.jsx("p",{className:"text-sm text-gray-700",children:Q.notes})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Order Timeline"}),s.jsxs("div",{className:"border-l-2 border-gray-300 pl-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center",children:s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full -ml-7"})}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Order Placed"}),s.jsx("p",{className:"text-xs text-gray-500",children:ge(Q.createdAt)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center",children:s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full -ml-7"})}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Last Updated"}),s.jsx("p",{className:"text-xs text-gray-500",children:ge(Q.updatedAt)})]})]})]})]})}),s.jsx("div",{className:"border-t p-6 bg-gray-50",children:s.jsx("div",{className:"flex justify-end space-x-3",children:s.jsx("button",{onClick:()=>oe(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"})})})]})})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(_t,{size:"lg"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})},I8=()=>{const{user:e}=Ze(),{showToast:t}=qa(),a=ta(),n=Qt(),r=dt(e==null?void 0:e.tenantId),[i,l]=u.useState(!1),[o,c]=u.useState(!1),[d,m]=u.useState(!1),[f,p]=u.useState(null),[x,h]=u.useState(null),[w,v]=u.useState(!1),[g,y]=u.useState(null),[b,j]=u.useState({code:"",type:"percentage",value:0,minAmount:void 0,maxDiscount:void 0,description:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],usageLimit:void 0,usageLimitPerUser:void 0,active:!0}),[E,k]=u.useState(!1);u.useEffect(()=>{a.pathname==="/admin/coupons"&&r&&k(!0)},[a.pathname,r]);const{data:S,isLoading:N,isError:M,error:R}=bt({queryKey:["coupons",r],queryFn:async()=>{var W;const C=await fe.getCoupons(r);return((W=C.data)==null?void 0:W.data)||C.data||[]},enabled:E&&!!r,staleTime:3e4}),A=vt({mutationFn:async C=>{var T;const W=await fe.createCoupon(C);return((T=W.data)==null?void 0:T.data)||W.data},retry:!1,onSuccess:()=>{n.invalidateQueries({queryKey:["coupons"]}),t("Coupon created successfully","success"),l(!1),I()},onError:C=>{var T,G,te;const W=((G=(T=C==null?void 0:C.response)==null?void 0:T.data)==null?void 0:G.exception)||((te=C==null?void 0:C.data)==null?void 0:te.exception)||(C==null?void 0:C.message)||"Failed to create coupon";t(W,"error")}}),z=vt({mutationFn:async C=>{var T;const W=await fe.updateCoupon(C.couponId,C);return((T=W.data)==null?void 0:T.data)||W.data},retry:!1,onSuccess:()=>{n.invalidateQueries({queryKey:["coupons"]}),t("Coupon updated successfully","success"),c(!1),p(null),I()},onError:C=>{var T,G,te;const W=((G=(T=C==null?void 0:C.response)==null?void 0:T.data)==null?void 0:G.exception)||((te=C==null?void 0:C.data)==null?void 0:te.exception)||(C==null?void 0:C.message)||"Failed to update coupon";t(W,"error")}}),H=vt({mutationFn:async C=>(await fe.deleteCoupon(C,r)).data,onSuccess:()=>{n.invalidateQueries({queryKey:["coupons"]}),t("Coupon deleted successfully","success"),v(!1),y(null)},onError:C=>{var T,G,te;const W=((G=(T=C==null?void 0:C.response)==null?void 0:T.data)==null?void 0:G.exception)||((te=C==null?void 0:C.data)==null?void 0:te.exception)||(C==null?void 0:C.message)||"Failed to delete coupon";t(W,"error")}}),{data:oe,isLoading:Q}=bt({queryKey:["couponUsage",x==null?void 0:x.couponId],queryFn:async()=>{var W;const C=await fe.getCouponUsage(x.couponId,r);return((W=C.data)==null?void 0:W.data)||C.data},enabled:!!x&&d}),I=()=>{j({code:"",type:"percentage",value:0,minAmount:void 0,maxDiscount:void 0,description:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],usageLimit:void 0,usageLimitPerUser:void 0,active:!0})},D=C=>{if(C==null||C.preventDefault(),!A.isPending){if(!b.code||b.value<=0){t("Please fill in all required fields","error");return}if(b.type==="percentage"&&!b.maxDiscount){t("Max discount is required for percentage coupons","error");return}A.mutate({...b,tenantId:r,startDate:new Date(b.startDate).toISOString(),endDate:new Date(b.endDate).toISOString()})}},q=C=>{p(C),j({code:C.code,type:C.type,value:C.value,minAmount:C.minAmount,maxDiscount:C.maxDiscount,description:C.description||"",startDate:new Date(C.startDate).toISOString().split("T")[0],endDate:new Date(C.endDate).toISOString().split("T")[0],usageLimit:C.usageLimit,usageLimitPerUser:C.usageLimitPerUser,active:C.active}),c(!0)},K=C=>{C==null||C.preventDefault(),!(z.isPending||!f)&&z.mutate({couponId:f.couponId,...b,tenantId:r,startDate:b.startDate?new Date(b.startDate).toISOString():void 0,endDate:b.endDate?new Date(b.endDate).toISOString():void 0})},ae=C=>{y(C),v(!0)},ee=()=>{g&&H.mutate(g)},re=C=>{h(C),m(!0)},P=C=>new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),J=C=>{const W=C.status||"active";return W==="expired"?s.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800",children:"Expired"}):W==="upcoming"?s.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Upcoming"}):C.active?s.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Active"}):s.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800",children:"Inactive"})},ne=Array.isArray(S)?S:[];return E?s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(P2,{className:"w-6 h-6"}),"Coupon Management"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage discount codes and promotions"})]}),s.jsxs("button",{onClick:()=>{I(),l(!0)},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(bi,{className:"w-5 h-5"}),"Create Coupon"]})]})}),N?s.jsx(_t,{}):M?s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-red-800",children:["Error loading coupons: ",R==null?void 0:R.message]})}):ne.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[s.jsx(P2,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No coupons found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Get started by creating your first coupon"}),s.jsx("button",{onClick:()=>{I(),l(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Create Coupon"})]}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Code"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Validity"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usage"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ne.map(C=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.code}),C.description&&s.jsx("div",{className:"text-xs text-gray-500",children:C.description})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded ${C.type==="percentage"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:C.type==="percentage"?"Percentage":"Fixed"})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:C.type==="percentage"?`${C.value}%`:`${C.value.toFixed(2)}`}),C.minAmount&&s.jsxs("div",{className:"text-xs text-gray-500",children:["Min: ",C.minAmount.toFixed(2)]}),C.maxDiscount&&s.jsxs("div",{className:"text-xs text-gray-500",children:["Max: ",C.maxDiscount.toFixed(2)]})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:P(C.startDate)}),s.jsxs("div",{className:"text-xs text-gray-500",children:["to ",P(C.endDate)]})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"text-sm text-gray-900",children:[C.usageCount," / ",C.usageLimit||""]}),C.usageLimitPerUser&&s.jsxs("div",{className:"text-xs text-gray-500",children:[C.usageLimitPerUser," per user"]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:J(C)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>re(C),className:"text-blue-600 hover:text-blue-900 p-1",title:"View Usage",children:s.jsx(Is,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>q(C),className:"text-green-600 hover:text-green-900 p-1",title:"Edit",children:s.jsx(wr,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>ae(C.couponId),className:"text-red-600 hover:text-red-900 p-1",title:"Delete",children:s.jsx(Nr,{className:"w-4 h-4"})})]})})]},C.couponId))})]})})})}),(i||o)&&s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[s.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>{l(!1),c(!1),I()}}),s.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:i?"Create Coupon":"Edit Coupon"}),s.jsxs("form",{onSubmit:C=>{C.preventDefault(),i?D(C):K(C)},className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Code ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:b.code,onChange:C=>j({...b,code:C.target.value.toUpperCase()}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"SAVE10"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:b.type,onChange:C=>j({...b,type:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[s.jsx("option",{value:"percentage",children:"Percentage"}),s.jsx("option",{value:"fixed",children:"Fixed Amount"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Value ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",value:b.value,onChange:C=>j({...b,value:parseFloat(C.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0",step:"0.01"})]}),b.type==="percentage"&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Max Discount ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",value:b.maxDiscount||"",onChange:C=>j({...b,maxDiscount:parseFloat(C.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0",step:"0.01"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Amount"}),s.jsx("input",{type:"number",value:b.minAmount||"",onChange:C=>j({...b,minAmount:parseFloat(C.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0",step:"0.01",placeholder:"Optional"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{value:b.description,onChange:C=>j({...b,description:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:3,placeholder:"Optional description"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Start Date ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:b.startDate,onChange:C=>j({...b,startDate:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["End Date ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:b.endDate,onChange:C=>j({...b,endDate:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usage Limit"}),s.jsx("input",{type:"number",value:b.usageLimit||"",onChange:C=>j({...b,usageLimit:parseInt(C.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"1",placeholder:"Optional"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Per User Limit"}),s.jsx("input",{type:"number",value:b.usageLimitPerUser||"",onChange:C=>j({...b,usageLimitPerUser:parseInt(C.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"1",placeholder:"Optional"})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"active",checked:b.active,onChange:C=>j({...b,active:C.target.checked}),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"active",className:"ml-2 block text-sm text-gray-900",children:"Active"})]}),s.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[s.jsx("button",{type:"button",onClick:()=>{l(!1),c(!1),I()},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:A.isPending||z.isPending,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:A.isPending||z.isPending?"Saving...":i?"Create":"Update"})]})]})]})]})}),w&&s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[s.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>{v(!1),y(null)}}),s.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Delete Coupon"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this coupon? This action cannot be undone."}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{onClick:()=>{v(!1),y(null)},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{onClick:ee,disabled:H.isPending,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",children:H.isPending?"Deleting...":"Delete"})]})]})]})}),d&&x&&s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[s.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>{m(!1),h(null)}}),s.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-4xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[s.jsxs("h3",{className:"text-xl font-bold mb-4",children:["Usage Statistics: ",x.code]}),Q?s.jsx(_t,{}):oe?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-900",children:oe.statistics.totalUsage}),s.jsx("div",{className:"text-sm text-blue-600",children:"Total Usage"})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-900",children:["",oe.statistics.totalDiscountGiven.toFixed(2)]}),s.jsx("div",{className:"text-sm text-green-600",children:"Total Discount Given"})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-900",children:["",oe.statistics.totalOrderAmount.toFixed(2)]}),s.jsx("div",{className:"text-sm text-purple-600",children:"Total Order Amount"})]})]}),oe.usages.length>0?s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Usage History"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Order"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Order Amount"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Discount"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:oe.usages.map(C=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-3 text-sm",children:C.orderNumber||`#${C.orderId}`}),s.jsx("td",{className:"px-4 py-3 text-sm",children:C.userName||C.userEmail||"Guest"}),s.jsxs("td",{className:"px-4 py-3 text-sm",children:["",C.orderAmount.toFixed(2)]}),s.jsxs("td",{className:"px-4 py-3 text-sm font-semibold text-green-600",children:["",C.discountAmount.toFixed(2)]}),s.jsx("td",{className:"px-4 py-3 text-sm",children:P(C.usedAt)})]},C.usageId))})]})})]}):s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No usage history yet"})]}):null,s.jsx("div",{className:"mt-6 flex justify-end",children:s.jsx("button",{onClick:()=>{m(!1),h(null)},className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"Close"})})]})]})})]})}):null},z8=()=>{const{user:e}=Ze(),t=ta(),a=dt(e==null?void 0:e.tenantId),[n,r]=u.useState(1),[i]=u.useState(50),[l,o]=u.useState(""),[c,d]=u.useState(!0),[m,f]=u.useState(null),[p,x]=u.useState(!1),[h,w]=u.useState(!1);u.useEffect(()=>{t.pathname==="/admin/addresses"&&a&&w(!0)},[t.pathname,a]);const{data:v,isLoading:g,isError:y,error:b}=bt({queryKey:["admin-addresses",a,n,l,c],queryFn:async()=>(await fe.adminGetAllAddresses(a,l?parseInt(l):void 0,c,n,i)).data,enabled:h&&!!a,staleTime:3e4}),j=(v==null?void 0:v.addresses)||[],E=(v==null?void 0:v.totalCount)||0,k=(v==null?void 0:v.totalPages)||0,S=M=>{f(M),x(!0)},N=()=>{r(1)};return h?s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(Ec,{className:"w-8 h-8 text-green-600"}),"Customer Address Management"]}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Manage and view all customer addresses"})]})})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search by User ID"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"number",value:l,onChange:M=>o(M.target.value),placeholder:"Enter User ID",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"}),s.jsxs("button",{onClick:N,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[s.jsx(Ws,{className:"w-4 h-4"}),"Search"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsxs("select",{value:c?"active":"all",onChange:M=>d(M.target.value==="active"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[s.jsx("option",{value:"active",children:"Active Only"}),s.jsx("option",{value:"all",children:"All Addresses"})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:()=>{o(""),r(1)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Clear Filters"})})]})}),g&&s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx(_t,{})}),y&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 mb-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Mn,{className:"w-5 h-5 text-red-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-red-800 font-semibold",children:"Error Loading Addresses"}),s.jsx("p",{className:"text-red-600 text-sm mt-1",children:b instanceof Error?b.message:"Failed to load addresses"})]})]})}),!g&&!y&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["All Addresses (",E,")"]})})}),j.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ec,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 text-lg",children:"No addresses found"}),l&&s.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Try adjusting your search filters"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Address Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Address"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"City, State"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Postal Code"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(M=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:M.userName||`User #${M.userId}`}),s.jsx("div",{className:"text-sm text-gray-500",children:M.userEmail}),s.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",M.userId]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:M.addressType}),M.isDefault&&s.jsx("span",{className:"ml-2 px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"Default"})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:M.street})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"text-sm text-gray-900",children:[M.city,", ",M.state]}),s.jsx("div",{className:"text-xs text-gray-500",children:M.country})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:M.postalCode}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:M.active?s.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800 flex items-center gap-1 w-fit",children:[s.jsx(Pa,{className:"w-3 h-3"}),"Active"]}):s.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800 flex items-center gap-1 w-fit",children:[s.jsx(Mn,{className:"w-3 h-3"}),"Inactive"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("button",{onClick:()=>S(M),className:"text-green-600 hover:text-green-900 flex items-center gap-1",children:[s.jsx(Is,{className:"w-4 h-4"}),"View"]})})]},M.addressId))})]})})]}),k>1&&s.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-700",children:["Showing page ",n," of ",k," (",E," total addresses)"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>r(M=>Math.max(1,M-1)),disabled:n===1,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),s.jsx("button",{onClick:()=>r(M=>Math.min(k,M+1)),disabled:n===k,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]}),p&&m&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Address Details"}),s.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),s.jsx("div",{className:"p-6 space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"User Name"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:m.userName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"User Email"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:m.userEmail})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"User ID"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:m.userId})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address Type"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:m.addressType})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Street Address"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:m.street})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:m.city})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"State"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:m.state})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Postal Code"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:m.postalCode})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Country"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:m.country})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Is Default"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:m.isDefault?"Yes":"No"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:m.active?"Active":"Inactive"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Created At"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(m.createdAt).toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Updated At"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(m.updatedAt).toLocaleString()})]})]})}),s.jsx("div",{className:"p-6 border-t border-gray-200 flex justify-end",children:s.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})})]})})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"Loading..."})})})})},$8=()=>{const{user:e}=Ze(),{showSuccess:t,showError:a}=qa(),n=Qt(),[r,i]=u.useState(!1),[l,o]=u.useState(!1),[c,d]=u.useState(!1),[m,f]=u.useState(null),[p,x]=u.useState(null),[h,w]=u.useState({addressType:"Home",street:"",city:"",state:"",postalCode:"",country:"IN",isDefault:!1}),{data:v,isLoading:g,isError:y,error:b}=bt({queryKey:["user-addresses",e==null?void 0:e.userId],queryFn:async()=>{if(!(e!=null&&e.userId))throw new Error("User ID is required");try{const D=await fe.getMyAddresses(e.userId,!0),q=D.data;return(q==null?void 0:q.data)||D.data||[]}catch(D){throw D}},enabled:!!(e!=null&&e.userId),staleTime:0,retry:1}),j=v||[],E=vt({mutationFn:async D=>{if(!(e!=null&&e.userId))throw new Error("User ID is required");return await fe.createAddress(e.userId,{addressType:D.addressType||"Home",street:D.street,city:D.city,state:D.state,postalCode:D.postalCode,country:D.country||"IN",isDefault:D.isDefault||!1})},onSuccess:()=>{n.invalidateQueries({queryKey:["user-addresses"]}),t("Address created successfully"),i(!1),M()},onError:D=>{var K,ae,ee;const q=((ae=(K=D==null?void 0:D.response)==null?void 0:K.data)==null?void 0:ae.exception)||((ee=D==null?void 0:D.data)==null?void 0:ee.exception)||(D==null?void 0:D.message)||"Failed to create address";a(q)}}),k=vt({mutationFn:async({addressId:D,data:q})=>{if(!(e!=null&&e.userId))throw new Error("User ID is required");const K={};return q.addressType!==void 0&&(K.addressType=q.addressType),q.street!==void 0&&(K.street=q.street),q.city!==void 0&&(K.city=q.city),q.state!==void 0&&(K.state=q.state),q.postalCode!==void 0&&(K.postalCode=q.postalCode),q.country!==void 0&&(K.country=q.country),q.isDefault!==void 0&&(K.isDefault=q.isDefault),await fe.updateAddress(D,K,e.userId)},onSuccess:()=>{n.invalidateQueries({queryKey:["user-addresses"]}),t("Address updated successfully"),o(!1),f(null),M()},onError:D=>{var K,ae,ee;const q=((ae=(K=D==null?void 0:D.response)==null?void 0:K.data)==null?void 0:ae.exception)||((ee=D==null?void 0:D.data)==null?void 0:ee.exception)||(D==null?void 0:D.message)||"Failed to update address";a(q)}}),S=vt({mutationFn:async D=>{if(!(e!=null&&e.userId))throw new Error("User ID is required");return await fe.deleteAddress(D,e.userId)},onSuccess:()=>{n.invalidateQueries({queryKey:["user-addresses"]}),t("Address deleted successfully"),d(!1),x(null)},onError:D=>{var K,ae,ee;const q=((ae=(K=D==null?void 0:D.response)==null?void 0:K.data)==null?void 0:ae.exception)||((ee=D==null?void 0:D.data)==null?void 0:ee.exception)||(D==null?void 0:D.message)||"Failed to delete address";a(q)}}),N=vt({mutationFn:async D=>{if(!(e!=null&&e.userId))throw new Error("User ID is required");return await fe.setDefaultAddress(D,e.userId)},onSuccess:(D,q)=>{n.setQueryData(["user-addresses",e==null?void 0:e.userId],K=>{if(!K)return K;const ae=K.map(re=>({...re,isDefault:re.addressId===q}));return ae.filter(re=>re.isDefault).length>1?ae.map((re,P)=>({...re,isDefault:re.addressId===q})):ae}),setTimeout(()=>{n.invalidateQueries({queryKey:["user-addresses",e==null?void 0:e.userId]})},300),t("Default address updated successfully")},onError:(D,q)=>{var ae,ee,re;const K=((ee=(ae=D==null?void 0:D.response)==null?void 0:ae.data)==null?void 0:ee.exception)||((re=D==null?void 0:D.data)==null?void 0:re.exception)||(D==null?void 0:D.message)||"Failed to set default address";a(K),n.invalidateQueries({queryKey:["user-addresses",e==null?void 0:e.userId]})}}),M=()=>{w({addressType:"Home",street:"",city:"",state:"",postalCode:"",country:"IN",isDefault:!1})},R=()=>{M(),i(!0)},A=D=>{w({addressType:D.addressType,street:D.street,city:D.city,state:D.state,postalCode:D.postalCode,country:D.country,isDefault:D.isDefault}),f(D),o(!0)},z=D=>{x(D),d(!0)},H=D=>{N.mutate(D)},oe=D=>{D.preventDefault(),E.mutate(h)},Q=D=>{D.preventDefault(),m&&k.mutate({addressId:m.addressId,data:h})},I=()=>{p&&S.mutate(p)};return!e||!e.userId?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx(_t,{})}):s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(Ec,{className:"w-8 h-8 text-green-600"}),"My Addresses"]}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your shipping addresses"})]}),s.jsxs("button",{onClick:R,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(bi,{className:"w-5 h-5"}),"Add New Address"]})]})}),g&&s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx(_t,{})}),y&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 mb-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Mn,{className:"w-5 h-5 text-red-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-red-800 font-semibold",children:"Error Loading Addresses"}),s.jsx("p",{className:"text-red-600 text-sm mt-1",children:b instanceof Error?b.message:"Failed to load addresses"})]})]})}),!g&&!y&&s.jsx(s.Fragment,{children:j.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[s.jsx(Ec,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No addresses yet"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Add your first address to get started"}),s.jsxs("button",{onClick:R,className:"inline-flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(bi,{className:"w-5 h-5"}),"Add Address"]})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:j.map(D=>s.jsxs("div",{className:`bg-white rounded-lg shadow-sm border-2 p-6 ${D.isDefault?"border-green-500":"border-gray-200"}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:D.addressType}),D.isDefault&&s.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800 flex items-center gap-1",children:[s.jsx(On,{className:"w-3 h-3 fill-current"}),"Default"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>A(D),className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Edit address",children:s.jsx(wr,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>z(D.addressId),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete address",children:s.jsx(Nr,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[s.jsx("p",{className:"font-medium",children:D.street}),s.jsxs("p",{children:[D.city,", ",D.state," ",D.postalCode]}),s.jsx("p",{className:"text-gray-500",children:D.country})]}),!D.isDefault&&s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:s.jsx("button",{onClick:()=>H(D.addressId),disabled:N.isPending,className:"w-full px-4 py-2 text-sm text-green-600 border border-green-600 rounded-lg hover:bg-green-50 transition-colors disabled:opacity-50",children:N.isPending?"Setting...":"Set as Default"})})]},D.addressId))})}),r&&s.jsx(ON,{title:"Add New Address",formData:h,setFormData:w,onSubmit:oe,onClose:()=>{i(!1),M()},isLoading:E.isPending,submitLabel:"Create Address"}),l&&m&&s.jsx(ON,{title:"Edit Address",formData:h,setFormData:w,onSubmit:Q,onClose:()=>{o(!1),f(null),M()},isLoading:k.isPending,submitLabel:"Update Address"}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Delete Address"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this address? This action cannot be undone."}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx("button",{onClick:()=>{d(!1),x(null)},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:I,disabled:S.isPending,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:S.isPending?"Deleting...":"Delete"})]})]})})]})})},ON=({title:e,formData:t,setFormData:a,onSubmit:n,onClose:r,isLoading:i,submitLabel:l})=>{const{user:o}=Ze(),c=(o==null?void 0:o.tenantId)||ua,{data:d,isLoading:m,error:f,refetch:p,isFetching:x}=bt({queryKey:["states",c],queryFn:async()=>{const v=await fe.getStates(c,"IN",!0);let g=[];return v!=null&&v.success&&Array.isArray(v==null?void 0:v.data)||Array.isArray(v==null?void 0:v.data)?g=v.data:Array.isArray(v)&&(g=v),g.length>0?[{value:"",label:"Select State"},...g.map(y=>({value:y.stateCode,label:y.stateName}))]:[{value:"",label:"Select State"}]},enabled:!0,staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnMount:!0,refetchOnWindowFocus:!1,retry:2});u.useEffect(()=>{(!d||d.length<=1)&&p()},[]);const h=Array.isArray(d)?d:[{value:"",label:"Select State"}];return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:e}),s.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),s.jsxs("form",{onSubmit:n,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address Type"}),s.jsxs("select",{value:t.addressType,onChange:w=>a({...t,addressType:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"Home",children:"Home"}),s.jsx("option",{value:"Work",children:"Work"}),s.jsx("option",{value:"Shipping",children:"Shipping"}),s.jsx("option",{value:"Billing",children:"Billing"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Street Address ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:t.street,onChange:w=>a({...t,street:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter street address",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["City ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:t.city,onChange:w=>a({...t,city:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter city",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["State ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("select",{value:t.state,onChange:w=>a({...t,state:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,disabled:m||x,children:m||x?s.jsx("option",{value:"",children:"Loading states..."}):f?s.jsx("option",{value:"",children:"Error loading states"}):Array.isArray(h)&&h.map(w=>s.jsx("option",{value:w.value,children:w.label},w.value))}),(m||x)&&s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Loading states..."}),f&&s.jsx("p",{className:"text-sm text-red-500 mt-1",children:"Failed to load states. Please try again."})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Postal Code ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:t.postalCode,onChange:w=>a({...t,postalCode:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter postal code",required:!0,pattern:"[0-9]{6}",maxLength:6})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),s.jsx("input",{type:"text",value:t.country,onChange:w=>a({...t,country:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter country",required:!0})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"isDefault",checked:t.isDefault,onChange:w=>a({...t,isDefault:w.target.checked}),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),s.jsx("label",{htmlFor:"isDefault",className:"ml-2 text-sm text-gray-700",children:"Set as default address"})]}),s.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:i?"Saving...":l})]})]})]})})},U8=()=>{const{user:e}=Ze(),t=dt(e==null?void 0:e.tenantId),[a,n]=u.useState("30d"),[r,i]=u.useState(""),[l,o]=u.useState("");u.useEffect(()=>{const N=new Date;let M=new Date;switch(a){case"7d":M.setDate(N.getDate()-7);break;case"30d":M.setDate(N.getDate()-30);break;case"90d":M.setDate(N.getDate()-90);break;default:return}i(M.toISOString().split("T")[0]),o(N.toISOString().split("T")[0])},[a]);const{data:c,isLoading:d}=bt({queryKey:["dashboard-stats",t,r,l],queryFn:async()=>{var M;const N=await fe.getDashboardStats(t,r,l);return((M=N.data)==null?void 0:M.data)||N.data},enabled:!!t&&!!r&&!!l,staleTime:5*60*1e3,refetchOnWindowFocus:!1}),{data:m,isLoading:f}=bt({queryKey:["dashboard-sales",t,r,l],queryFn:async()=>{var M;const N=await fe.getSalesOverTime(t,r,l,"day");return((M=N.data)==null?void 0:M.data)||N.data||[]},enabled:!!t&&!!r&&!!l,staleTime:5*60*1e3,refetchOnWindowFocus:!1}),{data:p,isLoading:x}=bt({queryKey:["dashboard-top-products",t,r,l],queryFn:async()=>{var M;const N=await fe.getTopProducts(t,r,l,10);return((M=N.data)==null?void 0:M.data)||N.data||[]},enabled:!!t&&!!r&&!!l,staleTime:5*60*1e3,refetchOnWindowFocus:!1}),{data:h,isLoading:w}=bt({queryKey:["dashboard-recent-orders",t],queryFn:async()=>{var M;const N=await fe.getRecentOrders(t,10);return((M=N.data)==null?void 0:M.data)||N.data||[]},enabled:!!t,staleTime:2*60*1e3,refetchOnWindowFocus:!1}),v=c||{totalOrders:0,totalRevenue:0,totalCustomers:0,totalProducts:0,pendingOrders:0,completedOrders:0,averageOrderValue:0},g=m||[],y=p||[],b=h||[],j=d||f||x||w,E=N=>(typeof N=="string"?new Date(N):N).toLocaleDateString("en-US",{month:"short",day:"numeric"}),k=N=>{const M=N.toLowerCase();return M==="completed"||M==="paid"?"bg-green-100 text-green-800":M==="pending"?"bg-yellow-100 text-yellow-800":M==="cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"},S=g.length>0?Math.max(...g.map(N=>N.revenue)):100;return s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(Yf,{className:"w-8 h-8"}),"Admin Dashboard"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Overview of your business performance"})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Date Range:"}),s.jsx("div",{className:"flex gap-2",children:["7d","30d","90d"].map(N=>s.jsx("button",{onClick:()=>n(N),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${a===N?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:N==="7d"?"Last 7 Days":N==="30d"?"Last 30 Days":"Last 90 Days"},N))}),a==="custom"&&s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("input",{type:"date",value:r,onChange:N=>i(N.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm"}),s.jsx("span",{className:"text-gray-500",children:"to"}),s.jsx("input",{type:"date",value:l,onChange:N=>o(N.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm"})]})]})}),j?s.jsx(_t,{}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Revenue"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ye(v.totalRevenue)})]}),s.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:s.jsx(Cc,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Orders"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.totalOrders})]}),s.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:s.jsx(Ql,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Customers"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.totalCustomers})]}),s.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:s.jsx(wA,{className:"w-6 h-6 text-purple-600"})})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Average Order Value"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ye(v.averageOrderValue)})]}),s.jsx("div",{className:"bg-orange-100 p-3 rounded-full",children:s.jsx(Wf,{className:"w-6 h-6 text-orange-600"})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Hu,{className:"w-5 h-5 text-yellow-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Pending Orders"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:v.pendingOrders})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Pa,{className:"w-5 h-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Completed Orders"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:v.completedOrders})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ea,{className:"w-5 h-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Products"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:v.totalProducts})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sales Over Time"}),g.length>0?s.jsx("div",{className:"space-y-2",children:g.slice(-7).map((N,M)=>{const R=N.date instanceof Date?N.date.toISOString():String(N.date);return s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-20 text-xs text-gray-600",children:E(R)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-4 relative",children:s.jsx("div",{className:"bg-green-600 h-4 rounded-full",style:{width:`${N.revenue/S*100}%`}})}),s.jsx("span",{className:"text-sm font-medium text-gray-900 w-20 text-right",children:ye(N.revenue)})]}),s.jsxs("div",{className:"text-xs text-gray-500",children:[N.orderCount," orders"]})]})]},M)})}):s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No sales data available"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Products"}),y.length>0?s.jsx("div",{className:"space-y-3",children:y.slice(0,5).map(N=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:N.productName}),s.jsxs("p",{className:"text-sm text-gray-600",children:[N.totalQuantitySold," sold  ",ye(N.totalRevenue)]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:N.orderCount}),s.jsx("p",{className:"text-xs text-gray-500",children:"orders"})]})]},N.productId))}):s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No product data available"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Orders"}),b.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Order #"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Customer"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(N=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:N.orderNumber}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:N.userName}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ye(N.totalAmount)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${k(N.orderStatus)}`,children:N.orderStatus})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E(N.orderDate)})]},N.orderId))})]})}):s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No recent orders"})]})]})]})})},_N=ke.memo(({item:e,onUpdate:t,onRemove:a,onAddToCart:n,showNotes:r=!0,showPriority:i=!0})=>{const[l,o]=u.useState(!1),[c,d]=u.useState(!1),m=u.useMemo(()=>({1:"bg-red-100 text-red-800 border-red-200",2:"bg-yellow-100 text-yellow-800 border-yellow-200",3:"bg-gray-100 text-gray-800 border-gray-200"}),[]),f=u.useMemo(()=>({1:"High",2:"Medium",3:"Low"}),[]),p=u.useCallback(()=>{n&&n(e.product_id,e.quantity)},[n,e.product_id,e.quantity]),x=u.useCallback(()=>{o(!0)},[]),h=u.useCallback(async()=>{d(!0);try{if(a){const y=a(e.wishlist_item_id);y instanceof Promise&&await y}o(!1)}catch{}finally{d(!1)}},[a,e.wishlist_item_id]),w=u.useMemo(()=>ye(e.product.current_price||0),[e.product.current_price]),v=u.useMemo(()=>new Date(e.added_at).toLocaleDateString(),[e.added_at]),g=u.useMemo(()=>e.product.thumbnail_url||e.product.image_url||e.product.product_image||"/api/placeholder/120/120",[e.product.thumbnail_url,e.product.image_url,e.product.product_image]);return s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow duration-200 w-full",children:[s.jsx("div",{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 w-full",children:[s.jsx("div",{className:"flex-shrink-0 mx-auto sm:mx-0",children:s.jsx("img",{src:g,alt:e.product.product_name,className:"w-20 h-20 sm:w-24 sm:h-24 object-cover rounded-lg bg-gray-100",onError:y=>{const b=y.target;b.src!=="/api/placeholder/120/120"&&(b.src="/api/placeholder/120/120")}})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 truncate",children:e.product.product_name}),e.product.product_description&&s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-1 line-clamp-2",children:e.product.product_description}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 mt-2",children:[s.jsx("span",{className:"text-base sm:text-lg font-semibold text-gray-900",children:w}),e.product.in_stock?s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[s.jsx(Ql,{className:"w-3 h-3 mr-1"}),"In Stock"]}):s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[s.jsx(jr,{className:"w-3 h-3 mr-1"}),"Out of Stock"]}),e.product.rating&&e.product.rating>0&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(On,{className:"w-3 h-3 sm:w-4 sm:h-4 text-yellow-400 fill-current"}),s.jsx("span",{className:"text-xs sm:text-sm text-gray-600 ml-1",children:e.product.rating.toFixed(1)})]}),i&&s.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium border ${m[e.priority]}`,children:[f[e.priority]," Priority"]}),s.jsxs("span",{className:"text-xs sm:text-sm text-gray-600",children:["Qty: ",e.quantity]}),s.jsxs("span",{className:"text-xs text-gray-500",children:["Added ",v]})]})]}),s.jsx("div",{className:"flex items-center gap-1 sm:gap-2 flex-shrink-0",children:s.jsx("button",{onClick:x,className:"p-1.5 sm:p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Remove from wishlist",children:s.jsx(Nr,{className:"w-4 h-4"})})}),s.jsx("div",{className:"flex-shrink-0",children:s.jsxs("button",{onClick:p,disabled:!e.product.in_stock,className:`
                      inline-flex items-center justify-center px-4 py-2 rounded-md font-medium transition-colors text-sm w-full sm:w-auto
                      ${e.product.in_stock?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}
                    `,children:[s.jsx(Ql,{className:"w-4 h-4 mr-2"}),"Add to Cart"]})})]}),e.alerts.price_alert_triggered&&s.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded-md",children:s.jsxs("p",{className:"text-sm text-green-800 font-medium",children:[" Price Alert! This item is now below your target price of ",ye(e.price_alert_threshold||0)]})}),e.alerts.on_sale&&s.jsx("div",{className:"mt-2 p-2 bg-orange-50 border border-orange-200 rounded-md",children:s.jsxs("p",{className:"text-sm text-orange-800 font-medium",children:[" On Sale! ",e.product.discount_percentage,"% off - ",e.product.offer_text]})}),e.alerts.back_in_stock&&s.jsx("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded-md",children:s.jsx("p",{className:"text-sm text-blue-800 font-medium",children:" Back in Stock! This item is now available"})}),r&&e.notes&&s.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded-md",children:s.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:e.notes})})]})]})}),s.jsx(Mc,{isOpen:l,onClose:()=>o(!1),onConfirm:h,title:"Remove Item",message:`Are you sure you want to remove "${e.product.product_name}" from your wishlist?`,confirmText:"Remove",cancelText:"Cancel",type:"danger",loading:c})]})},(e,t)=>e.item.wishlist_item_id===t.item.wishlist_item_id&&e.item.quantity===t.item.quantity&&e.item.priority===t.item.priority&&e.item.product.product_id===t.item.product.product_id&&e.item.product.current_price===t.item.product.current_price&&e.item.product.in_stock===t.item.product.in_stock&&e.showNotes===t.showNotes&&e.showPriority===t.showPriority&&e.onUpdate===t.onUpdate&&e.onRemove===t.onRemove&&e.onAddToCart===t.onAddToCart);_N.displayName="WishlistItemCard";const F8=()=>{const{user:e}=Ze(),{addToCart:t}=vi(),{items:a,loading:n,error:r,removeFromWishlist:i,clearWishlist:l,refreshWishlist:o,clearError:c}=Zf(),[d,m]=u.useState(""),[f,p]=u.useState({field:"added_at",direction:"desc"}),[x,h]=u.useState(!1),[w,v]=u.useState(!1),g=a.length;if(!e)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-6 text-center",children:[s.jsx(Vl,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Login Required"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Please log in to view and manage your wishlist."}),s.jsx("button",{onClick:()=>window.location.href="/login",className:"w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition-colors",children:"Go to Login"})]})});const y=k=>{p(S=>({field:k,direction:S.field===k&&S.direction==="desc"?"asc":"desc"}))},b=()=>{h(!0)},j=async()=>{v(!0);try{await l(),h(!1)}catch{}finally{v(!1)}},E=a.filter(k=>k.product.product_name.toLowerCase().includes(d.toLowerCase())||k.notes&&k.notes.toLowerCase().includes(d.toLowerCase()));return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Vl,{className:"w-8 h-8 text-red-500 mr-3"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Wish List"}),s.jsxs("p",{className:"text-gray-600 mt-1",children:[g," ",g===1?"item":"items"," saved"]})]})]})})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(Ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search your wishlist...",value:d,onChange:k=>m(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsxs("button",{onClick:()=>y("added_at"),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${f.field==="added_at"?"bg-green-100 text-green-700":"text-gray-600 hover:text-gray-900"}`,children:["Date Added",f.field==="added_at"&&(f.direction==="desc"?s.jsx(R2,{className:"w-4 h-4 ml-1 inline"}):s.jsx(D2,{className:"w-4 h-4 ml-1 inline"}))]}),s.jsxs("button",{onClick:()=>y("priority"),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${f.field==="priority"?"bg-green-100 text-green-700":"text-gray-600 hover:text-gray-900"}`,children:["Priority",f.field==="priority"&&(f.direction==="desc"?s.jsx(R2,{className:"w-4 h-4 ml-1 inline"}):s.jsx(D2,{className:"w-4 h-4 ml-1 inline"}))]})]})})]}),E.length>0&&s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 flex justify-end",children:s.jsx("button",{onClick:b,className:"px-4 py-2 text-red-600 text-sm font-medium rounded-lg hover:text-red-700 hover:bg-red-50 transition-colors",children:"Clear All Items"})})]}),n&&s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(_t,{})}),r&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[s.jsx("p",{className:"text-red-800",children:r}),s.jsx("button",{onClick:()=>{c(),o()},className:"mt-2 text-red-600 hover:text-red-700 text-sm font-medium",children:"Try Again"})]}),!n&&E.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Vl,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:d?"No matching items":"Your wishlist is empty"}),s.jsx("p",{className:"text-gray-600 mb-6",children:d?"Try adjusting your search terms":"Start adding products you love to your wishlist!"}),!d&&s.jsx("button",{onClick:()=>window.location.href="/products",className:"inline-flex items-center px-6 py-3 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-colors",children:"Browse Products"})]}),E.length>0&&s.jsx("div",{className:"flex flex-col space-y-3",children:E.map(k=>s.jsx(_N,{item:k,onUpdate:async()=>{},onRemove:async S=>{try{await i(k.product_id)}catch{}},onAddToCart:async(S,N)=>{t({productId:S,quantity:N})},showNotes:!0,showPriority:!0},k.wishlist_item_id))})]}),s.jsx(Mc,{isOpen:x,onClose:()=>h(!1),onConfirm:j,title:"Clear All Items",message:"Are you sure you want to clear all items from your wishlist? This action cannot be undone.",confirmText:"Clear All",cancelText:"Cancel",type:"danger",loading:w})]})},P9="modulepreload",B9=function(e){return"/"+e},H9={},Xx=function(t,a,n){let r=Promise.resolve();function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return r.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},q8=(e,t)=>{const a=Qt(),{showError:n}=qa();return vt({mutationFn:async r=>await fe.createOrder(r),onSuccess:r=>{a.invalidateQueries({queryKey:["orders"]}),e==null||e(r)},onError:r=>{var l,o,c,d,m,f,p,x,h;(l=r==null?void 0:r.response)!=null&&l.data;const i=((c=(o=r==null?void 0:r.response)==null?void 0:o.data)==null?void 0:c.message)||((m=(d=r==null?void 0:r.response)==null?void 0:d.data)==null?void 0:m.error)||(Array.isArray((p=(f=r==null?void 0:r.response)==null?void 0:f.data)==null?void 0:p.errors)?r.response.data.errors.join(", "):(h=(x=r==null?void 0:r.response)==null?void 0:x.data)==null?void 0:h.errors)||(r==null?void 0:r.message)||"Failed to create order. Please try again.";n(i),t==null||t(r)}})},RN=ke.memo(({steps:e,currentStep:t})=>{var n,r;const a=u.useMemo(()=>`${(t+1)/e.length*100}%`,[t,e.length]);return s.jsx("div",{className:"bg-white py-4 px-4 sm:px-6 lg:px-8 border-b border-gray-200",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between relative",children:[e.map((i,l)=>{const o=l===t,c=l<t;return s.jsxs("div",{className:"flex flex-col items-center relative z-10",children:[s.jsx("div",{className:`
                    flex items-center justify-center w-8 h-8 rounded-full border-2 transition-all duration-300
                    ${c?"bg-green-500 border-green-500 text-white":o?"bg-blue-500 border-blue-500 text-white":"bg-white border-gray-300 text-gray-500"}
                  `,children:c?s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):s.jsx("span",{className:"text-xs font-medium",children:l+1})}),s.jsx("div",{className:"mt-2 text-center min-w-max",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:`
                        text-xs font-medium transition-colors duration-300
                        ${o?"text-blue-600":c?"text-green-600":"text-gray-500"}
                      `,children:i.title}),s.jsx("span",{className:"text-xs text-gray-400 hidden sm:inline",children:""}),s.jsx("span",{className:"text-xs text-gray-400 hidden sm:inline max-w-20 truncate",children:i.description})]})})]},i.id)}),s.jsx("div",{className:"absolute top-4 left-0 right-0 h-0.5 bg-gray-200 -z-10",children:s.jsx("div",{className:"h-full bg-blue-500 transition-all duration-500 ease-in-out",style:{width:a}})})]}),s.jsx("div",{className:"mt-4 sm:hidden",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:(n=e[t])==null?void 0:n.title}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:(r=e[t])==null?void 0:r.description})]})}),s.jsxs("div",{className:"mt-4 text-center",children:[s.jsxs("div",{className:"text-xs text-gray-500",children:["Step ",t+1," of ",e.length]}),s.jsx("div",{className:"mt-2",children:s.jsx("div",{className:"bg-gray-200 rounded-full h-1.5 max-w-xs mx-auto",children:s.jsx("div",{className:"bg-blue-500 h-1.5 rounded-full transition-all duration-500 ease-in-out",style:{width:a}})})})]})]})})},(e,t)=>e.currentStep===t.currentStep&&e.steps.length===t.steps.length&&e.steps.every((a,n)=>{var r,i;return a.id===((r=t.steps[n])==null?void 0:r.id)&&a.name===((i=t.steps[n])==null?void 0:i.name)}));RN.displayName="CheckoutStepper";const P8=Fx().shape({firstName:na().required("First name is required").min(2,"First name must be at least 2 characters"),lastName:na().required("Last name is required").min(1,"Last name must be at least 1 characters"),email:na().required("Email is required").email("Please enter a valid email address"),phone:na().required("Phone number is required").test("phone-format","Please enter a valid 10-digit phone number (e.g., 90250 20273)",e=>{if(!e)return!1;const t=e.replace(/\s/g,"");return/^[6-9]\d{9}$/.test(t)}),address1:na().required("Street address is required").min(5,"Address must be at least 5 characters"),address2:na(),city:na().required("City is required").min(2,"City must be at least 2 characters"),state:na().required("State is required"),zipCode:na().required("ZIP code is required").matches(/^\d{5,6}$/,"Please enter a valid ZIP code"),country:na().required("Country is required")}),DN=ke.memo(({address:e,type:t,onAddressChange:a,onValidationChange:n,isSubmitting:r=!1})=>{const[i,l]=u.useState(e||{type:t,firstName:"",lastName:"",email:"",phone:"",address1:"",address2:"",city:"",state:"",zipCode:"",country:"IN"}),[o,c]=u.useState({}),[d,m]=u.useState({}),[f,p]=u.useState(!1),x=u.useRef(n);x.current=n;const h=u.useRef(a);h.current=a;const w=dt(),{data:v,isLoading:g,error:y}=bt({queryKey:["states",w],queryFn:async()=>{try{const N=await fe.getStates(w,"IN",!0),M=(N==null?void 0:N.data)||N||[];return Array.isArray(M)&&M.length>0?[{value:"",label:"Select State"},...M.map(R=>({value:R.stateCode||R.state_code||"",label:R.stateName||R.state_name||""}))]:[{value:"",label:"Select State"}]}catch{return[{value:"",label:"Select State"}]}},staleTime:1e3*60*60,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,enabled:!0}),b=v||[{value:"",label:"Select State"}];u.useEffect(()=>{h.current(i)},[i]),u.useEffect(()=>{const M=setTimeout(async()=>{if(!i.firstName&&!i.lastName&&!i.email&&!i.phone){c({}),x.current(!1);return}p(!0);try{await P8.validate(i,{abortEarly:!1}),c({}),x.current(!0)}catch(R){if(R instanceof xa){const A={};R.inner.forEach(z=>{z.path&&(A[z.path]=z.message)}),c(A),x.current(!1)}else x.current(!1)}finally{p(!1)}},500);return()=>clearTimeout(M)},[i.firstName,i.lastName,i.email,i.phone,i.address1,i.city,i.state,i.zipCode]);const j=(N,M)=>{if(N==="phone"){const R=s1(M);l(A=>({...A,[N]:R}))}else l(R=>({...R,[N]:M}));m(R=>({...R,[N]:!0}))},E=N=>{m(M=>({...M,[N]:!0}))},k=N=>d[N]?o[N]:null,S=N=>{const M="w-full px-4 py-3 sm:py-3.5 border rounded-lg sm:rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors text-base",R=k(N);return R?`${M} border-red-300 bg-red-50`:d[N]&&!R?`${M} border-green-300 bg-green-50`:`${M} border-gray-300`};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg flex-shrink-0",children:s.jsxs("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"text-xl font-semibold text-gray-900 capitalize mb-2",children:[t," Address"]}),s.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:t==="shipping"?"Where should we deliver your order?":"Billing information for your payment"})]}),f&&s.jsx("div",{className:"flex-shrink-0",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-green-500 border-t-transparent rounded-full animate-spin"}),"Validating..."]})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{htmlFor:`${t}-firstName`,className:"block text-sm font-semibold text-gray-700",children:["First Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:`${t}-firstName`,value:i.firstName,onChange:N=>j("firstName",N.target.value),onBlur:()=>E("firstName"),disabled:r,className:S("firstName"),placeholder:"John",autoComplete:"given-name"}),k("firstName")&&s.jsx("p",{className:"text-sm text-red-600",children:k("firstName")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{htmlFor:`${t}-lastName`,className:"block text-sm font-semibold text-gray-700",children:["Last Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:`${t}-lastName`,value:i.lastName,onChange:N=>j("lastName",N.target.value),onBlur:()=>E("lastName"),disabled:r,className:S("lastName"),placeholder:"Doe",autoComplete:"family-name"}),k("lastName")&&s.jsx("p",{className:"text-sm text-red-600",children:k("lastName")})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{htmlFor:`${t}-email`,className:"block text-sm font-semibold text-gray-700",children:["Email Address ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"email",id:`${t}-email`,value:i.email,onChange:N=>j("email",N.target.value),onBlur:()=>E("email"),disabled:r,className:S("email"),placeholder:"john.doe@example.com",autoComplete:"email",inputMode:"email"}),k("email")&&s.jsx("p",{className:"text-sm text-red-600",children:k("email")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{htmlFor:`${t}-phone`,className:"block text-sm font-semibold text-gray-700",children:["Phone Number ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"tel",id:`${t}-phone`,value:i.phone,onChange:N=>j("phone",N.target.value),onBlur:()=>E("phone"),disabled:r,className:S("phone"),placeholder:"98765 43210",autoComplete:"tel",inputMode:"tel"}),k("phone")&&s.jsx("p",{className:"text-sm text-red-600",children:k("phone")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{htmlFor:`${t}-address1`,className:"block text-sm font-semibold text-gray-700",children:["Street Address ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:`${t}-address1`,value:i.address1,onChange:N=>j("address1",N.target.value),onBlur:()=>E("address1"),disabled:r,className:S("address1"),placeholder:"123 Main Street",autoComplete:"address-line1"}),k("address1")&&s.jsx("p",{className:"text-sm text-red-600",children:k("address1")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:`${t}-address2`,className:"block text-sm font-semibold text-gray-700",children:"Apartment, Suite, etc. (Optional)"}),s.jsx("input",{type:"text",id:`${t}-address2`,value:i.address2||"",onChange:N=>j("address2",N.target.value),onBlur:()=>E("address2"),disabled:r,className:S("address2"),placeholder:"Apt 4B, Floor 2",autoComplete:"address-line2"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{htmlFor:`${t}-city`,className:"block text-sm font-semibold text-gray-700",children:["City ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:`${t}-city`,value:i.city,onChange:N=>j("city",N.target.value),onBlur:()=>E("city"),disabled:r,className:S("city"),placeholder:"Mumbai",autoComplete:"address-level2"}),k("city")&&s.jsx("p",{className:"text-sm text-red-600",children:k("city")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{htmlFor:`${t}-state`,className:"block text-sm font-semibold text-gray-700",children:["State ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("select",{id:`${t}-state`,value:i.state,onChange:N=>j("state",N.target.value),onBlur:()=>E("state"),disabled:r||g,className:S("state"),autoComplete:"address-level1",children:g?s.jsx("option",{value:"",children:"Loading states..."}):y?s.jsx("option",{value:"",children:"Error loading states"}):b.map(N=>s.jsx("option",{value:N.value,children:N.label},N.value))}),k("state")&&s.jsx("p",{className:"text-sm text-red-600",children:k("state")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{htmlFor:`${t}-zipCode`,className:"block text-sm font-semibold text-gray-700",children:["ZIP Code ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:`${t}-zipCode`,value:i.zipCode,onChange:N=>j("zipCode",N.target.value),onBlur:()=>E("zipCode"),disabled:r,className:S("zipCode"),placeholder:"400001",autoComplete:"postal-code",inputMode:"numeric"}),k("zipCode")&&s.jsx("p",{className:"text-sm text-red-600",children:k("zipCode")})]})]})]}),Object.keys(o).length>0&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx("svg",{className:"w-5 h-5 text-red-400 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),s.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc list-inside",children:Object.entries(o).map(([N,M])=>s.jsx("li",{children:M},N))})]})]})})]})},(e,t)=>{var a,n,r,i;return e.type===t.type&&e.isSubmitting===t.isSubmitting&&((a=e.address)==null?void 0:a.email)===((n=t.address)==null?void 0:n.email)&&((r=e.address)==null?void 0:r.phone)===((i=t.address)==null?void 0:i.phone)});DN.displayName="AddressForm";const B8=({selectedPaymentMethod:e,onPaymentMethodChange:t,onValidationChange:a,isSubmitting:n=!1})=>{const[r,i]=u.useState([]),[l,o]=u.useState(!0),c=u.useRef(!1),d=u.useRef({isValid:!1,paymentType:null}),m=u.useRef(a);u.useEffect(()=>{m.current=a},[a]);const f=u.useMemo(()=>[{id:"razorpay",type:"razorpay",name:"Razorpay",icon:"",description:"UPI / GPay / PhonePe / Net Banking / Credit Card",enabled:!0},{id:"cod",type:"cod",name:"Pay on before Delivery",icon:"",description:"Pay when you receive your order",enabled:!0}],[]);return u.useEffect(()=>{i(f),o(!1)},[f]),u.useEffect(()=>{if(!c.current&&!e){const p=f.find(x=>x.type==="razorpay");p&&(c.current=!0,t(p))}},[]),u.useEffect(()=>{const p=(e==null?void 0:e.type)||null,x=p==="razorpay"||p==="cod";x&&(d.current.paymentType!==p||d.current.isValid!==x)?(d.current={isValid:x,paymentType:p},m.current(!0,{})):!x&&d.current.isValid&&(d.current={isValid:!1,paymentType:p},m.current(!1,{}))},[e]),l?s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-48 mb-4"}),s.jsx("div",{className:"h-16 bg-gray-200 rounded-lg"})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Payment Method"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Choose your preferred payment method"})]})]}),s.jsx("div",{className:"space-y-3",children:r.map(p=>s.jsx("div",{className:`
              relative border-2 rounded-xl p-4 cursor-pointer transition-all duration-200
              ${(e==null?void 0:e.id)===p.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 bg-white"}
            `,onClick:()=>t(p),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx("div",{className:"text-2xl",children:p.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-gray-900",children:p.name}),p.description&&s.jsx("div",{className:"text-sm text-gray-500 mt-1",children:p.description})]})]}),s.jsx("div",{className:`
                  w-5 h-5 rounded-full border-2 transition-colors
                  ${(e==null?void 0:e.id)===p.id?"border-blue-500 bg-blue-500":"border-gray-300"}
                `,children:(e==null?void 0:e.id)===p.id&&s.jsx("div",{className:"w-full h-full rounded-full bg-white scale-50"})})]})},p.id))}),(e==null?void 0:e.type)==="razorpay"&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("svg",{className:"w-5 h-5 text-blue-500 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium text-blue-800",children:"Secure payment via Razorpay"}),s.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"All transactions are encrypted and processed securely. We never store your payment details."})]})]})})]})},LN=ke.memo(({checkoutData:e,cartItems:t,totals:a,shippingMethod:n,onEdit:r,isSubmitting:i=!1,onPlaceOrder:l})=>{var d,m,f;const o=u.useCallback(p=>`**** **** **** ${p.replace(/\s/g,"").slice(-4)}`,[]),c=u.useMemo(()=>t.length,[t.length]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:s.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Review Your Order"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Please review your order details before completing your purchase"})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Order Items"}),s.jsxs("span",{className:"text-sm text-gray-500",children:[c," item",c!==1?"s":""]})]})}),s.jsx("div",{className:"divide-y divide-gray-200",children:t.map(p=>s.jsxs("div",{className:"p-6 flex items-center gap-4",children:[s.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:s.jsx("img",{src:Tc(p.product),alt:p.product.productName,className:"w-full h-full object-cover",onError:x=>{x.currentTarget.src="/placeholder-image.jpg"}})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h5",{className:"text-base font-medium text-gray-900 truncate",children:p.product.productName}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Quantity: ",p.quantity]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Unit Price: ",ye(p.product.price)]})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:ye(p.product.price*p.quantity)})})]},p.id))})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Shipping Address"}),s.jsx("button",{onClick:()=>r(0),disabled:i,className:"text-blue-600 hover:text-blue-700 text-sm font-medium disabled:opacity-50",children:"Edit"})]})}),e.shippingAddress?s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"text-sm text-gray-900 space-y-1",children:[s.jsxs("div",{className:"font-medium",children:[e.shippingAddress.firstName," ",e.shippingAddress.lastName]}),e.shippingAddress.company&&s.jsx("div",{children:e.shippingAddress.company}),s.jsx("div",{children:e.shippingAddress.address1}),e.shippingAddress.address2&&s.jsx("div",{children:e.shippingAddress.address2}),s.jsxs("div",{children:[e.shippingAddress.city,", ",e.shippingAddress.state," ",e.shippingAddress.zipCode]}),s.jsx("div",{children:e.shippingAddress.country}),s.jsx("div",{className:"pt-2 text-gray-600",children:e.shippingAddress.email}),s.jsx("div",{className:"text-gray-600",children:e.shippingAddress.phone})]})}):s.jsx("div",{className:"p-6 text-gray-500",children:"No shipping address provided"})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Billing Address"}),s.jsx("button",{onClick:()=>r(0),disabled:i,className:"text-blue-600 hover:text-blue-700 text-sm font-medium disabled:opacity-50",children:"Edit"})]})}),e.sameBillingAddress&&e.shippingAddress?s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"text-sm text-gray-600 italic",children:"Same as shipping address"})}):e.billingAddress?s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"text-sm text-gray-900 space-y-1",children:[s.jsxs("div",{className:"font-medium",children:[e.billingAddress.firstName," ",e.billingAddress.lastName]}),e.billingAddress.company&&s.jsx("div",{children:e.billingAddress.company}),s.jsx("div",{children:e.billingAddress.address1}),e.billingAddress.address2&&s.jsx("div",{children:e.billingAddress.address2}),s.jsxs("div",{children:[e.billingAddress.city,", ",e.billingAddress.state," ",e.billingAddress.zipCode]}),s.jsx("div",{children:e.billingAddress.country}),s.jsx("div",{className:"pt-2 text-gray-600",children:e.billingAddress.email}),s.jsx("div",{className:"text-gray-600",children:e.billingAddress.phone})]})}):s.jsx("div",{className:"p-6 text-gray-500",children:"No billing address provided"})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Shipping Method"}),s.jsx("button",{onClick:()=>r(1),disabled:i,className:"text-blue-600 hover:text-blue-700 text-sm font-medium disabled:opacity-50",children:"Edit"})]})}),n?s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:n.name}),s.jsx("div",{className:"text-sm text-gray-500",children:n.description}),s.jsx("div",{className:"text-sm text-gray-500",children:n.estimatedDays}),n.carrier&&s.jsxs("div",{className:"text-sm text-gray-500",children:["via ",n.carrier]})]}),s.jsx("div",{className:"text-lg font-semibold text-gray-900",children:n.price>0?ye(n.price):"Free"})]})}):s.jsx("div",{className:"p-6 text-gray-500",children:"No shipping method selected"})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Payment Method"}),s.jsx("button",{onClick:()=>r(1),disabled:i,className:"text-blue-600 hover:text-blue-700 text-sm font-medium disabled:opacity-50",children:"Edit"})]})}),e.paymentMethod?s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-2xl",children:e.paymentMethod.icon}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:e.paymentMethod.name}),e.paymentMethod.type==="credit_card"&&e.creditCardInfo&&s.jsx("div",{className:"text-sm text-gray-500",children:o(e.creditCardInfo.cardNumber)}),e.paymentMethod.description&&s.jsx("div",{className:"text-sm text-gray-500",children:e.paymentMethod.description})]})]})}):s.jsx("div",{className:"p-6 text-gray-500",children:"No payment method selected"})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:s.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Order Summary"})}),a?s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Product Subtotal"}),s.jsx("span",{className:"text-gray-900 font-medium",children:ye(a.subtotal)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600",children:["Shipping ",n&&`(${n.name})`]}),s.jsx("span",{className:"text-gray-900",children:a.shipping>0?ye(a.shipping):s.jsx("span",{className:"text-green-600 font-medium",children:"Free"})})]}),a.discount>0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600",children:["Discount ",e.appliedDiscount&&`(${e.appliedDiscount.code})`]}),s.jsxs("span",{className:"text-green-600 font-medium",children:["-",ye(a.discount)]})]}),s.jsx("div",{className:"border-t border-gray-200 pt-3 mt-3",children:s.jsxs("div",{className:"text-xs text-gray-500 space-y-1 mb-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Subtotal:"}),s.jsx("span",{children:ye(a.subtotal)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"+ Shipping:"}),s.jsx("span",{children:a.shipping>0?ye(a.shipping):"Free"})]}),a.discount>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"- Discount:"}),s.jsxs("span",{className:"text-green-600",children:["-",ye(a.discount)]})]})]})}),s.jsxs("div",{className:"border-t-2 border-gray-300 pt-4 mt-2",children:[s.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[s.jsx("span",{className:"text-gray-900",children:"Total Payable"}),s.jsx("span",{className:"text-gray-900",children:ye(a.total)})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:((d=e.paymentMethod)==null?void 0:d.type)==="cod"?"Pay on before Delivery":"Pay securely online"})]})]}):s.jsx("div",{className:"p-6 text-gray-500",children:"Order totals not available"})]}),e.isGuest&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("svg",{className:"w-5 h-5 text-blue-500 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium text-blue-800",children:"Guest Checkout"}),s.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"You're checking out as a guest. You'll receive order updates via email."})]})]})}),e.orderNotes&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:s.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Order Notes"})}),s.jsx("div",{className:"p-6",children:s.jsx("p",{className:"text-sm text-gray-700",children:e.orderNotes})})]}),s.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[s.jsxs("p",{children:["By placing this order, you agree to our"," ",s.jsx("a",{href:"/terms",className:"text-blue-600 hover:text-blue-700 underline",children:"Terms of Service"})," ","and"," ",s.jsx("a",{href:"/privacy",className:"text-blue-600 hover:text-blue-700 underline",children:"Privacy Policy"}),"."]}),s.jsx("p",{children:"Your personal data will be used to process your order and improve your experience."})]})}),s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-6 py-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),s.jsx("span",{children:"SSL Secured"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.031 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),s.jsx("span",{children:"Money Back Guarantee"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),s.jsx("span",{children:"Free Returns"})]})]}),l&&s.jsxs("div",{className:"flex flex-col items-end pt-6",children:[!e.paymentMethod&&s.jsx("div",{className:"mb-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[" Please select a payment method to continue. ",s.jsx("button",{onClick:()=>r(1),className:"text-yellow-900 font-semibold underline",children:"Go to Payment Step"})]})}),s.jsx("button",{onClick:l,disabled:i||!e.paymentMethod,className:`px-8 py-3 rounded-lg font-semibold text-white transition-all duration-200 ${i||!e.paymentMethod?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700 hover:shadow-lg"}`,children:i?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):((m=e.paymentMethod)==null?void 0:m.type)==="razorpay"?"Pay now":(((f=e.paymentMethod)==null?void 0:f.type)==="cod","Place Order")})]})]})},(e,t)=>{var a,n,r,i;return e.isSubmitting===t.isSubmitting&&e.cartItems.length===t.cartItems.length&&((a=e.totals)==null?void 0:a.total)===((n=t.totals)==null?void 0:n.total)&&((r=e.checkoutData.shippingAddress)==null?void 0:r.email)===((i=t.checkoutData.shippingAddress)==null?void 0:i.email)});LN.displayName="OrderReview";const IN=ke.memo(({onApplyDiscount:e,appliedDiscount:t,onRemoveDiscount:a,disabled:n=!1})=>{const[r,i]=u.useState(""),[l,o]=u.useState(!1),[c,d]=u.useState(null),[m,f]=u.useState(!1),p=u.useCallback(async w=>{if(w.preventDefault(),!(!r.trim()||l||n)){o(!0),d(null);try{await e(r.trim().toUpperCase())?(i(""),f(!1)):(i(""),d("Invalid or expired discount code"))}catch{i(""),d("Failed to apply discount code")}finally{o(!1)}}},[r,l,n,e]),x=u.useCallback(()=>{a(),d(null)},[a]),h=u.useCallback(w=>{i(w),c&&d(null)},[c]);return t?s.jsx("div",{className:"border border-green-200 bg-green-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-green-800",children:["Discount Applied: ",t.code]}),s.jsx("p",{className:"text-xs text-green-600",children:t.type==="percentage"?`${t.value}% off`:`$${t.value} off`})]})]}),s.jsx("button",{onClick:x,disabled:n,className:"text-green-600 hover:text-green-800 transition-colors disabled:opacity-50 p-1","aria-label":"Remove discount",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}):s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[s.jsxs("button",{onClick:()=>f(!m),disabled:n,className:"w-full px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Have a discount code?"})]}),s.jsx("svg",{className:`w-4 h-4 text-gray-400 transition-transform ${m?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsx("div",{className:`transition-all duration-300 ease-in-out ${m?"max-h-40 opacity-100":"max-h-0 opacity-0"}`,children:s.jsx("div",{className:"p-4 border-t border-gray-200",children:s.jsx("form",{onSubmit:p,className:"space-y-3",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("input",{type:"text",value:r,onChange:w=>h(w.target.value),placeholder:"Enter discount code",disabled:l||n,className:`
                      w-full px-3 py-2 border rounded-md text-sm transition-colors
                      ${c?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-green-500 focus:ring-green-500"}
                      disabled:opacity-50 disabled:cursor-not-allowed
                      focus:outline-none focus:ring-1
                    `,maxLength:20}),l&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-green-600 rounded-full animate-spin"})})]}),s.jsx("button",{type:"submit",disabled:!r.trim()||l||n,className:"px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-md hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",children:"Apply"})]}),c&&s.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[s.jsx("svg",{className:"w-4 h-4 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("p",{className:"text-xs text-red-600",children:c})]})]})})})})]})},(e,t)=>{var a,n,r,i;return e.disabled===t.disabled&&((a=e.appliedDiscount)==null?void 0:a.code)===((n=t.appliedDiscount)==null?void 0:n.code)&&((r=e.appliedDiscount)==null?void 0:r.value)===((i=t.appliedDiscount)==null?void 0:i.value)});IN.displayName="DiscountCode";const zN=ke.memo(({isOpen:e,onClose:t,orderId:a})=>{const n=pa(),r=()=>{t(),n("/orders")};return u.useEffect(()=>{if(!e)return;const i=l=>{l.key==="Escape"&&t()};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[e,t]),e?s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 text-center sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t}),s.jsxs("div",{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg",children:[s.jsx("div",{className:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4",children:s.jsxs("div",{className:"sm:flex sm:items-start",children:[s.jsx("div",{className:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-green-100 sm:mx-0 sm:h-10 sm:w-10",children:s.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left flex-1",children:[s.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Order Placed Successfully!"}),s.jsx("div",{className:"mt-2",children:s.jsx("p",{className:"text-sm text-gray-500",children:"Thank you for your order. We've received your order and will process it shortly."})})]}),s.jsx("button",{type:"button",className:"ml-auto flex h-8 w-8 items-center justify-center rounded-full bg-gray-100 text-gray-400 hover:bg-gray-200 hover:text-gray-500",onClick:t,children:s.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",className:"inline-flex w-full justify-center rounded-md bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 sm:ml-3 sm:w-auto",onClick:r,children:"View My Orders"}),s.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-4 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:t,children:"Continue Shopping"})]})]})]})}):null},(e,t)=>e.isOpen===t.isOpen&&e.orderId===t.orderId&&e.onClose===t.onClose);zN.displayName="OrderSuccessModal";const H8=ns,$N=()=>Sa("ContainerApiBaseUrl")||`${H8}/`,V8=e=>{const t=e.map(n=>`${n.productId}-${n.quantity}-${n.product.price}`).sort().join("|");let a=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);a=(a<<5)-a+r,a=a&a}return Math.abs(a).toString(36)},G8=e=>{if(e)return e.replace(/[<>]/g,"").replace(/javascript:/gi,"").replace(/on\w+=/gi,"").trim().substring(0,255)},UN=async(e,t="INR",a,n,r,i,l,o)=>{var c;try{if(!e||e<=0)throw new Error("Invalid payment amount");if(e>1e7)throw new Error("Payment amount exceeds maximum limit");const d=Math.round(e*100);if(d<100)throw new Error("Minimum payment amount is 1");if(!isFinite(e)||isNaN(e))throw new Error("Invalid payment amount format");const m=G8(a),f=n?n.replace(/[^a-zA-Z0-9@._-]/g,"").substring(0,255):void 0,p=r?r.replace(/[^0-9+]/g,"").substring(0,20):void 0;if(f&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f))throw new Error("Invalid email format");p&&!/^(\+91|91|0)?[6-9]\d{9}$/.test(p.replace(/[^0-9]/g,""))&&/^\+?[1-9]\d{1,14}$/.test(p.replace(/[^0-9+]/g,""));const x=l&&l.length>0?V8(l):void 0,h=window.location.origin,w=Date.now(),v=`${h}/payment/success`,g=`${h}/payment/cancel`,y={amount:d,currency:"INR",receipt:i||`receipt_${w}_${Math.random().toString(36).substr(2,9)}`,customerName:m,customerEmail:f,customerContact:p,returnUrl:v,cancelUrl:g,cartHash:x,userId:o,timestamp:w,options:{method:{googlepay:!0,upi:!0,card:!0,netbanking:!0,wallet:!0}}},b=await me.tenantPost(`${$N()}api/1.0/payments/create-razorpay-hosted-checkout`,y);if(!b.data||!b.data.success)throw new Error(((c=b.data)==null?void 0:c.message)||"Failed to create payment checkout");const j=b.data.data;if(!j||!j.checkoutUrl||!j.orderId)throw new Error("Invalid response from payment server");const E={razorpayOrderId:j.orderId,amount:j.amount||d,originalAmount:e,timestamp:j.timestamp||w,expiry:w+30*60*1e3,sessionToken:j.sessionToken};try{sessionStorage.setItem("razorpay_checkout_session",JSON.stringify(E))}catch{}return{success:!0,data:{orderId:j.orderId,checkoutUrl:j.checkoutUrl,amount:j.amount||d,timestamp:j.timestamp||w,sessionToken:j.sessionToken},message:b.data.message}}catch(d){throw d}},Q8=Object.freeze(Object.defineProperty({__proto__:null,createRazorpayHostedCheckout:UN,verifyRazorpayReturn:async(e,t,a)=>{var n;try{if(!e||e.trim()==="")throw new Error("Order ID is required for payment verification");if(!t||t.trim()==="")throw new Error("Payment ID is required for payment verification");if(!a||a.trim()==="")throw new Error("Payment signature is required for verification");if(!e.startsWith("order_"))throw new Error("Invalid order ID format. Expected format: order_xxx");if(!t.startsWith("pay_"))throw new Error("Invalid payment ID format. Expected format: pay_xxx");let r=null,i=null;try{const c=sessionStorage.getItem("razorpay_checkout_session");c&&(r=JSON.parse(c),r.expiry&&Date.now()>r.expiry,r.razorpayOrderId&&r.razorpayOrderId);const d=sessionStorage.getItem("pending_razorpay_order");d&&(i=JSON.parse(d))}catch{}const l={orderId:e.trim(),paymentId:t.trim(),signature:a.trim(),sessionToken:r==null?void 0:r.sessionToken,amount:r==null?void 0:r.amount,internalOrderId:i==null?void 0:i.orderId,internalOrderNumber:i==null?void 0:i.orderNumber},o=await me.tenantPost(`${$N()}api/1.0/payments/verify-razorpay-payments`,l);if(!o.data)throw new Error("Invalid response from payment verification server");if(!o.data.data||!o.data.data.success){try{sessionStorage.removeItem("razorpay_checkout_session")}catch{}throw new Error(((n=o.data.data)==null?void 0:n.message)||o.data.exception||"Payment verification failed")}try{sessionStorage.removeItem("razorpay_checkout_session"),sessionStorage.removeItem("pending_razorpay_order")}catch{}return o.data.data}catch(r){throw r}}},Symbol.toStringTag,{value:"Module"})),Y8=(e,t,a=!0,n=!0,r=!0,i=!0)=>{const l=a&&!!e&&e>0&&!!t&&t>0;return bt({queryKey:["order",e,t,n,r,i],queryFn:async()=>{if(!e||!t)throw new Error("Order ID and Tenant ID are required");return await fe.getOrderById(e,t,n,r,i)},enabled:l,staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnMount:"always",refetchOnWindowFocus:!1,refetchOnReconnect:!1,retry:2,retryDelay:o=>Math.min(1e3*2**o,3e4)})},K8=()=>{var As;const e=pa(),{cart:t,clearCart:a}=vi(),{user:n}=Ze(),{showSuccess:r,showError:i}=qa(),l=1,o=u.useMemo(()=>t.reduce((V,Y)=>V+Y.product.price*Y.quantity,0),[t]),c=u.useMemo(()=>o>=l,[o]),d=u.useMemo(()=>[{id:0,name:"address",title:"Address",description:"Shipping & billing information",completed:!1,active:!0},{id:1,name:"payment",title:"Payment",description:"Payment method",completed:!1,active:!1},{id:2,name:"review",title:"Review",description:"Confirm your order",completed:!1,active:!1}],[]),[m,f]=u.useState(0),[p,x]=u.useState(d),[h,w]=u.useState({isGuest:!(n!=null&&n.userId),customerInfo:void 0,shippingAddress:null,billingAddress:null,sameBillingAddress:!0,shippingMethod:null,paymentMethod:null,creditCardInfo:null,appliedDiscount:null,orderNotes:""});u.useEffect(()=>{w(V=>({...V,isGuest:!(n!=null&&n.userId)}))},[n==null?void 0:n.userId]);const[v,g]=u.useState(null),[y,b]=u.useState({}),[j,E]=u.useState(!1),[k,S]=u.useState("Postal"),[N,M]=u.useState(2e3),[R,A]=u.useState(!1),[z,H]=u.useState(null),[oe,Q]=u.useState(!1),[I,D]=u.useState(null),[q,K]=u.useState(!1),ae=q8(V=>{var Ce;if(((Ce=h.paymentMethod)==null?void 0:Ce.type)==="razorpay"){E(!1);return}const Y=V.data;a(),E(!1),D(Y.orderId),Q(!0),K(!0)},V=>{var Y,Ce;E(!1),An(V)?i(((Ce=(Y=V.response)==null?void 0:Y.data)==null?void 0:Ce.message)||V.message||"Failed to place order. Please try again."):V instanceof Error?i(V.message||"Failed to place order. Please try again."):i("Failed to place order. Please try again.")}),ee=j||ae.isPending,[re,P]=u.useState(null),[J,ne]=u.useState(null),[C,W]=u.useState(null),[T,G]=u.useState(!1),[te,ve]=u.useState(!1),{data:xe,isLoading:At}=bt({queryKey:["user-addresses",n==null?void 0:n.userId],queryFn:async()=>{var Y;if(!(n!=null&&n.userId))throw new Error("User ID is required");const V=await fe.getMyAddresses(n.userId,!0);return((Y=V.data)==null?void 0:Y.data)||V.data||[]},enabled:!!(n!=null&&n.userId)&&!re,staleTime:3e5,gcTime:10*60*1e3,refetchOnWindowFocus:!1,refetchOnMount:!0,refetchOnReconnect:!1});u.useEffect(()=>{if(!te&&!re&&!At)if(!(n!=null&&n.userId))A(!0),ve(!0);else if(xe&&xe.length>0){A(!1),ve(!0);const V=xe.find(Y=>Y.isDefault===!0);if(V){const Y=typeof V.addressId=="number"?V.addressId:0,Ce=typeof V.userName=="string"?V.userName:"",ze=typeof V.userEmail=="string"?V.userEmail:"",Ue=typeof V.company=="string"?V.company:"",Xe=typeof V.street=="string"?V.street:"",ya=typeof V.addressLine2=="string"?V.addressLine2:"",ie=typeof V.city=="string"?V.city:"",_e=typeof V.state=="string"?V.state:"",Oe=typeof V.postalCode=="string"?V.postalCode:"",ht=typeof V.country=="string"?V.country:"IN",Ne=(Ce==null?void 0:Ce.split(" "))||[],Te=Ne[0]||(n==null?void 0:n.firstName)||"",at=Ne.slice(1).join(" ")||(n==null?void 0:n.lastName)||"";H(Y),w(Yt=>({...Yt,shippingAddress:{type:"shipping",firstName:Te,lastName:at,email:ze||(n==null?void 0:n.email)||"",phone:(n==null?void 0:n.phone)||"",company:Ue||"",address1:Xe||"",address2:ya||"",city:ie||"",state:_e||"",zipCode:Oe||"",country:ht||"IN"}})),$(0,!0)}}else xe&&xe.length===0&&(A(!0),ve(!0))},[xe,te,re,n,At]);const{data:Lt,isLoading:ls,error:ga}=Y8(re,(n==null?void 0:n.tenantId)||null,!!re&&!!(n!=null&&n.tenantId));u.useEffect(()=>{try{const V=sessionStorage.getItem("retry_payment_order_id");if(V){const Y=parseInt(V,10);isNaN(Y)||(P(Y),G(!0)),sessionStorage.removeItem("retry_payment_order_id")}}catch{}},[]),u.useEffect(()=>{var V;if((V=Lt==null?void 0:Lt.data)!=null&&V.success&&Lt.data.data){const Y=Lt.data.data;if(W(Y),G(!1),Y.paymentStatus==="paid"||Y.status==="paid"||Y.status==="confirmed"){i(`Order #${Y.orderNumber} is already paid. No payment needed.`),P(null),setTimeout(()=>{e("/orders")},2e3);return}if(Y.status!=="pending"&&Y.paymentStatus!=="pending"){i(`Order #${Y.orderNumber} cannot be retried. Current status: ${Y.status}`),P(null),setTimeout(()=>{e("/orders")},2e3);return}ne({orderId:Y.orderId,orderNumber:Y.orderNumber,amount:Y.totals.total}),Y.shippingAddress&&w(Ce=>({...Ce,shippingAddress:{type:"shipping",firstName:Y.shippingAddress.firstName,lastName:Y.shippingAddress.lastName,email:Y.shippingAddress.email,phone:Y.shippingAddress.phone,company:Y.shippingAddress.company||"",address1:Y.shippingAddress.address1,address2:Y.shippingAddress.address2||"",city:Y.shippingAddress.city,state:Y.shippingAddress.state,zipCode:Y.shippingAddress.zipCode,country:Y.shippingAddress.country},billingAddress:Y.billingAddress?{type:"billing",firstName:Y.billingAddress.firstName,lastName:Y.billingAddress.lastName,email:Y.billingAddress.email,phone:Y.billingAddress.phone,company:Y.billingAddress.company||"",address1:Y.billingAddress.address1,address2:Y.billingAddress.address2||"",city:Y.billingAddress.city,state:Y.billingAddress.state,zipCode:Y.billingAddress.zipCode,country:Y.billingAddress.country}:null,shippingMethod:Y.shippingMethod?{id:Y.shippingMethod.id,name:Y.shippingMethod.name,description:Y.shippingMethod.description,price:Y.shippingMethod.price,estimatedDays:Y.shippingMethod.estimatedDays,carrier:Y.shippingMethod.carrier||"Standard"}:null,appliedDiscount:Y.appliedDiscount?{code:Y.appliedDiscount.code,type:Y.appliedDiscount.type,value:Y.appliedDiscount.value,minAmount:Y.appliedDiscount.minAmount||0,active:Y.appliedDiscount.active,discountAmount:Y.appliedDiscount.discountAmount}:null,orderNotes:Y.notes||"",isGuest:Y.orderType==="guest"})),Y.totals&&g({subtotal:Y.totals.subtotal,shipping:Y.totals.shipping,tax:0,discount:Y.totals.discount,total:Y.totals.total}),w(Ce=>({...Ce,paymentMethod:{id:"razorpay",type:"razorpay",name:"Razorpay",icon:"",enabled:!0}})),r(`Retrying payment for Order #${Y.orderNumber}`)}else ga&&(G(!1),i("Failed to load order details. Please try again."),P(null))},[Lt,ga,r,i,e]),u.useEffect(()=>{if((t.length===0||!c)&&!q&&!oe&&!re&&!T){const V=setTimeout(()=>{e("/products")},100);return()=>clearTimeout(V)}},[t.length,c,e,q,oe,re,T]);const L=u.useMemo(()=>t.reduce((V,Y)=>V+Y.product.price*Y.quantity,0),[t]),Ee=V=>{var Ce;const Y=V;return Y.menu==="Seed"||(Ce=Y.categoryName)!=null&&Ce.includes("Seed")?"Seed":Y.menu==="Plant"||Y.menu==="Fruits"?"Plant":"Seed"};u.useEffect(()=>{var Ce;if(!((Ce=h.shippingAddress)!=null&&Ce.state))return;const V=h.shippingAddress.state,Y=setTimeout(()=>{var ht;if(!((ht=h.shippingAddress)!=null&&ht.state))return;const ze=dt(),Ue=t.filter(Ne=>Ee(Ne.product)==="Seed").reduce((Ne,Te)=>Ne+Te.product.price*Te.quantity,0),Xe=t.filter(Ne=>Ee(Ne.product)==="Plant").reduce((Ne,Te)=>Ne+Te.product.price*Te.quantity,0),ya=t.filter(Ne=>Ee(Ne.product)==="Seed").reduce((Ne,Te)=>Ne+Te.quantity,0),ie=t.filter(Ne=>Ee(Ne.product)==="Plant").reduce((Ne,Te)=>Ne+Te.quantity,0),_e=Ue+Xe,Oe=_e>=N?"Postal":k;fe.calculateMixedShipping({tenantId:ze,stateCode:V,courierType:Oe,seedSubtotal:Ue,plantSubtotal:Xe,seedQuantity:ya,plantQuantity:ie,totalSubtotal:_e}).then(Ne=>{const Te=(Ne==null?void 0:Ne.data)||Ne;if(Te&&(Te.shippingCharge!==void 0||Te.freeShipping!==void 0))Te.freeShippingThreshold&&Te.freeShippingThreshold>0&&Math.abs(Te.freeShippingThreshold-N)>.01&&M(Te.freeShippingThreshold),w(at=>{var Ma,ft;const Yt=Te.freeShipping===!0&&(Te.shippingCharge===0||Te.shippingCharge===null),Ta={id:Oe.toLowerCase(),name:Yt?"Free Shipping":Oe==="Postal"?"India Post":"Other Courier",description:Yt?"Free delivery - Standard postal service":Oe==="Postal"?"Standard postal service":"Private courier service",price:Te.shippingCharge||0,estimatedDays:Oe==="Postal"?"5-7 days":"3-5 days",carrier:Oe};return((Ma=at.shippingMethod)==null?void 0:Ma.price)!==Ta.price||((ft=at.shippingMethod)==null?void 0:ft.carrier)!==Ta.carrier?{...at,shippingMethod:Ta}:at});else{const at=_e>=N?"Postal":k,Yt=_e>=N;w(Ta=>({...Ta,shippingMethod:{id:at.toLowerCase(),name:Yt?"Free Shipping":at==="Postal"?"India Post":"Other Courier",description:Yt?"Free delivery - Standard postal service":at==="Postal"?"Standard postal service":"Private courier service",price:Yt?0:75,estimatedDays:at==="Postal"?"5-7 days":"3-5 days",carrier:at}}))}}).catch(Ne=>{const Te=_e>=N?"Postal":k,at=_e>=N;w(Yt=>({...Yt,shippingMethod:{id:Te.toLowerCase(),name:at?"Free Shipping":Te==="Postal"?"India Post":"Other Courier",description:at?"Free delivery - Standard postal service":Te==="Postal"?"Standard postal service":"Private courier service",price:at?0:75,estimatedDays:Te==="Postal"?"5-7 days":"3-5 days",carrier:Te}}))})},300);return()=>clearTimeout(Y)},[(As=h.shippingAddress)==null?void 0:As.state,k,t]),u.useEffect(()=>{var Ue;const V=((Ue=h.shippingMethod)==null?void 0:Ue.price)??0,Y=h.appliedDiscount?h.appliedDiscount.discountAmount!==void 0?h.appliedDiscount.discountAmount:h.appliedDiscount.type==="percentage"?L*(h.appliedDiscount.value/100):h.appliedDiscount.value:0,Ce=L+V-Y,ze=Math.max(0,Ce);g({subtotal:L,shipping:V,tax:0,discount:Y,total:ze})},[h.shippingMethod,h.appliedDiscount,h.paymentMethod,L]),u.useEffect(()=>{if(!h.appliedDiscount||j||q||oe)return;const V=L,Ce=h.appliedDiscount.lastValidatedAmount;if(Ce!==void 0&&Math.abs(V-Ce)<=1)return;(async()=>{var Ue,Xe,ya;try{const{getTenantId:ie}=await Xx(async()=>{const{getTenantId:Te}=await Promise.resolve().then(()=>s2);return{getTenantId:Te}},void 0),_e=ie(),Oe=n==null?void 0:n.userId,ht=await fe.validateCoupon({code:h.appliedDiscount.code,amount:V,userId:Oe,tenantId:_e}),Ne=((Ue=ht.data)==null?void 0:Ue.data)||ht.data;if((Xe=ht.data)!=null&&Xe.exception){w(Te=>({...Te,appliedDiscount:null})),i(ht.data.exception);return}if(Ne!=null&&Ne.valid&&(Ne==null?void 0:Ne.discountAmount)!==void 0&&(Ne==null?void 0:Ne.discountAmount)!==null){const Te={code:Ne.code||h.appliedDiscount.code,type:Ne.type||"fixed",value:Ne.value||Ne.discountAmount||0,active:!0,discountAmount:Ne.discountAmount,couponId:Ne.couponId||h.appliedDiscount.couponId,lastValidatedAmount:V};w(at=>({...at,appliedDiscount:Te}))}else w(Te=>({...Te,appliedDiscount:null})),i((Ne==null?void 0:Ne.message)||"Coupon is no longer valid with the updated order amount.")}catch(ie){w(Oe=>({...Oe,appliedDiscount:null}));let _e="Coupon validation failed. Please re-apply if applicable.";if(An(ie)){const Oe=(ya=ie.response)==null?void 0:ya.data;_e=(Oe==null?void 0:Oe.exception)||(Oe==null?void 0:Oe.message)||ie.message||_e}else ie instanceof Error&&(_e=ie.message||_e);i(_e)}})()},[L,j,q,oe]);const $=u.useCallback((V,Y)=>{b(Ce=>({...Ce,[V]:Y})),x(Ce=>Ce.map(ze=>ze.id===V?{...ze,completed:Y}:ze))},[]);u.useEffect(()=>{C&&re&&($(0,!0),$(1,!0))},[C,re,$]);const be=u.useMemo(()=>re&&C&&C.items&&C.items.length>0?C.items.map(V=>({id:`order-item-${V.orderItemId}`,product:{productId:V.productId,productName:V.productName,productCode:V.productCode,price:V.price,productImage:V.productImage,tenantId:C.tenantId,productDescription:"",fullDescription:"",specification:"",story:"",packQuantity:1,quantity:100,total:100,categrory:0,rating:0,active:!0,trending:0,userBuyCount:0,return:30,created:"",modified:"",in_stock:!0,best_seller:!1,deleveryDate:7,offer:"0%",orderBy:1,userId:C.userId,overview:"",long_description:"",images:[]},quantity:V.quantity})):t,[re,C,t]),Pe=V=>{V>m&&!y[m]||(f(V),x(Y=>Y.map((Ce,ze)=>({...Ce,active:ze===V}))))},U=()=>{if(m<d.length-1&&y[m]){const V=m===0?1:m+1;if(m===0&&!h.shippingAddress){i("Please provide a shipping address before proceeding.");return}Pe(V)}else m<d.length-1&&!y[m]&&(m===0?i("Please complete your shipping address before proceeding."):m===1&&i("Please select a payment method before proceeding."))},ce=()=>{if(m>0){const V=m===1?0:m-1;Pe(V)}},B=u.useCallback(V=>{w(Y=>({...Y,shippingAddress:V,billingAddress:V}))},[]),Z=V=>{w(Y=>({...Y,paymentMethod:V})),(V.type==="razorpay"||V.type==="google_pay")&&$(1,!0)},ge=V=>{w(Y=>({...Y,creditCardInfo:V}))},we=u.useCallback(async V=>{var Y,Ce;try{const{getTenantId:ze}=await Xx(async()=>{const{getTenantId:ht}=await Promise.resolve().then(()=>s2);return{getTenantId:ht}},void 0),Ue=ze(),Xe=n==null?void 0:n.userId;$u.debug("Validating coupon",{code:V,amount:L,userId:Xe,tenantId:Ue},"Checkout");const ya=L,ie=await fe.validateCoupon({code:V,amount:ya,userId:Xe||void 0,tenantId:Ue});$u.debug("Coupon validation response",ie,"Checkout");const _e=ie.data,Oe=(_e==null?void 0:_e.data)||_e;if(ie.exception)return i(ie.exception),null;if(!Oe)return i("Invalid response from server. Please try again."),null;if(Oe.valid&&Oe.discountAmount!==void 0&&Oe.discountAmount!==null){const ht={code:Oe.code||V,type:Oe.type||"fixed",value:Oe.value||Oe.discountAmount||0,active:!0,discountAmount:Oe.discountAmount,couponId:Oe.couponId||void 0};return w(Ne=>({...Ne,appliedDiscount:ht})),r(Oe.message||"Coupon applied successfully!"),ht}else{const ht=Oe.message||"Invalid or expired coupon code. Please check the code and try again.";return i(ht),null}}catch(ze){let Ue="Failed to apply coupon code. Please try again.";if(An(ze)){const Xe=(Y=ze.response)==null?void 0:Y.data;Ue=(Xe==null?void 0:Xe.exception)||((Ce=Xe==null?void 0:Xe.data)==null?void 0:Ce.message)||(Xe==null?void 0:Xe.message)||ze.message||Ue}else ze instanceof Error&&(Ue=ze.message||Ue);return i(Ue),null}},[L,n==null?void 0:n.userId,r,i]),_=()=>{w(V=>({...V,appliedDiscount:null}))},le=()=>{Q(!1),D(null),K(!1),e("/")},se=async()=>{if(!h.shippingAddress){i("Please provide a shipping address before placing your order."),Pe(0);return}if(!h.paymentMethod){i("Please select a payment method before placing your order."),Pe(1);return}if(!h.shippingMethod){i("Shipping charges are being calculated. Please wait a moment and try again.");return}const V=h.shippingMethod.price,Y=h.appliedDiscount?h.appliedDiscount.discountAmount!==void 0?h.appliedDiscount.discountAmount:h.appliedDiscount.type==="percentage"?L*(h.appliedDiscount.value/100):h.appliedDiscount.value:0,Ce=Math.max(0,L+V-Y);if(!v||Math.abs(v.total-Ce)>.01){const ze={subtotal:L,shipping:V,tax:0,discount:Y,total:Ce};g(ze),await De(ze);return}if(Math.abs(v.total-Ce)>.01){i("Order total mismatch detected. Recalculating...");const ze={subtotal:L,shipping:V,tax:0,discount:Y,total:Ce};g(ze),await De(ze);return}await De(v)},De=async V=>{var Y,Ce,ze,Ue,Xe,ya,ie,_e,Oe,ht,Ne,Te,at,Yt,Ta,Ma,ft,lt,Ot,Oa,os,Fr,a4,s4,n4,r4,i4,l4,o4,c4,d4,u4,m4,p4,h4,f4,x4,g4,y4,b4,v4,j4,w4,N4,S4,C4,E4,k4,A4,T4,M4,O4,_4,R4,D4,L4,I4,z4,$4,U4,F4,q4,P4,B4,H4,V4,G4,Q4,Y4,K4,W4,X4;if(!h.paymentMethod){i("Payment method is required. Please select a payment method."),E(!1);return}if(h.paymentMethod.type==="cod"){E(!0);try{if(!t||t.length===0)throw new Error("Cart is empty. Please add items before checkout.");if(!h.shippingAddress||!h.shippingAddress.firstName||!h.shippingAddress.address1||!h.shippingAddress.city||!h.shippingAddress.zipCode)throw new Error("Please complete your shipping address before proceeding.");const It={userId:(n==null?void 0:n.userId)||1,tenantId:(n==null?void 0:n.tenantId)||ua,sessionId:`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,orderType:h.isGuest?"guest":"registered",items:t.map(He=>({productId:He.product.productId,productName:He.product.productName,productCode:He.product.productCode||"",productImage:Tc(He.product),price:He.product.price,quantity:He.quantity,total:He.product.price*He.quantity})),shippingAddress:{firstName:((Y=h.shippingAddress)==null?void 0:Y.firstName)||"",lastName:((Ce=h.shippingAddress)==null?void 0:Ce.lastName)||"",email:((ze=h.shippingAddress)==null?void 0:ze.email)||(n==null?void 0:n.email)||"",phone:((Ue=h.shippingAddress)==null?void 0:Ue.phone)||(n==null?void 0:n.phone)||"",company:((Xe=h.shippingAddress)==null?void 0:Xe.company)||"",address1:((ya=h.shippingAddress)==null?void 0:ya.address1)||"",address2:((ie=h.shippingAddress)==null?void 0:ie.address2)||"",city:((_e=h.shippingAddress)==null?void 0:_e.city)||"",state:((Oe=h.shippingAddress)==null?void 0:Oe.state)||"",zipCode:((ht=h.shippingAddress)==null?void 0:ht.zipCode)||"",country:((Ne=h.shippingAddress)==null?void 0:Ne.country)||"IN"},paymentMethod:{id:h.paymentMethod.id,type:h.paymentMethod.type,name:h.paymentMethod.name},shippingMethod:{id:((Te=h.shippingMethod)==null?void 0:Te.id)||"standard",name:((at=h.shippingMethod)==null?void 0:at.name)||"Standard Shipping",description:((Yt=h.shippingMethod)==null?void 0:Yt.description)||"5-7 business days",price:((Ta=h.shippingMethod)==null?void 0:Ta.price)??0,estimatedDays:((Ma=h.shippingMethod)==null?void 0:Ma.estimatedDays)||"5-7 days",carrier:((ft=h.shippingMethod)==null?void 0:ft.carrier)||"Standard"},totals:{subtotal:V.subtotal,shipping:V.shipping,tax:0,discount:V.discount||0,total:V.total,currency:"INR"},couponId:((lt=h.appliedDiscount)==null?void 0:lt.couponId)||void 0,couponCode:((Ot=h.appliedDiscount)==null?void 0:Ot.code)||void 0,appliedDiscount:h.appliedDiscount?{couponId:h.appliedDiscount.couponId,code:h.appliedDiscount.code,type:h.appliedDiscount.type,value:h.appliedDiscount.value,minAmount:h.appliedDiscount.minAmount||0,active:h.appliedDiscount.active,discountAmount:h.appliedDiscount.discountAmount}:void 0,notes:h.orderNotes||"",specialInstructions:h.orderNotes||"",status:"pending",paymentStatus:"pending",orderDate:new Date().toISOString(),source:"web",userAgent:navigator.userAgent,ipAddress:"",referrer:document.referrer||""};if(!It.items||It.items.length===0)throw new Error("Order must contain at least one item");if(!((Oa=It.shippingAddress)!=null&&Oa.address1)||!((os=It.shippingAddress)!=null&&os.city))throw new Error("Shipping address is incomplete");await ae.mutateAsync(It)}catch(It){let He="Failed to place order. Please try again.";if(An(It)){const zt=(Fr=It.response)==null?void 0:Fr.data;zt&&typeof zt=="object"?"message"in zt&&typeof zt.message=="string"?He=zt.message:"error"in zt&&typeof zt.error=="string"?He=zt.error:"errors"in zt&&(Array.isArray(zt.errors)?He=zt.errors.map(Ts=>typeof Ts=="string"?Ts:Ts&&typeof Ts=="object"&&"message"in Ts?String(Ts.message):JSON.stringify(Ts)).join(", "):typeof zt.errors=="object"&&zt.errors!==null&&(He=Object.entries(zt.errors).map(([Bi,Bn])=>{const e0=Array.isArray(Bn)?Bn.join(", "):String(Bn);return`${Bi}: ${e0}`}).join("; ")||He)):He=It.message||He}else It instanceof Error&&(He=It.message||He);E(!1),i(He)}return}if(h.paymentMethod.type==="razorpay"){try{if(E(!0),!re&&(!t||t.length===0))throw new Error("Cart is empty. Please add items before checkout.");if(!h.shippingAddress||!h.shippingAddress.firstName||!h.shippingAddress.address1||!h.shippingAddress.city||!h.shippingAddress.zipCode)throw new Error("Please complete your shipping address before proceeding.");if(re&&C){if(Math.abs(V.total-C.totals.total)>.01)throw new Error(`Order total mismatch. Expected ${C.totals.total.toFixed(2)}, but got ${V.total.toFixed(2)}. Please refresh and try again.`);if(Math.abs(V.subtotal-C.totals.subtotal)>.01)throw new Error(`Order subtotal mismatch. Expected ${C.totals.subtotal.toFixed(2)}, but got ${V.subtotal.toFixed(2)}. Please refresh and try again.`)}else{const ba=t.reduce((Ms,Hn)=>Ms+Hn.product.price*Hn.quantity,0),va=h.appliedDiscount?h.appliedDiscount.discountAmount!==void 0?h.appliedDiscount.discountAmount:h.appliedDiscount.type==="percentage"?ba*(h.appliedDiscount.value/100):h.appliedDiscount.value:0,cs=((a4=h.shippingMethod)==null?void 0:a4.price)||0,wm=Math.max(0,ba+cs-va),Yc=.01;if(Math.abs(V.total-wm)>Yc)throw new Error(`Order total mismatch. Expected ${wm.toFixed(2)}, but got ${V.total.toFixed(2)}. Please refresh and try again.`);if(Math.abs(V.subtotal-ba)>Yc)throw new Error(`Cart subtotal mismatch. Expected ${ba.toFixed(2)}, but got ${V.subtotal.toFixed(2)}. Please refresh and try again.`);if(Math.abs(V.shipping-cs)>Yc)throw new Error(`Shipping cost mismatch. Expected ${cs.toFixed(2)}, but got ${V.shipping.toFixed(2)}. Please refresh and try again.`);if(Math.abs(V.discount-va)>Yc)throw new Error(`Discount amount mismatch. Expected ${va.toFixed(2)}, but got ${V.discount.toFixed(2)}. Please refresh and try again.`)}const It=sessionStorage.getItem("last_checkout_attempt");if(It&&Date.now()-parseInt(It,10)<2e3)throw new Error("Please wait a moment before trying again.");sessionStorage.setItem("last_checkout_attempt",Date.now().toString());let He=null,zt=null,Ts=null;if(re&&J){if(He=J.orderId,zt=J.orderNumber,Ts=J.amount,C&&(C.paymentStatus==="paid"||C.status==="paid"||C.status==="confirmed"))throw new Error(`Order #${zt} is already paid. No payment needed.`);if(Math.abs(V.total-Ts)>.01)throw new Error(`Order amount mismatch. Expected ${Ts.toFixed(2)}, but cart total is ${V.total.toFixed(2)}. Please refresh and try again.`)}let Bi,Bn;if(He&&zt)Bi=He,Bn=zt,r(`Retrying payment for Order #${Bn}`);else{const ba={userId:(n==null?void 0:n.userId)||1,tenantId:(n==null?void 0:n.tenantId)||ua,sessionId:`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,orderType:h.isGuest?"guest":"registered",items:t.map(cs=>({productId:cs.product.productId,productName:cs.product.productName,productCode:cs.product.productCode||"",productImage:Tc(cs.product),price:cs.product.price,quantity:cs.quantity,total:cs.product.price*cs.quantity})),shippingAddress:{firstName:((s4=h.shippingAddress)==null?void 0:s4.firstName)||"",lastName:((n4=h.shippingAddress)==null?void 0:n4.lastName)||"",email:((r4=h.shippingAddress)==null?void 0:r4.email)||"",phone:((i4=h.shippingAddress)==null?void 0:i4.phone)||"",company:((l4=h.shippingAddress)==null?void 0:l4.company)||"",address1:((o4=h.shippingAddress)==null?void 0:o4.address1)||"",address2:((c4=h.shippingAddress)==null?void 0:c4.address2)||"",city:((d4=h.shippingAddress)==null?void 0:d4.city)||"",state:((u4=h.shippingAddress)==null?void 0:u4.state)||"",zipCode:((m4=h.shippingAddress)==null?void 0:m4.zipCode)||"",country:((p4=h.shippingAddress)==null?void 0:p4.country)||"IN"},paymentMethod:{id:h.paymentMethod.id,type:h.paymentMethod.type,name:h.paymentMethod.name},shippingMethod:{id:((h4=h.shippingMethod)==null?void 0:h4.id)||"standard",name:((f4=h.shippingMethod)==null?void 0:f4.name)||"Standard Shipping",description:((x4=h.shippingMethod)==null?void 0:x4.description)||"5-7 business days",price:((g4=h.shippingMethod)==null?void 0:g4.price)??0,estimatedDays:((y4=h.shippingMethod)==null?void 0:y4.estimatedDays)||"5-7 days",carrier:((b4=h.shippingMethod)==null?void 0:b4.carrier)||"Standard"},totals:{subtotal:V.subtotal,shipping:V.shipping,tax:0,discount:V.discount||0,total:V.total,currency:"INR"},couponId:((v4=h.appliedDiscount)==null?void 0:v4.couponId)||void 0,couponCode:((j4=h.appliedDiscount)==null?void 0:j4.code)||void 0,appliedDiscount:h.appliedDiscount?{couponId:h.appliedDiscount.couponId,code:h.appliedDiscount.code,type:h.appliedDiscount.type,value:h.appliedDiscount.value,minAmount:h.appliedDiscount.minAmount||0,active:h.appliedDiscount.active,discountAmount:h.appliedDiscount.discountAmount}:void 0,notes:h.orderNotes||"",specialInstructions:h.orderNotes||"",status:"pending",paymentStatus:"pending",orderDate:new Date().toISOString(),source:"web",userAgent:navigator.userAgent,ipAddress:"",referrer:document.referrer||""},va=await ae.mutateAsync(ba);if(!va||!va.data||!va.data.orderId)throw new Error("Failed to create order. Please try again.");Bi=va.data.orderId,Bn=va.data.orderNumber||`ORD-${Bi}`}const e0={orderId:Bi,orderNumber:Bn,amount:V.total,timestamp:Date.now(),expiry:Date.now()+30*60*1e3};try{sessionStorage.setItem("pending_razorpay_order",JSON.stringify(e0))}catch{}const qr=await UN(V.total,"INR",`${((w4=h.shippingAddress)==null?void 0:w4.firstName)||""} ${((N4=h.shippingAddress)==null?void 0:N4.lastName)||""}`.trim()||void 0,((S4=h.shippingAddress)==null?void 0:S4.email)||(n==null?void 0:n.email)||void 0,((C4=h.shippingAddress)==null?void 0:C4.phone)||void 0,Bn,t,n==null?void 0:n.userId);if(qr&&qr.success&&qr.data&&qr.data.checkoutUrl){const ba=qr.data.checkoutUrl;try{let va;if(typeof ba=="string"){if(ba.startsWith("http")){window.location.href=ba;return}va=JSON.parse(ba)}else va=ba;if(await new Promise((Ms,Hn)=>{if(typeof window.Razorpay<"u"){Ms();return}const ds=document.createElement("script");if(ds.src="https://checkout.razorpay.com/v1/checkout.js",ds.async=!0,ds.onload=()=>{let us=0;const Pr=setInterval(()=>{us++,typeof window.Razorpay<"u"?(clearInterval(Pr),Ms()):us>20&&(clearInterval(Pr),Hn(new Error("Razorpay SDK failed to load after timeout")))},100)},ds.onerror=()=>{Hn(new Error("Failed to load Razorpay SDK script"))},document.querySelector('script[src="https://checkout.razorpay.com/v1/checkout.js"]')){let us=0;const Pr=setInterval(()=>{us++,typeof window.Razorpay<"u"?(clearInterval(Pr),Ms()):us>30&&(clearInterval(Pr),Hn(new Error("Razorpay SDK not available. Please refresh the page.")))},100)}else document.head.appendChild(ds)}),typeof window.Razorpay>"u")throw new Error("Razorpay SDK not loaded. Please refresh the page.");const wm={...va,handler:async function(Ms){var Hn;try{const{verifyRazorpayReturn:ds}=await Xx(async()=>{const{verifyRazorpayReturn:us}=await Promise.resolve().then(()=>Q8);return{verifyRazorpayReturn:us}},void 0),Ps=await ds(Ms.razorpay_order_id,Ms.razorpay_payment_id,Ms.razorpay_signature);if(Ps.success){const us=Ps.paymentStatus||"paid";w(t0=>({...t0,paymentMethod:t0.paymentMethod?{...t0.paymentMethod,paymentId:Ms.razorpay_payment_id,razorpayOrderId:Ms.razorpay_order_id,signature:Ms.razorpay_signature,paymentStatus:us}:null})),a();const Pr=Ps.orderId||Bi;if(!Pr)throw new Error("Order ID not found. Payment verified but unable to display order details.");D(Pr),Q(!0),E(!1)}else throw new Error(Ps.message||"Payment verification failed")}catch(ds){let Ps="Payment verification failed. Please contact support.";if(An(ds)){const us=(Hn=ds.response)==null?void 0:Hn.data;Ps=(us==null?void 0:us.message)||ds.message||Ps}else ds instanceof Error&&(Ps=ds.message||Ps);i(Ps),E(!1)}},modal:{ondismiss:function(){i("Payment cancelled. Please try again when ready."),E(!1)}}};new window.Razorpay(wm).open()}catch(va){throw $u.error("Error parsing checkout config",va,{checkoutUrl:ba},"Checkout"),new Error(`Invalid checkout configuration: ${va.message||"Failed to parse checkout URL"}`)}}else throw new Error((qr==null?void 0:qr.message)||"Failed to create payment checkout")}catch(It){E(!1);let He="Failed to initialize payment. Please try again.";if(An(It)){const zt=(E4=It.response)==null?void 0:E4.data;He=(zt==null?void 0:zt.message)||It.message||He}else It instanceof Error&&(He=It.message||He);i(He)}return}E(!0);try{const It={userId:(n==null?void 0:n.userId)||1,tenantId:(n==null?void 0:n.tenantId)||ua,sessionId:"",orderType:h.isGuest?"guest":"registered",items:t.map(He=>({productId:He.product.productId,productName:He.product.productName,productCode:He.product.productCode||"",productImage:Tc(He.product),price:He.product.price,quantity:He.quantity,total:He.product.price*He.quantity})),shippingAddress:{firstName:((k4=h.shippingAddress)==null?void 0:k4.firstName)||"",lastName:((A4=h.shippingAddress)==null?void 0:A4.lastName)||"",email:((T4=h.shippingAddress)==null?void 0:T4.email)||"",phone:((M4=h.shippingAddress)==null?void 0:M4.phone)||"",company:((O4=h.shippingAddress)==null?void 0:O4.company)||"",address1:((_4=h.shippingAddress)==null?void 0:_4.address1)||"",address2:((R4=h.shippingAddress)==null?void 0:R4.address2)||"",city:((D4=h.shippingAddress)==null?void 0:D4.city)||"",state:((L4=h.shippingAddress)==null?void 0:L4.state)||"",zipCode:((I4=h.shippingAddress)==null?void 0:I4.zipCode)||"",country:((z4=h.shippingAddress)==null?void 0:z4.country)||"IN"},paymentMethod:{id:h.paymentMethod.id,type:h.paymentMethod.type,name:h.paymentMethod.name,...h.paymentMethod.type==="google_pay"&&h.paymentMethod.paymentId&&{razorpayPaymentId:h.paymentMethod.paymentId,razorpayOrderId:h.paymentMethod.razorpayOrderId,razorpaySignature:h.paymentMethod.signature},cardNumber:(($4=h.creditCardInfo)==null?void 0:$4.cardNumber)||"",expiryMonth:((U4=h.creditCardInfo)==null?void 0:U4.expiryMonth)||"",expiryYear:((F4=h.creditCardInfo)==null?void 0:F4.expiryYear)||"",cvv:((q4=h.creditCardInfo)==null?void 0:q4.cvv)||"",cardholderName:((P4=h.creditCardInfo)==null?void 0:P4.cardholderName)||""},shippingMethod:{id:((B4=h.shippingMethod)==null?void 0:B4.id)||"standard",name:((H4=h.shippingMethod)==null?void 0:H4.name)||"Standard Shipping",description:((V4=h.shippingMethod)==null?void 0:V4.description)||"5-7 business days",price:((G4=h.shippingMethod)==null?void 0:G4.price)??0,estimatedDays:((Q4=h.shippingMethod)==null?void 0:Q4.estimatedDays)||"5-7 days",carrier:((Y4=h.shippingMethod)==null?void 0:Y4.carrier)||"Standard"},totals:{subtotal:V.subtotal,shipping:V.shipping,tax:V.tax||0,discount:V.discount||0,total:V.total,currency:"INR"},couponId:((K4=h.appliedDiscount)==null?void 0:K4.couponId)||void 0,couponCode:((W4=h.appliedDiscount)==null?void 0:W4.code)||void 0,appliedDiscount:h.appliedDiscount?{couponId:h.appliedDiscount.couponId,code:h.appliedDiscount.code,type:h.appliedDiscount.type,value:h.appliedDiscount.value,minAmount:h.appliedDiscount.minAmount||0,active:h.appliedDiscount.active,discountAmount:h.appliedDiscount.discountAmount}:void 0,notes:h.orderNotes||"Handle with care",specialInstructions:h.orderNotes||"",status:"pending",paymentStatus:((X4=h.paymentMethod)==null?void 0:X4.paymentStatus)==="paid"?"paid":"pending",orderDate:new Date().toISOString(),source:"web",userAgent:navigator.userAgent,ipAddress:"",referrer:document.referrer||""};await ae.mutateAsync(It)}catch{E(!1)}},Be=()=>{var V,Y,Ce,ze,Ue,Xe,ya;switch(m){case 0:return s.jsxs("div",{className:"space-y-8",children:[(n==null?void 0:n.userId)&&At&&!te&&s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading your addresses..."})]})}),n!=null&&n.userId&&!At&&xe&&xe.length>0&&!R?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[s.jsxs("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Select Delivery Address"]}),s.jsxs("button",{type:"button",onClick:()=>{A(!0),H(null),w(ie=>({...ie,shippingAddress:null})),$(0,!1)},className:"text-sm text-green-600 hover:text-green-800 font-medium flex items-center gap-1",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add New Address"]})]}),s.jsx("div",{className:"space-y-4",children:xe.map(ie=>{const _e=typeof ie.addressId=="number"?ie.addressId:0,Oe=typeof ie.userName=="string"?ie.userName:"",ht=typeof ie.userEmail=="string"?ie.userEmail:"",Ne=typeof ie.company=="string"?ie.company:"",Te=typeof ie.street=="string"?ie.street:"",at=typeof ie.addressLine2=="string"?ie.addressLine2:"",Yt=typeof ie.city=="string"?ie.city:"",Ta=typeof ie.state=="string"?ie.state:"",Ma=typeof ie.postalCode=="string"?ie.postalCode:"",ft=typeof ie.country=="string"?ie.country:"IN",lt=typeof ie.isDefault=="boolean"?ie.isDefault:!1;return s.jsx("div",{className:`border-2 rounded-lg p-4 cursor-pointer transition-all hover:shadow-md ${z===_e?"border-green-500 bg-green-50 shadow-md":"border-gray-200 hover:border-gray-300 bg-white"}`,onClick:()=>{H(_e);const Ot=(Oe==null?void 0:Oe.split(" "))||[],Oa=Ot[0]||(n==null?void 0:n.firstName)||"",os=Ot.slice(1).join(" ")||(n==null?void 0:n.lastName)||"";w(Fr=>({...Fr,shippingAddress:{type:"shipping",firstName:Oa,lastName:os,email:ht||(n==null?void 0:n.email)||"",phone:(n==null?void 0:n.phone)||"",company:Ne||"",address1:Te||"",address2:at||"",city:Yt||"",state:Ta||"",zipCode:Ma||"",country:ft||"IN"}})),$(0,!0)},children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex-1 flex items-center gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:z===_e?s.jsx("div",{className:"w-6 h-6 bg-green-600 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}):s.jsx("div",{className:"w-6 h-6 border-2 border-gray-300 rounded-full"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("p",{className:"font-semibold text-gray-900",children:Oe||`${(n==null?void 0:n.firstName)||""} ${(n==null?void 0:n.lastName)||""}`.trim()||"Address"}),lt&&s.jsx("span",{className:"inline-block bg-green-100 text-green-800 text-xs font-semibold px-2 py-0.5 rounded",children:"Default"}),z===_e&&s.jsx("span",{className:"inline-block bg-green-100 text-green-800 text-xs font-semibold px-2 py-0.5 rounded",children:"Selected"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-gray-600",children:[s.jsx("span",{children:Te}),at&&s.jsxs("span",{children:[", ",at]}),s.jsx("span",{children:""}),s.jsxs("span",{children:[Yt,", ",Ta," ",Ma]}),s.jsx("span",{children:""}),s.jsx("span",{children:ft}),ht&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsx("span",{className:"text-gray-500",children:ht})]})]})]})]})})},_e)})})]}):s.jsxs(s.Fragment,{children:[(n==null?void 0:n.userId)&&(!xe||xe.length===0)&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 mb-6",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"No Saved Addresses"}),s.jsx("p",{className:"text-sm text-blue-700",children:"Add a delivery address to continue with your order."})]})})}),(n==null?void 0:n.userId)&&xe&&xe.length>0&&s.jsx("div",{className:"mb-4",children:s.jsxs("button",{type:"button",onClick:()=>{A(!1),H(null),w(_e=>({..._e,shippingAddress:null})),$(0,!1);const ie=xe.find(_e=>_e.isDefault===!0);if(ie){const _e=typeof ie.addressId=="number"?ie.addressId:0,Oe=typeof ie.userName=="string"?ie.userName:"",ht=typeof ie.userEmail=="string"?ie.userEmail:"",Ne=typeof ie.company=="string"?ie.company:"",Te=typeof ie.street=="string"?ie.street:"",at=typeof ie.addressLine2=="string"?ie.addressLine2:"",Yt=typeof ie.city=="string"?ie.city:"",Ta=typeof ie.state=="string"?ie.state:"",Ma=typeof ie.postalCode=="string"?ie.postalCode:"",ft=typeof ie.country=="string"?ie.country:"IN",lt=(Oe==null?void 0:Oe.split(" "))||[],Ot=lt[0]||(n==null?void 0:n.firstName)||"",Oa=lt.slice(1).join(" ")||(n==null?void 0:n.lastName)||"";H(_e),w(os=>({...os,shippingAddress:{type:"shipping",firstName:Ot,lastName:Oa,email:ht||(n==null?void 0:n.email)||"",phone:(n==null?void 0:n.phone)||"",company:Ne||"",address1:Te||"",address2:at||"",city:Yt||"",state:Ta||"",zipCode:Ma||"",country:ft||"IN"}})),$(0,!0)}},className:"text-sm text-green-600 hover:text-green-800 font-medium flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Saved Addresses"]})}),s.jsx(DN,{address:h.shippingAddress,type:"shipping",onAddressChange:B,onValidationChange:ie=>$(0,ie),isSubmitting:ee})]}),((V=h.shippingAddress)==null?void 0:V.state)&&v&&L<N&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[s.jsxs("label",{className:"block text-base font-semibold text-gray-900 mb-4",children:["Courier Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:k,onChange:async ie=>{var Oe;const _e=ie.target.value;if(S(_e),(Oe=h.shippingAddress)!=null&&Oe.state){const ht=dt(),Ne=h.shippingAddress.state,Te=t.filter(lt=>Ee(lt.product)==="Seed").reduce((lt,Ot)=>lt+Ot.product.price*Ot.quantity,0),at=t.filter(lt=>Ee(lt.product)==="Plant").reduce((lt,Ot)=>lt+Ot.product.price*Ot.quantity,0),Yt=t.filter(lt=>Ee(lt.product)==="Seed").reduce((lt,Ot)=>lt+Ot.quantity,0),Ta=t.filter(lt=>Ee(lt.product)==="Plant").reduce((lt,Ot)=>lt+Ot.quantity,0),Ma=Te+at,ft=Ma>=N?"Postal":_e;try{const lt=await fe.calculateMixedShipping({tenantId:ht,stateCode:Ne,courierType:ft,seedSubtotal:Te,plantSubtotal:at,seedQuantity:Yt,plantQuantity:Ta,totalSubtotal:Ma}),Ot=(lt==null?void 0:lt.data)||lt,Oa=Ot;if(Ot&&(Oa.shippingCharge!==void 0||Oa.freeShipping!==void 0)){const os=Oa.freeShipping===!0&&(Oa.shippingCharge===0||Oa.shippingCharge===null);w(Fr=>({...Fr,shippingMethod:{id:ft.toLowerCase(),name:os?"Free Shipping":ft==="Postal"?"India Post":"Other Courier",description:os?"Free delivery - Standard postal service":ft==="Postal"?"Standard postal service":"Private courier service",price:Oa.shippingCharge||0,estimatedDays:ft==="Postal"?"5-7 days":"3-5 days",carrier:ft}}))}else{const os=Ma>=N;w(Fr=>({...Fr,shippingMethod:{id:ft.toLowerCase(),name:os?"Free Shipping":ft==="Postal"?"India Post":"Other Courier",description:os?"Free delivery - Standard postal service":ft==="Postal"?"Standard postal service":"Private courier service",price:os?0:75,estimatedDays:ft==="Postal"?"5-7 days":"3-5 days",carrier:ft}}))}}catch{const Ot=Ma>=N;w(Oa=>({...Oa,shippingMethod:{id:ft.toLowerCase(),name:Ot?"Free Shipping":ft==="Postal"?"India Post":"Other Courier",description:Ot?"Free delivery - Standard postal service":ft==="Postal"?"Standard postal service":"Private courier service",price:Ot?0:75,estimatedDays:ft==="Postal"?"5-7 days":"3-5 days",carrier:ft}}))}}},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",disabled:ee,children:[s.jsx("option",{value:"Postal",children:"India Post (Postal) - Standard postal service"}),s.jsx("option",{value:"Other",children:"Other Courier - Private courier service"})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:k==="Postal"?"Standard postal service with 5-7 business days delivery":"Private courier service with 3-5 business days delivery"})]}),((Y=h.shippingAddress)==null?void 0:Y.state)&&v&&L>=N&&s.jsx("div",{className:"bg-green-50 border-2 border-green-300 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg flex-shrink-0",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-base font-semibold text-green-800 mb-2",children:" FREE DELIVERY Applied!"}),s.jsx("p",{className:"text-sm text-green-700",children:"Your order qualifies for free shipping. Delivery charges have been waived. Standard delivery service will be used."})]})]})}),((Ce=h.shippingAddress)==null?void 0:Ce.state)&&v&&L>0&&s.jsx("div",{className:`rounded-xl p-5 border-2 transition-all ${L>=N?"bg-green-50 border-green-300":"bg-yellow-50 border-yellow-300"}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`p-2 rounded-lg flex-shrink-0 ${L>=N?"bg-green-100":"bg-yellow-100"}`,children:L>=N?s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):s.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("div",{className:"flex-1",children:L>=N?s.jsxs("div",{children:[s.jsx("p",{className:"text-base font-semibold text-green-800 mb-1",children:" Congratulations! You've qualified for FREE DELIVERY!"}),s.jsxs("p",{className:"text-sm text-green-700",children:["Your order value is ",ye(L),", which qualifies for free shipping. No delivery charges will be applied."]})]}):s.jsxs("div",{children:[s.jsx("p",{className:"text-base font-semibold text-yellow-800 mb-1",children:" Get FREE Delivery!"}),s.jsxs("p",{className:"text-sm text-yellow-700 mb-2",children:["Add ",s.jsxs("strong",{className:"font-bold text-yellow-900",children:["",ye(N-L)]})," more to your order to qualify for FREE delivery!"]}),s.jsx("div",{className:"w-full bg-yellow-200 rounded-full h-2.5 mt-3",children:s.jsx("div",{className:"bg-yellow-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${Math.min(100,L/N*100)}%`}})}),s.jsxs("p",{className:"text-xs text-yellow-600 mt-2",children:[(L/N*100).toFixed(0),"% of way to free delivery"]})]})})]})})]});case 1:return s.jsxs("div",{className:"space-y-8",children:[s.jsx(B8,{selectedPaymentMethod:h.paymentMethod,creditCardInfo:h.creditCardInfo,onPaymentMethodChange:Z,onCreditCardChange:ge,onValidationChange:ie=>$(1,ie),isSubmitting:ee,totalAmount:(v==null?void 0:v.total)||0,userEmail:(n==null?void 0:n.email)||((ze=h.shippingAddress)==null?void 0:ze.email)||"",userName:`${((Ue=h.shippingAddress)==null?void 0:Ue.firstName)||""} ${((Xe=h.shippingAddress)==null?void 0:Xe.lastName)||""}`.trim(),userPhone:((ya=h.shippingAddress)==null?void 0:ya.phone)||"",onPaymentSuccess:async ie=>{w(_e=>({..._e,paymentMethod:_e.paymentMethod?{..._e.paymentMethod,paymentId:ie.paymentId,razorpayOrderId:ie.orderId,signature:ie.signature,paymentStatus:"paid"}:null})),$(1,!0),r("Payment successful! Creating your order..."),setTimeout(()=>{Pe(2),setTimeout(()=>{se()},300)},500)},onPaymentError:ie=>{i(ie.message||"Payment failed. Please try again or use a different payment method.")}}),v&&L>0&&s.jsx("div",{className:`rounded-xl p-5 border-2 transition-all ${L>=2e3?"bg-green-50 border-green-300":"bg-yellow-50 border-yellow-300"}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`p-2 rounded-lg flex-shrink-0 ${L>=2e3?"bg-green-100":"bg-yellow-100"}`,children:L>=2e3?s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):s.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("div",{className:"flex-1",children:L>=2e3?s.jsxs("div",{children:[s.jsx("p",{className:"text-base font-semibold text-green-800 mb-1",children:" Congratulations! You've qualified for FREE DELIVERY!"}),s.jsxs("p",{className:"text-sm text-green-700",children:["Your order value is ",ye(L),", which qualifies for free shipping. No delivery charges will be applied."]})]}):s.jsxs("div",{children:[s.jsx("p",{className:"text-base font-semibold text-yellow-800 mb-1",children:" Get FREE Delivery!"}),s.jsxs("p",{className:"text-sm text-yellow-700 mb-2",children:["Add ",s.jsxs("strong",{className:"font-bold text-yellow-900",children:["",ye(2e3-L)]})," more to your order to qualify for FREE delivery!"]}),s.jsx("div",{className:"w-full bg-yellow-200 rounded-full h-2.5 mt-3",children:s.jsx("div",{className:"bg-yellow-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${Math.min(100,L/2e3*100)}%`}})}),s.jsxs("p",{className:"text-xs text-yellow-600 mt-2",children:[(L/2e3*100).toFixed(0),"% of way to free delivery"]})]})})]})}),s.jsx("div",{className:"border-t border-gray-200 pt-6",children:s.jsx(IN,{appliedDiscount:h.appliedDiscount,onApplyDiscount:we,onRemoveDiscount:_})}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"orderNotes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Notes (Optional)"}),s.jsx("textarea",{id:"orderNotes",value:h.orderNotes,onChange:ie=>w(_e=>({..._e,orderNotes:ie.target.value})),disabled:ee,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",rows:3,placeholder:"Any special instructions for your order..."})]})]});case 2:return s.jsx(LN,{checkoutData:h,cartItems:be,totals:v,shippingMethod:h.shippingMethod,onEdit:Pe,isSubmitting:ee,onPlaceOrder:se});default:return null}};return T||ls?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[s.jsx(_t,{size:"lg"}),s.jsx("h2",{className:"mt-6 text-2xl font-bold text-gray-900",children:"Loading Order Details"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Please wait while we load your order information..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:re?`Retry Payment - Order #${(J==null?void 0:J.orderNumber)||re}`:"Checkout"}),s.jsxs(Me,{to:"/products",className:"text-green-600 hover:text-green-700 text-sm font-medium hover:underline transition-all flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Products"]})]})})}),s.jsx(RN,{steps:p,currentStep:m}),s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-10",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-6 sm:p-8 lg:p-10",children:Be()}),s.jsx("div",{className:"bg-gray-50 px-6 sm:px-8 lg:px-10 py-6 border-t border-gray-200",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-6",children:[s.jsxs("button",{onClick:ce,disabled:m===0||ee,className:"px-8 py-3.5 text-gray-700 bg-white border border-gray-300 rounded-xl font-semibold hover:bg-gray-50 hover:border-gray-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous"]}),s.jsxs("div",{className:"flex items-center gap-6",children:[v&&s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm text-gray-500 font-medium",children:"Order Total"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:ye(v.total)})]}),m<d.length-1&&s.jsxs("button",{onClick:U,disabled:!y[m]||ee,className:"px-8 py-3.5 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center gap-2",children:["Continue",s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})})]})}),s.jsx(zN,{isOpen:oe,onClose:le,orderId:I})]})},W8=()=>{const e=pa();return u.useEffect(()=>{const t=setTimeout(()=>{e("/")},3e3);return()=>clearTimeout(t)},[e]),s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[s.jsx(Pa,{className:"mx-auto h-16 w-16 text-green-500"}),s.jsx("h2",{className:"mt-6 text-2xl font-bold text-gray-900",children:"Payment Processing"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Your payment is being processed. You will be redirected to the home page shortly."}),s.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"With our new modal integration, payment confirmation happens instantly at checkout."}),s.jsx("button",{onClick:()=>e("/"),className:"mt-6 w-full bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition font-semibold",children:"Go to Home Now"})]})})},X8=()=>{const e=pa(),[t]=jf();return u.useEffect(()=>{const a=t.get("error_code"),n=t.get("error_description"),r=t.get("error_reason"),i=!!(a||n||r);let l=null;try{const o=sessionStorage.getItem("pending_razorpay_order");if(o){const c=JSON.parse(o);c.expiry&&Date.now()<c.expiry&&(l={orderId:c.orderId,orderNumber:c.orderNumber||`ORD-${c.orderId}`,amount:c.amount})}}catch{}try{const o={isFailure:i,pendingOrder:l,timestamp:Date.now()};sessionStorage.setItem("payment_cancelled",JSON.stringify(o))}catch{}e("/")},[t,e]),s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[s.jsx(_t,{size:"lg"}),s.jsx("h2",{className:"mt-6 text-2xl font-bold text-gray-900",children:"Processing..."}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Redirecting to home page..."})]})})},Z8=(e,t=!0)=>{const a=t&&!!e.userId&&e.userId>0;return bt({queryKey:["orders",e.userId,e.tenantId,e.page,e.limit,e.status,e.search],queryFn:async()=>await fe.getOrders(e),enabled:a,staleTime:0,gcTime:10*60*1e3,refetchOnMount:"always",refetchOnWindowFocus:!1,refetchOnReconnect:!1,retry:2,retryDelay:n=>Math.min(1e3*2**n,3e4)})},FN=ke.memo(({icon:e,title:t="Something went wrong",error:a,retry:n,className:r=""})=>{const i=u.useMemo(()=>a instanceof Error?a.message:a,[a]),l=u.useMemo(()=>s.jsx("svg",{className:"mx-auto h-12 w-12 sm:h-16 sm:w-16 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),[]);return s.jsx("div",{className:`bg-white rounded-lg border border-red-200 text-center py-12 sm:py-16 px-4 ${r}`,children:s.jsxs("div",{className:"max-w-md mx-auto",children:[e||l,s.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-2 mt-4",children:t}),s.jsx("p",{className:"text-sm sm:text-base text-red-600 mb-4 sm:mb-6 break-words",children:i}),n&&s.jsx("button",{onClick:n.onClick,className:"bg-green-600 text-white px-6 py-2.5 sm:py-3 rounded-lg hover:bg-green-700 transition-colors font-medium text-sm sm:text-base",children:n.label||"Try Again"})]})})},(e,t)=>{var r,i,l,o;const a=e.error instanceof Error?e.error.message:e.error,n=t.error instanceof Error?t.error.message:t.error;return e.title===t.title&&a===n&&e.className===t.className&&((r=e.retry)==null?void 0:r.label)===((i=t.retry)==null?void 0:i.label)&&((l=e.retry)==null?void 0:l.onClick)===((o=t.retry)==null?void 0:o.onClick)&&e.icon===t.icon});FN.displayName="ErrorState";const qN=ke.memo(({icon:e,title:t,description:a,action:n,className:r=""})=>{const i=u.useMemo(()=>s.jsx("svg",{className:"mx-auto h-12 w-12 sm:h-16 sm:w-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2M4 13h2m13-8V4a1 1 0 00-1-1H7a1 1 0 00-1 1v1m8 0V4H9v1m4 0V4h1v1"})}),[]);return s.jsx("div",{className:`bg-white rounded-lg border border-gray-200 text-center py-12 sm:py-16 px-4 ${r}`,children:s.jsxs("div",{className:"max-w-md mx-auto",children:[e||i,s.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-2 mt-4",children:t}),a&&s.jsx("p",{className:"text-sm sm:text-base text-gray-500 mb-6",children:a}),n&&s.jsx("button",{onClick:n.onClick,className:"bg-green-600 text-white px-6 py-2.5 sm:py-3 rounded-lg hover:bg-green-700 transition-colors font-medium text-sm sm:text-base",children:n.label})]})})},(e,t)=>{var a,n,r,i;return e.title===t.title&&e.description===t.description&&e.className===t.className&&((a=e.action)==null?void 0:a.label)===((n=t.action)==null?void 0:n.label)&&((r=e.action)==null?void 0:r.onClick)===((i=t.action)==null?void 0:i.onClick)&&e.icon===t.icon});qN.displayName="EmptyState";const J8=()=>{var M,R;const{user:e}=Ze(),[t,a]=u.useState(1),[n]=u.useState(10),[r,i]=u.useState(null),[l,o]=u.useState(""),[c,d]=u.useState(null),[m,f]=u.useState(new Set);ke.useEffect(()=>{const A=setTimeout(()=>{d(l||null),a(1)},500);return()=>clearTimeout(A)},[l]);const p=u.useMemo(()=>dt(e==null?void 0:e.tenantId),[e==null?void 0:e.tenantId]),x=u.useMemo(()=>({userId:(e==null?void 0:e.userId)||1,tenantId:p,page:t,limit:n,status:r,search:c}),[e==null?void 0:e.userId,p,t,n,r,c]),{data:h,isLoading:w,isFetching:v,error:g,refetch:y}=Z8(x,!!(e!=null&&e.userId)),b=((M=h==null?void 0:h.data)==null?void 0:M.orders)||[],j=(R=h==null?void 0:h.data)==null?void 0:R.pagination;ke.useEffect(()=>{e!=null&&e.userId&&!w&&!h&&y()},[e==null?void 0:e.userId,y,w,h]);const E=A=>{f(z=>{const H=new Set(z);return H.has(A)?H.delete(A):H.add(A),H})},k=A=>`${new Intl.NumberFormat("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2}).format(A)}`,S=A=>new Date(A).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),N=A=>{switch(A.toLowerCase()){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"processing":return"bg-purple-100 text-purple-800";case"shipped":return"bg-green-100 text-green-800";case"delivered":return"bg-green-200 text-green-900";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[s.jsx(Ea,{className:"w-8 h-8 mr-3 text-green-600"}),"My Orders"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"View and manage your orders"})]})})}),s.jsxs("div",{className:"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ws,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search orders by order number...",value:l,onChange:A=>o(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),s.jsxs("select",{value:r||"",onChange:A=>{i(A.target.value||null),a(1)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Status"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"confirmed",children:"Confirmed"}),s.jsx("option",{value:"processing",children:"Processing"}),s.jsx("option",{value:"shipped",children:"Shipped"}),s.jsx("option",{value:"delivered",children:"Delivered"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]}),s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(I2,{className:"w-5 h-5 mr-2"}),s.jsx("span",{className:"text-sm",children:v?"Loading...":`${(j==null?void 0:j.total)||0} orders found`})]})]})}),s.jsxs("div",{className:"relative",children:[v&&s.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 z-10 flex items-center justify-center rounded-lg",children:s.jsx(_t,{})}),g&&!w&&s.jsx("div",{className:"mb-6",children:s.jsx(FN,{title:"Failed to load orders",error:g instanceof Error?g:new Error("An error occurred while loading your orders.")})}),w&&!h&&s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx(_t,{})}),!w&&b.length===0&&!g&&s.jsx(qN,{title:"No orders found",description:"You haven't placed any orders yet.",icon:s.jsx(Ea,{className:"w-16 h-16 text-gray-400"})}),!w&&b.length>0&&s.jsxs("div",{className:"space-y-4",children:[b.map(A=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-4 sm:p-6 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 mb-2",children:[s.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:["Order #",A.orderNumber]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${N(A.status)}`,children:A.status}),s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${N(A.paymentStatus)}`,children:["Payment: ",A.paymentStatus]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 sm:gap-4 text-xs sm:text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(dA,{className:"w-4 h-4"}),s.jsx("span",{children:S(A.createdAt)})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ea,{className:"w-4 h-4"}),s.jsxs("span",{children:[A.totalItems," item",A.totalItems!==1?"s":""]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:k(A.total)}),s.jsxs("div",{className:"text-xs sm:text-sm text-gray-500 mt-0.5",children:["Subtotal: ",k(A.subtotal)]})]}),s.jsx("button",{onClick:()=>E(A.id),className:"flex-shrink-0 p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors","aria-label":m.has(A.id)?"Collapse order":"Expand order",children:m.has(A.id)?s.jsx(yi,{className:"w-5 h-5 sm:w-6 sm:h-6"}):s.jsx(Tn,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})]})}),m.has(A.id)&&s.jsxs("div",{className:"border-t border-gray-200 p-6 bg-gray-50",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Order Items"}),s.jsx("div",{className:"space-y-3",children:A.items.map(z=>s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white rounded-lg border border-gray-200",children:[s.jsx("img",{src:z.productImage,alt:z.productName,className:"w-16 h-16 object-cover rounded-lg",onError:H=>{H.target.src="https://via.placeholder.com/64"}}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h5",{className:"font-medium text-gray-900",children:z.productName}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Code: ",z.productCode]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-medium text-gray-900",children:["Qty: ",z.quantity]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Price: ",k(z.price)]}),s.jsx("div",{className:"font-bold text-green-600 mt-1",children:k(z.total)})]})]},z.orderItemId))}),s.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Shipping:"}),s.jsx("span",{className:"ml-2 font-medium",children:k(A.shippingAmount)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Tax:"}),s.jsx("span",{className:"ml-2 font-medium",children:k(A.taxAmount)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Discount:"}),s.jsx("span",{className:"ml-2 font-medium",children:k(A.discountAmount)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Total:"}),s.jsx("span",{className:"ml-2 font-bold text-lg",children:k(A.total)})]})]}),A.notes&&s.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Note:"})," ",A.notes]})})]})]})]},A.id)),j&&j.totalPages>1&&s.jsxs("div",{className:"flex items-center justify-center gap-2 mt-6",children:[s.jsx("button",{onClick:()=>a(t-1),disabled:t===1||v,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),s.jsxs("span",{className:"px-4 py-2 text-gray-700",children:["Page ",t," of ",j.totalPages]}),s.jsx("button",{onClick:()=>a(t+1),disabled:t>=j.totalPages||v,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})]})]})},eD=(e,t)=>{const a=Qt(),{mutateAsync:n,isPending:r,error:i,isSuccess:l}=vt({mutationFn:async o=>{const c=await Gw(Qw.UPDATE_PROFILE,{method:"POST",body:o});return Yw(c)},onSuccess:o=>{a.invalidateQueries({queryKey:["profile"]}),t==null||t()},onError:o=>{}});return{updateProfile:n,loading:r,error:i,success:l}},tD=()=>{const[e,t]=ke.useState(null),{data:a,isLoading:n,error:r,refetch:i}=bt({queryKey:["profile","lazy",e==null?void 0:e.userId,e==null?void 0:e.tenantId],queryFn:async()=>{if(!e)return null;const o=await Gw(`${Qw.PROFILE}${xR(e)}`);return Yw(o)},enabled:!!e,staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,retry:1}),l=ke.useCallback(async o=>{if((e==null?void 0:e.userId)===o.userId&&(e==null?void 0:e.tenantId)===o.tenantId){a&&await i();return}t(o)},[e,a,i]);return{profile:a,loading:n,error:r,fetchProfile:l}},aD=e=>{const t=(o,c="",d="")=>{if(!o)return{firstName:c,lastName:d};const m=o.trim().split(" ");if(m.length===1)return{firstName:m[0],lastName:""};const f=m.pop()||"";return{firstName:m.join(" "),lastName:f}},a=e.firstName||"",n=e.lastName||"",r=`${a} ${n}`.trim(),{firstName:i,lastName:l}=t(r,a,n);return{userId:e.userId,firstName:i,lastName:l,fullName:`${i} ${l}`.trim(),email:e.email,phone:e.phone||"",active:!0,tenantId:dt(e.tenantId),emailVerified:e.emailVerified||e.isEmailVerified||!1,phoneVerified:e.phoneVerified||e.isPhoneVerified||!1,createdAt:e.createdAt,updatedAt:e.createdAt,lastLogin:e.lastLogin||"",lastLogout:null,profilePicture:e.profilePicture||e.avatar||"",dateOfBirth:null,gender:"",timezone:"UTC",language:"en",country:"",city:"",state:"",postalCode:"",bio:e.bio||"",website:e.website||"",companyName:"",jobTitle:"",preferredContactMethod:"Email",notificationSettings:"",privacySettings:"",roles:[],addresses:[],preferences:[],statistics:{loginCount:0,daysSinceLastActivity:0,profileCompletion:sD(e)}}},sD=e=>{const t=(i,l)=>i&&typeof i=="object"&&l in i?i[l]:null,a="firstName"in e,n=[e.email,a?`${e.firstName} ${e.lastName}`.trim():e.fullName,e.phone,a?e.emailVerified||e.isEmailVerified:e.emailVerified,a?e.phoneVerified||e.isPhoneVerified:e.phoneVerified,a?e.profilePicture||e.avatar:e.profilePicture,t(e,"bio"),t(e,"website")],r=n.filter(i=>i&&i!==""&&i!==null&&i!==void 0).length;return Math.round(r/n.length*100)},nD=e=>e.fullName||`${e.firstName} ${e.lastName}`.trim()||e.email,Zx=ke.memo(({isOpen:e,onClose:t,title:a,children:n,size:r="lg",showCloseButton:i=!0,preventBackdropClose:l=!1,className:o=""})=>{u.useEffect(()=>{const m=f=>{f.key==="Escape"&&e&&t()};return e&&(document.addEventListener("keydown",m),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",m),document.body.style.overflow="unset"}},[e,t]);const c=u.useCallback(m=>{m.target===m.currentTarget&&!l&&t()},[l,t]),d=u.useMemo(()=>({sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl","2xl":"max-w-6xl","4xl":"max-w-7xl"}),[]);return e?s.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:c,"aria-hidden":"true"}),s.jsx("div",{className:"flex min-h-full items-center justify-center p-4 relative",children:s.jsxs("div",{className:`
            relative w-full ${d[r]} bg-white rounded-lg shadow-xl 
            transform transition-all max-h-[90vh] overflow-hidden mx-auto
            ${o}
          `,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",style:{maxWidth:"calc(100vw - 2rem)",margin:"0 auto"},children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-4 sm:p-6 border-b border-gray-200 bg-white sticky top-0 z-10",children:[s.jsx("h2",{id:"modal-title",className:"text-xl font-bold text-gray-900",children:a}),i&&s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors p-3 rounded-full hover:bg-gray-100","aria-label":"Close modal",children:s.jsx(ma,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)]",children:n})]})})]}):null},(e,t)=>e.isOpen===t.isOpen&&e.title===t.title&&e.size===t.size&&e.showCloseButton===t.showCloseButton&&e.preventBackdropClose===t.preventBackdropClose&&e.className===t.className&&e.onClose===t.onClose&&e.children===t.children);Zx.displayName="Modal";const PN=ke.memo(({isOpen:e,onClose:t,onProfileUpdated:a,profile:n})=>{const{user:r}=Ze(),{showSuccess:i,showError:l}=qa(),o=ke.useCallback(()=>{i("Profile updated successfully!"),h("Profile updated successfully!"),v("success"),a==null||a(),setTimeout(()=>{t(),h("")},2e3)},[i,a,t]),{updateProfile:c,loading:d,error:m}=eD(r?parseInt(r.id):0,o),[f,p]=u.useState({firstName:(r==null?void 0:r.firstName)||"",lastName:(r==null?void 0:r.lastName)||"",email:(r==null?void 0:r.email)||"",phone:(r==null?void 0:r.phone)||"",bio:(r==null?void 0:r.bio)||""}),[x,h]=u.useState(""),[w,v]=u.useState("success");ke.useEffect(()=>{if(m){const j=m instanceof Error?m.message:String(m);h(j),v("error"),l(j)}},[m]);const g=j=>{if(j.firstName&&j.lastName)return{firstName:j.firstName,lastName:j.lastName};if(j.fullName&&!j.firstName){const E=j.fullName.trim().split(" ");if(E.length>=2){const k=E.pop()||"";return{firstName:E.join(" "),lastName:k}}return{firstName:j.fullName,lastName:""}}return{firstName:j.firstName||"",lastName:j.lastName||""}};u.useEffect(()=>{if(e&&(n||r)){const j=n||r,E=g(j);p({firstName:E.firstName,lastName:E.lastName,email:(j==null?void 0:j.email)||"",phone:(j==null?void 0:j.phone)||"",bio:(j==null?void 0:j.bio)||""}),h("")}},[e,n,r]);const y=u.useCallback(async j=>{if(j.preventDefault(),h(""),!(r!=null&&r.id)){h("User ID not found"),v("error");return}try{const E=`${f.firstName} ${f.lastName}`.trim();await c({userId:parseInt(r.id),name:E,phone:f.phone,bio:f.bio,website:""})}catch{}},[r==null?void 0:r.id,f,c]),b=u.useCallback((j,E)=>{p(k=>({...k,[j]:E}))},[]);return s.jsx(Zx,{isOpen:e,onClose:t,title:"Edit Profile",size:"md",children:s.jsxs("div",{className:"p-4",children:[x&&s.jsx("div",{className:`mb-3 p-2 rounded-lg text-sm ${w==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:x}),s.jsxs("form",{onSubmit:y,className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Yl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",value:f.firstName,onChange:j=>b("firstName",j.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Yl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",value:f.lastName,onChange:j=>b("lastName",j.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm",required:!0})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(Kf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"email",value:f.email,disabled:!0,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed. Contact support if you need to update your email."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),s.jsxs("div",{className:"relative",children:[s.jsx(U2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"tel",value:f.phone,onChange:j=>b("phone",j.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"+91 98765 43210"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Phone number is optional but recommended for account security"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),s.jsx("textarea",{value:f.bio,onChange:j=>b("bio",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm",placeholder:"Tell us about yourself...",rows:3}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"A brief description about yourself"})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-3",children:[s.jsx("button",{type:"button",onClick:t,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",disabled:d,children:"Cancel"}),s.jsx("button",{type:"submit",disabled:d||!f.firstName||!f.lastName,className:"px-3 py-2 text-sm font-medium text-white bg-green-600 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:d?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(kc,{className:"w-4 h-4 mr-2"}),"Update Profile"]})})]})]})]})})},(e,t)=>{var a,n;return e.isOpen===t.isOpen&&e.onClose===t.onClose&&e.onProfileUpdated===t.onProfileUpdated&&((a=e.profile)==null?void 0:a.userId)===((n=t.profile)==null?void 0:n.userId)});PN.displayName="EditProfileModal";const BN=ke.memo(({isOpen:e,onClose:t})=>{const{user:a}=Ze(),{showSuccess:n,showError:r}=qa(),[i,l]=u.useState({newPassword:"",confirmPassword:""}),[o,c]=u.useState({new:!1,confirm:!1}),[d,m]=u.useState(!1),[f,p]=u.useState(""),[x,h]=u.useState("success"),w=u.useCallback(j=>j.length===0?{score:0,label:"",color:""}:j.length<8?{score:1,label:"Weak",color:"bg-red-500"}:j.length<12?{score:2,label:"Fair",color:"bg-yellow-500"}:j.length<16?{score:3,label:"Good",color:"bg-blue-500"}:{score:4,label:"Strong",color:"bg-green-500"},[]),v=u.useMemo(()=>w(i.newPassword),[w,i.newPassword]),g=u.useCallback(async j=>{if(j.preventDefault(),i.newPassword!==i.confirmPassword){p("New passwords do not match"),h("error");return}if(i.newPassword.length<8){p("New password must be at least 8 characters long"),h("error");return}if(!(a!=null&&a.id)){p("User ID not found"),h("error");return}m(!0),p("");try{const E={userId:a.id,newPassword:i.newPassword,confirmPassword:i.confirmPassword};await fe.resetPassword(E),n("Password reset successfully!"),l({newPassword:"",confirmPassword:""}),setTimeout(()=>{t(),p("")},1e3)}catch(E){const k=E.message||"Failed to change password";p(k),h("error"),r(k)}finally{m(!1)}},[i,a==null?void 0:a.id,n,r,t]),y=u.useCallback((j,E)=>{l(k=>({...k,[j]:E}))},[]),b=u.useCallback(j=>{c(E=>({...E,[j]:!E[j]}))},[]);return s.jsx(Zx,{isOpen:e,onClose:t,title:"Change Password",size:"md",children:s.jsxs("div",{className:"p-6",children:[f&&s.jsx("div",{className:`mb-4 p-3 rounded-lg ${x==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:f}),s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Gl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:o.new?"text":"password",value:i.newPassword,onChange:j=>y("newPassword",j.target.value),className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0}),s.jsx("button",{type:"button",onClick:()=>b("new"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.new?s.jsx(L2,{className:"w-4 h-4"}):s.jsx(Is,{className:"w-4 h-4"})})]}),i.newPassword&&s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 mb-1",children:[s.jsx("span",{children:"Password strength:"}),s.jsx("span",{className:"font-medium",children:v.label})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:s.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${v.color}`,style:{width:`${v.score/4*100}%`}})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Gl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:o.confirm?"text":"password",value:i.confirmPassword,onChange:j=>y("confirmPassword",j.target.value),className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0}),s.jsx("button",{type:"button",onClick:()=>b("confirm"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.confirm?s.jsx(L2,{className:"w-4 h-4"}):s.jsx(Is,{className:"w-4 h-4"})})]}),i.confirmPassword&&s.jsx("div",{className:"mt-1",children:i.newPassword===i.confirmPassword?s.jsx("span",{className:"text-xs text-green-600",children:" Passwords match"}):s.jsx("span",{className:"text-xs text-red-600",children:" Passwords do not match"})})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-6",children:[s.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Password Requirements:"}),s.jsxs("ul",{className:"text-xs text-blue-800 space-y-1",children:[s.jsx("li",{children:" At least 8 characters long"}),s.jsx("li",{children:" Use a mix of letters, numbers, and symbols"}),s.jsx("li",{children:" Avoid common words and patterns"}),s.jsx("li",{children:" Make it unique and hard to guess"})]})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",disabled:d,children:"Cancel"}),s.jsx("button",{type:"submit",disabled:d||!i.newPassword||!i.confirmPassword||i.newPassword!==i.confirmPassword,className:"px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:d?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Changing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(kc,{className:"w-4 h-4 mr-2"}),"Change Password"]})})]})]})]})})},(e,t)=>e.isOpen===t.isOpen&&e.onClose===t.onClose);BN.displayName="ChangePasswordModal";const rD=()=>{const{user:e,requestVerification:t,logout:a}=Ze(),n=ta(),r=pa(),{profile:i,loading:l,error:o,fetchProfile:c}=tD(),[d,m]=u.useState(!1),[f,p]=u.useState(""),[x,h]=u.useState("info"),[w,v]=u.useState(!1),[g,y]=u.useState(!1),b=u.useMemo(()=>{if(!(e!=null&&e.id)||!(e!=null&&e.tenantId))return null;const S=typeof e.id=="string"?parseInt(e.id,10):e.id,N=typeof e.tenantId=="string"?parseInt(e.tenantId,10):e.tenantId;return isNaN(S)||isNaN(N)||S<=0||N<=0?null:{userId:S,tenantId:N}},[e==null?void 0:e.id,e==null?void 0:e.tenantId]),j=i||(e?aD(e):null);u.useEffect(()=>{const S=n.state;S!=null&&S.message&&(p(S.message),h("info"),r("/profile",{replace:!0}))},[n.state,r]),u.useEffect(()=>{b&&c(b)},[]),u.useEffect(()=>{w&&b&&c(b)},[w]),u.useEffect(()=>{},[o]);const E=async S=>{if(!j)return;const N=S==="email"?j.email:j.phone;if(!N){p(`Please add a ${S} to your profile first`),h("error");return}m(!0);try{await t(S,N),r("/email-verification",{state:{method:S,contact:N,fromRegister:!1}})}catch(M){p(M.message||`Failed to send ${S} verification`),h("error")}finally{m(!1)}},k=async()=>{try{await a(),r("/login",{state:{message:"You have been logged out successfully"}})}catch{r("/login",{state:{message:"You have been logged out"}})}};return!j||l&&!i?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(_t,{size:"lg"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading your profile..."})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Yl,{className:"w-8 h-8 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:nD(j)}),s.jsx("p",{className:"text-gray-600",children:j.email})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:()=>v(!0),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[s.jsx(bA,{className:"w-4 h-4 mr-2"}),"Edit"]}),s.jsxs("button",{onClick:k,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center",children:[s.jsx(gA,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}),f&&s.jsx("div",{className:`mb-6 p-4 rounded-lg ${x==="success"?"bg-green-50 text-green-700":x==="error"?"bg-red-50 text-red-700":"bg-blue-50 text-blue-700"}`,children:s.jsxs("div",{className:"flex items-center",children:[x==="success"?s.jsx(Pa,{className:"h-5 w-5 mr-3"}):x==="error"?s.jsx(Mn,{className:"h-5 w-5 mr-3"}):s.jsx(jr,{className:"h-5 w-5 mr-3"}),s.jsx("p",{className:"font-medium",children:f})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Profile Details"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 block mb-1",children:"Full Name"}),s.jsx("p",{className:"text-base text-gray-900",children:j.fullName})]}),s.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 block mb-1",children:"Email Address"}),s.jsx("p",{className:"text-base text-gray-900",children:j.email}),j.emailVerified?s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 mt-1",children:[s.jsx(Pa,{className:"w-3 h-3 mr-1"}),"Verified"]}):s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 mt-1",children:[s.jsx(jr,{className:"w-3 h-3 mr-1"}),"Unverified"]})]}),s.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 block mb-1",children:"Phone Number"}),j.phone?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-base text-gray-900",children:j.phone}),j.phoneVerified?s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 mt-1",children:[s.jsx(Pa,{className:"w-3 h-3 mr-1"}),"Verified"]}):s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 mt-1",children:[s.jsx(jr,{className:"w-3 h-3 mr-1"}),"Unverified"]})]}):s.jsx("p",{className:"text-gray-400",children:"Not provided"})]}),s.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Account Security"}),s.jsxs("div",{className:"space-y-2",children:[!j.emailVerified&&s.jsx("button",{onClick:()=>E("email"),disabled:d,className:"w-full py-2 px-4 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors text-sm",children:d?"Sending...":"Verify Email"}),j.phone&&!j.phoneVerified&&s.jsx("button",{onClick:()=>E("phone"),disabled:d,className:"w-full py-2 px-4 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors text-sm",children:d?"Sending...":"Verify Phone"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Quick Actions"}),s.jsx("button",{onClick:()=>y(!0),className:"w-full text-left py-2 text-sm text-gray-700 hover:text-green-600",children:"Change Password"})]})]})]}),s.jsx(PN,{isOpen:w,profile:i,onClose:()=>{v(!1),b&&c(b)},onProfileUpdated:async()=>{b&&await c(b)}}),s.jsx(BN,{isOpen:g,onClose:()=>y(!1)})]})})},iD=()=>{const{showSuccess:e,showError:t}=qa(),[a,n]=u.useState({name:"",email:"",phone:"",subject:"",message:""}),[r,i]=u.useState(!1),[l,o]=u.useState(!1),c=m=>{const{name:f,value:p}=m.target;n(x=>({...x,[f]:p}))},d=async m=>{if(m.preventDefault(),i(!0),!a.name||!a.email||!a.message){t("Please fill in all required fields"),i(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)){t("Please enter a valid email address"),i(!1);return}try{await new Promise(p=>setTimeout(p,1e3)),e("Thank you for contacting us! We will get back to you soon."),o(!0),n({name:"",email:"",phone:"",subject:"",message:""}),setTimeout(()=>{o(!1)},3e3)}catch{t("Failed to send message. Please try again later.")}finally{i(!1)}};return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8 sm:py-12",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Get in Touch"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"We'd love to hear from you. Send us a message and we'll respond as soon as possible."})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 space-y-6",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Contact Information"}),s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Kf,{className:"w-6 h-6 text-green-600"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Email"}),s.jsx("a",{href:"mailto:support@xtrachef.com",className:"text-gray-900 hover:text-green-600 transition-colors",children:"support@xtrachef.com"})]})]}),s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(U2,{className:"w-6 h-6 text-green-600"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Phone"}),s.jsx("a",{href:"tel:+911234567890",className:"text-gray-900 hover:text-green-600 transition-colors",children:"+91 123 456 7890"})]})]}),s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Ec,{className:"w-6 h-6 text-green-600"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Address"}),s.jsxs("p",{className:"text-gray-900",children:["123 Business Street",s.jsx("br",{}),"City, State 123456",s.jsx("br",{}),"India"]})]})]}),s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Hu,{className:"w-6 h-6 text-green-600"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Business Hours"}),s.jsxs("div",{className:"text-gray-900 space-y-1",children:[s.jsx("p",{children:"Monday - Friday: 9:00 AM - 6:00 PM"}),s.jsx("p",{children:"Saturday: 10:00 AM - 4:00 PM"}),s.jsx("p",{children:"Sunday: Closed"})]})]})]})]})}),s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sm:p-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Send us a Message"}),l&&s.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center space-x-3",children:[s.jsx(Pa,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),s.jsx("p",{className:"text-green-800",children:"Your message has been sent successfully!"})]}),s.jsxs("form",{onSubmit:d,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:["Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:c,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",placeholder:"Your full name"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:c,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",placeholder:"your.email@example.com"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),s.jsx("input",{type:"tel",id:"phone",name:"phone",value:a.phone,onChange:c,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",placeholder:"+91 123 456 7890"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),s.jsxs("select",{id:"subject",name:"subject",value:a.subject,onChange:c,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",children:[s.jsx("option",{value:"",children:"Select a subject"}),s.jsx("option",{value:"general",children:"General Inquiry"}),s.jsx("option",{value:"order",children:"Order Related"}),s.jsx("option",{value:"product",children:"Product Question"}),s.jsx("option",{value:"support",children:"Technical Support"}),s.jsx("option",{value:"feedback",children:"Feedback"}),s.jsx("option",{value:"other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:["Message ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{id:"message",name:"message",value:a.message,onChange:c,required:!0,rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors resize-none",placeholder:"Tell us how we can help you..."})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:r,className:"w-full sm:w-auto px-8 py-3 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:r?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Sending..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(q2,{className:"w-5 h-5"}),s.jsx("span",{children:"Send Message"})]})})})]})]})})]}),s.jsxs("div",{className:"mt-12 bg-white rounded-lg shadow-md p-6 sm:p-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Frequently Asked Questions"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"How can I track my order?"}),s.jsx("p",{className:"text-gray-600 text-sm",children:`Once your order is shipped, you'll receive a tracking number via email. You can also check your order status in the "My Orders" section.`})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"What is your return policy?"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"We offer a 7-day return policy for unused items in original packaging. Please contact us for return authorization."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Do you offer free shipping?"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Yes! We offer free shipping on orders over 2000. Standard shipping charges apply for orders below this amount."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"How can I cancel my order?"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"You can cancel your order within 24 hours of placing it. After that, please contact our support team for assistance."})]})]})]})]})})},lD=({title:e})=>s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:e}),s.jsx("p",{className:"text-gray-600",children:"This page is coming soon!"})]})});function HN(){return s.jsx(CA,{children:s.jsx(nA,{children:s.jsx(Kk,{children:s.jsx(aA,{children:s.jsx(k6,{children:s.jsxs(a6,{children:[s.jsx(yt,{path:"/",element:s.jsx(Rt,{children:s.jsx(IA,{})})}),s.jsx(yt,{path:"/products",element:s.jsx(Rt,{children:s.jsx(tx,{})})}),s.jsx(yt,{path:"/product/:productId",element:s.jsx(Rt,{children:s.jsx(PA,{})})}),s.jsx(yt,{path:"/login",element:s.jsx(Rt,{children:s.jsx(HA,{})})}),s.jsx(yt,{path:"/register",element:s.jsx(Rt,{children:s.jsx(VA,{})})}),s.jsx(yt,{path:"/contact",element:s.jsx(Rt,{children:s.jsx(iD,{})})}),s.jsx(yt,{path:"/wishlist",element:s.jsx(fa,{children:s.jsx(Rt,{children:s.jsx(F8,{})})})}),s.jsx(yt,{path:"/orders",element:s.jsx(fa,{children:s.jsx(Rt,{children:s.jsx(J8,{})})})}),s.jsx(yt,{path:"/profile",element:s.jsx(fa,{children:s.jsx(Rt,{children:s.jsx(rD,{})})})}),s.jsx(yt,{path:"/checkout",element:s.jsx(fa,{children:s.jsx(Rt,{children:s.jsx(K8,{})})})}),s.jsx(yt,{path:"/payment/success",element:s.jsx(fa,{children:s.jsx(W8,{})})}),s.jsx(yt,{path:"/payment/cancel",element:s.jsx(fa,{children:s.jsx(X8,{})})}),s.jsx(yt,{path:"/admin/dashboard",element:s.jsx(fa,{adminOnly:!0,children:s.jsx(Rt,{children:s.jsx(U8,{})})})}),s.jsx(yt,{path:"/admin/categories",element:s.jsx(fa,{requiredPermissions:[ue.MANAGE_CATEGORIES],children:s.jsx(Rt,{children:s.jsx(QA,{})})})}),s.jsx(yt,{path:"/admin/products",element:s.jsx(fa,{requiredPermissions:[ue.MANAGE_PRODUCTS],children:s.jsx(Rt,{children:s.jsx(Xw,{})})})}),s.jsx(yt,{path:"/admin/images",element:s.jsx(fa,{requiredPermissions:[ue.MANAGE_IMAGES],children:s.jsx(Rt,{children:s.jsx(k8,{})})})}),s.jsx(yt,{path:"/admin/users",element:s.jsx(fa,{requiredPermissions:[ue.MANAGE_USERS],children:s.jsx(Rt,{children:s.jsx(_8,{})})})}),s.jsx(yt,{path:"/admin/orders",element:s.jsx(fa,{requiredPermissions:[ue.MANAGE_ORDERS],children:s.jsx(Rt,{children:s.jsx(L8,{})})})}),s.jsx(yt,{path:"/admin/coupons",element:s.jsx(fa,{requiredPermissions:[ue.MANAGE_COUPONS],children:s.jsx(Rt,{children:s.jsx(I8,{})})})}),s.jsx(yt,{path:"/admin/addresses",element:s.jsx(fa,{requiredPermissions:[ue.MANAGE_ALL_ADDRESSES],children:s.jsx(Rt,{children:s.jsx(z8,{})})})}),s.jsx(yt,{path:"/addresses",element:s.jsx(fa,{children:s.jsx(Rt,{children:s.jsx($8,{})})})}),s.jsx(yt,{path:"/products/manage",element:s.jsx(fa,{children:s.jsx(Rt,{children:s.jsx(Xw,{})})})}),s.jsx(yt,{path:"/:menuName",element:s.jsx(Rt,{children:s.jsx(tx,{})})}),s.jsx(yt,{path:"/:menuName/:categorySlug",element:s.jsx(Rt,{children:s.jsx(tx,{})})}),s.jsx(yt,{path:"*",element:s.jsx(Rt,{children:s.jsx(lD,{title:"Page Not Found"})})})]})})})})})})}Sa("ContainerApiBaseUrl")||kn("ContainerApiBaseUrl",`${ns}/`);const oD=e3({React:ke,ReactDOMClient:Fv,rootComponent:HN,errorBoundary(e,t,a){return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50",children:s.jsxs("div",{className:"text-center p-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"The application encountered an error."}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Reload Page"})]})})}}),{bootstrap:cD,mount:dD,unmount:uD}=oD;if($e({bootstrap:cD,mount:dD,unmount:uD}),!window.singleSpaNavigate){const e=document.getElementById("root");e&&Fv.createRoot(e).render(s.jsx(ke.StrictMode,{children:s.jsx(HN,{})}))}}}});
